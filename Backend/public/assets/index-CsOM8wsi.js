const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSection-DqHwXhIZ.js","assets/vendor-C35Cq8M9.js","assets/MissionSection-Cs7czrbq.js","assets/ServicesSection-vkdt_6p-.js"])))=>i.map(i=>d[i]);
import{r as wc,a as jc,g as Nc,b as i,L as qe,u as Sc,c as Ut,d as gs,R as bo,e as Cc,f as kc,h as Re,B as Lc}from"./vendor-C35Cq8M9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var na={exports:{}},ks={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr;function Ec(){if(xr)return ks;xr=1;var s=wc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,m){var u,f={},v=null,h=null;m!==void 0&&(v=""+m),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(h=d.ref);for(u in d)a.call(d,u)&&!o.hasOwnProperty(u)&&(f[u]=d[u]);if(c&&c.defaultProps)for(u in d=c.defaultProps,d)f[u]===void 0&&(f[u]=d[u]);return{$$typeof:t,type:c,key:v,ref:h,props:f,_owner:r.current}}return ks.Fragment=n,ks.jsx=l,ks.jsxs=l,ks}var br;function Pc(){return br||(br=1,na.exports=Ec()),na.exports}var e=Pc(),on={},yr;function Mc(){if(yr)return on;yr=1;var s=jc();return on.createRoot=s.createRoot,on.hydrateRoot=s.hydrateRoot,on}var Oc=Mc();const Ac=Nc(Oc);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(s,t)=>{const n=i.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...m},u)=>i.createElement("svg",{ref:u,...Dc,width:r,height:r,stroke:a,strokeWidth:l?Number(o)*24/Number(r):o,className:["lucide",`lucide-${Tc(s)}`,c].join(" "),...m},[...t.map(([f,v])=>i.createElement(f,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ue("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ue("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ue("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ue("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ue("WashingMachine",[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kr=()=>{const[s,t]=i.useState(null),[n,a]=i.useState(!1);i.useEffect(()=>{const o=l=>{l.preventDefault(),t(l),a(!0)};return window.addEventListener("beforeinstallprompt",o),()=>window.removeEventListener("beforeinstallprompt",o)},[]);const r=()=>{s&&(s.prompt(),s.userChoice.then(o=>{o.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null),a(!1)}))};return n?e.jsx("button",{onClick:r,className:"bg-blue-500 text-white px-4 py-2 rounded shadow-md hover:bg-blue-600",children:"Download App"}):null};function Ds({searchQuery:s,onSearchChange:t,cartItemCount:n,onCartClick:a}){const[r,o]=i.useState(!1),[l,c]=i.useState(!1);return i.useEffect(()=>{const d=localStorage.getItem("token");c(!!d)},[]),e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($s,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-600"}),e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"FoldMate"})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md ml-8",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by product or washerman name...",value:s,onChange:d=>t(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(qe,{to:"/",className:"text-slate-700 hover:text-blue-600",children:"Home"}),e.jsx(qe,{to:"/about",className:"text-slate-700 hover:text-blue-600",children:"About"}),e.jsx(qe,{to:"/contact",className:"text-slate-700 hover:text-blue-600",children:"Contact"}),e.jsx(qe,{to:"/orders",className:"text-slate-700 hover:text-blue-600",children:"Order"}),l?e.jsx(qe,{to:"/customerdashboard",className:"text-slate-700 hover:text-blue-600",children:"Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsxs(qe,{to:"/signin",className:"flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Pa,{className:"w-4 h-4 mr-1"}),"Sign In"]}),e.jsxs(qe,{to:"/signup",className:"flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Gc,{className:"w-4 h-4 mr-1"}),"Sign Up"]})]}),e.jsxs("button",{onClick:a,className:"relative p-2 text-gray-700 hover:text-blue-600",children:[e.jsx(Nr,{className:"w-5 h-5"}),n&&n>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:n})]}),e.jsx(kr,{})]}),e.jsx("button",{onClick:()=>o(!r),className:"md:hidden text-gray-800","aria-label":"Toggle menu",children:r?e.jsx(hs,{className:"h-6 w-6"}):e.jsx(ko,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"md:hidden mt-2 mb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:d=>t(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})}),r&&e.jsxs("div",{className:"md:hidden bg-white p-4 shadow-lg rounded-md",children:[e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx(qe,{to:"/",className:"block text-slate-700 hover:text-blue-600",children:"Home"})}),e.jsx("li",{children:e.jsx(qe,{to:"/about",className:"block text-slate-700 hover:text-blue-600",children:"About"})}),e.jsx("li",{children:e.jsx(qe,{to:"/contact",className:"block text-slate-700 hover:text-blue-600",children:"Contact"})}),e.jsx("li",{children:e.jsx(qe,{to:"/orders",className:"block text-slate-700 hover:text-blue-600",children:"Order"})}),e.jsx("li",{children:e.jsxs(qe,{to:"/NearbyWashermenMap",className:"flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Co,{className:"w-4 h-4 mr-1"})," Map"]})}),l?e.jsx("li",{children:e.jsx(qe,{to:"/customerdashboard",className:"block text-slate-700 hover:text-blue-600",children:"Dashboard"})}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(qe,{to:"/signin",className:"block text-slate-700 hover:text-blue-600",children:"Sign In"})}),e.jsx("li",{children:e.jsx(qe,{to:"/signup",className:"block text-slate-700 hover:text-blue-600",children:"Sign Up"})})]}),e.jsx("li",{children:e.jsxs("button",{onClick:a,className:"relative flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Nr,{className:"w-5 h-5 mr-1"}),"Cart",n&&n>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:n})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(kr,{})})]})]})})}function Jc({service:s,onAddToCart:t}){var p;const[n,a]=i.useState(0),[r,o]=i.useState([]),[l,c]=i.useState(!1),d=b=>{const g=Math.max(0,n+b);a(g),g===0&&o([])},m=b=>{o(g=>g.includes(b)?g.filter(k=>k!==b):[...g,b])},u=()=>r.reduce((g,k)=>{var P;const C=(P=s.options)==null?void 0:P.find(w=>w._id===k);return g+((C==null?void 0:C.price)||0)},0)*n,f=()=>{n>0&&r.length>0&&(t(s,n,r),o([]),c(!1))},v=n>0&&r.length>0,h=s.options&&s.options.length>0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:s.name}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Washerman: ",(p=s.washerman)==null?void 0:p.name]})]}),h&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full p-2 md:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700",children:l?"Hide Services":"Select Services *"}),l?e.jsx(jo,{className:"w-4 h-4 text-gray-500"}):e.jsx(wo,{className:"w-4 h-4 text-gray-500"})]}),l&&e.jsx("div",{className:"mt-3 space-y-2",children:s.options.map(b=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:r.includes(b._id),onChange:()=>m(b._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 flex justify-between",children:[e.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:b.name}),e.jsxs("span",{className:"text-xs md:text-sm font-medium text-blue-600",children:["₹",b.price]})]})]},b._id))}),n>0&&r.length===0&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-red-600",children:"Please select at least one service to continue"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("button",{onClick:()=>d(-1),disabled:n===0,className:"p-1.5 md:p-2 rounded-full border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:e.jsx(Lo,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx("span",{className:"text-base md:text-lg font-semibold w-6 md:w-8 text-center",children:n}),e.jsx("button",{onClick:()=>d(1),className:"p-1.5 md:p-2 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors",children:e.jsx(Ot,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),n>0&&u()>0&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-base md:text-lg font-bold text-blue-600",children:["₹",u()]})]})]}),n>0&&e.jsx("button",{onClick:f,disabled:!v,className:`w-full mt-4 py-2 px-4 rounded-lg font-medium text-sm md:text-base transition-colors ${v?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:!v&&r.length===0?"Select Services to Add to Cart":"Add to Cart"})]})]})}function Oo(s,t){return function(){return s.apply(t,arguments)}}const{toString:Kc}=Object.prototype,{getPrototypeOf:Ma}=Object,{iterator:_n,toStringTag:Ao}=Symbol,Un=(s=>t=>{const n=Kc.call(t);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yt=s=>(s=s.toLowerCase(),t=>Un(t)===s),zn=s=>t=>typeof t===s,{isArray:fs}=Array,Ts=zn("undefined");function Yc(s){return s!==null&&!Ts(s)&&s.constructor!==null&&!Ts(s.constructor)&&tt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Do=yt("ArrayBuffer");function Xc(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&Do(s.buffer),t}const Qc=zn("string"),tt=zn("function"),To=zn("number"),Hn=s=>s!==null&&typeof s=="object",ed=s=>s===!0||s===!1,hn=s=>{if(Un(s)!=="object")return!1;const t=Ma(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ao in s)&&!(_n in s)},td=yt("Date"),sd=yt("File"),nd=yt("Blob"),ad=yt("FileList"),rd=s=>Hn(s)&&tt(s.pipe),id=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||tt(s.append)&&((t=Un(s))==="formdata"||t==="object"&&tt(s.toString)&&s.toString()==="[object FormData]"))},od=yt("URLSearchParams"),[ld,cd,dd,ud]=["ReadableStream","Request","Response","Headers"].map(yt),hd=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _s(s,t,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let a,r;if(typeof s!="object"&&(s=[s]),fs(s))for(a=0,r=s.length;a<r;a++)t.call(null,s[a],a,s);else{const o=n?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let c;for(a=0;a<l;a++)c=o[a],t.call(null,s[c],c,s)}}function Io(s,t){t=t.toLowerCase();const n=Object.keys(s);let a=n.length,r;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Gt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bo=s=>!Ts(s)&&s!==Gt;function va(){const{caseless:s}=Bo(this)&&this||{},t={},n=(a,r)=>{const o=s&&Io(t,r)||r;hn(t[o])&&hn(a)?t[o]=va(t[o],a):hn(a)?t[o]=va({},a):fs(a)?t[o]=a.slice():t[o]=a};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&_s(arguments[a],n);return t}const md=(s,t,n,{allOwnKeys:a}={})=>(_s(t,(r,o)=>{n&&tt(r)?s[o]=Oo(r,n):s[o]=r},{allOwnKeys:a}),s),pd=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),gd=(s,t,n,a)=>{s.prototype=Object.create(t.prototype,a),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),n&&Object.assign(s.prototype,n)},fd=(s,t,n,a)=>{let r,o,l;const c={};if(t=t||{},s==null)return t;do{for(r=Object.getOwnPropertyNames(s),o=r.length;o-- >0;)l=r[o],(!a||a(l,s,t))&&!c[l]&&(t[l]=s[l],c[l]=!0);s=n!==!1&&Ma(s)}while(s&&(!n||n(s,t))&&s!==Object.prototype);return t},vd=(s,t,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=t.length;const a=s.indexOf(t,n);return a!==-1&&a===n},xd=s=>{if(!s)return null;if(fs(s))return s;let t=s.length;if(!To(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=s[t];return n},bd=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Ma(Uint8Array)),yd=(s,t)=>{const a=(s&&s[_n]).call(s);let r;for(;(r=a.next())&&!r.done;){const o=r.value;t.call(s,o[0],o[1])}},wd=(s,t)=>{let n;const a=[];for(;(n=s.exec(t))!==null;)a.push(n);return a},jd=yt("HTMLFormElement"),Nd=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),Lr=(({hasOwnProperty:s})=>(t,n)=>s.call(t,n))(Object.prototype),Sd=yt("RegExp"),Ro=(s,t)=>{const n=Object.getOwnPropertyDescriptors(s),a={};_s(n,(r,o)=>{let l;(l=t(r,o,s))!==!1&&(a[o]=l||r)}),Object.defineProperties(s,a)},Cd=s=>{Ro(s,(t,n)=>{if(tt(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=s[n];if(tt(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kd=(s,t)=>{const n={},a=r=>{r.forEach(o=>{n[o]=!0})};return fs(s)?a(s):a(String(s).split(t)),n},Ld=()=>{},Ed=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function Pd(s){return!!(s&&tt(s.append)&&s[Ao]==="FormData"&&s[_n])}const Md=s=>{const t=new Array(10),n=(a,r)=>{if(Hn(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[r]=a;const o=fs(a)?[]:{};return _s(a,(l,c)=>{const d=n(l,r+1);!Ts(d)&&(o[c]=d)}),t[r]=void 0,o}}return a};return n(s,0)},Od=yt("AsyncFunction"),Ad=s=>s&&(Hn(s)||tt(s))&&tt(s.then)&&tt(s.catch),Fo=((s,t)=>s?setImmediate:t?((n,a)=>(Gt.addEventListener("message",({source:r,data:o})=>{r===Gt&&o===n&&a.length&&a.shift()()},!1),r=>{a.push(r),Gt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(Gt.postMessage)),Dd=typeof queueMicrotask<"u"?queueMicrotask.bind(Gt):typeof process<"u"&&process.nextTick||Fo,Td=s=>s!=null&&tt(s[_n]),O={isArray:fs,isArrayBuffer:Do,isBuffer:Yc,isFormData:id,isArrayBufferView:Xc,isString:Qc,isNumber:To,isBoolean:ed,isObject:Hn,isPlainObject:hn,isReadableStream:ld,isRequest:cd,isResponse:dd,isHeaders:ud,isUndefined:Ts,isDate:td,isFile:sd,isBlob:nd,isRegExp:Sd,isFunction:tt,isStream:rd,isURLSearchParams:od,isTypedArray:bd,isFileList:ad,forEach:_s,merge:va,extend:md,trim:hd,stripBOM:pd,inherits:gd,toFlatObject:fd,kindOf:Un,kindOfTest:yt,endsWith:vd,toArray:xd,forEachEntry:yd,matchAll:wd,isHTMLForm:jd,hasOwnProperty:Lr,hasOwnProp:Lr,reduceDescriptors:Ro,freezeMethods:Cd,toObjectSet:kd,toCamelCase:Nd,noop:Ld,toFiniteNumber:Ed,findKey:Io,global:Gt,isContextDefined:Bo,isSpecCompliantForm:Pd,toJSONObject:Md,isAsyncFn:Od,isThenable:Ad,setImmediate:Fo,asap:Dd,isIterable:Td};function de(s,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}O.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const $o=de.prototype,_o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{_o[s]={value:s}});Object.defineProperties(de,_o);Object.defineProperty($o,"isAxiosError",{value:!0});de.from=(s,t,n,a,r,o)=>{const l=Object.create($o);return O.toFlatObject(s,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),de.call(l,s.message,t,n,a,r),l.cause=s,l.name=s.name,o&&Object.assign(l,o),l};const Id=null;function xa(s){return O.isPlainObject(s)||O.isArray(s)}function Uo(s){return O.endsWith(s,"[]")?s.slice(0,-2):s}function Er(s,t,n){return s?s.concat(t).map(function(r,o){return r=Uo(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function Bd(s){return O.isArray(s)&&!s.some(xa)}const Rd=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function qn(s,t,n){if(!O.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!O.isUndefined(g[b])});const a=n.metaTokens,r=n.visitor||u,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(r))throw new TypeError("visitor must be a function");function m(p){if(p===null)return"";if(O.isDate(p))return p.toISOString();if(O.isBoolean(p))return p.toString();if(!d&&O.isBlob(p))throw new de("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(p)||O.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,g){let k=p;if(p&&!g&&typeof p=="object"){if(O.endsWith(b,"{}"))b=a?b:b.slice(0,-2),p=JSON.stringify(p);else if(O.isArray(p)&&Bd(p)||(O.isFileList(p)||O.endsWith(b,"[]"))&&(k=O.toArray(p)))return b=Uo(b),k.forEach(function(P,w){!(O.isUndefined(P)||P===null)&&t.append(l===!0?Er([b],w,o):l===null?b:b+"[]",m(P))}),!1}return xa(p)?!0:(t.append(Er(g,b,o),m(p)),!1)}const f=[],v=Object.assign(Rd,{defaultVisitor:u,convertValue:m,isVisitable:xa});function h(p,b){if(!O.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),O.forEach(p,function(k,C){(!(O.isUndefined(k)||k===null)&&r.call(t,k,O.isString(C)?C.trim():C,b,v))===!0&&h(k,b?b.concat(C):[C])}),f.pop()}}if(!O.isObject(s))throw new TypeError("data must be an object");return h(s),t}function Pr(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Oa(s,t){this._pairs=[],s&&qn(s,this,t)}const zo=Oa.prototype;zo.append=function(t,n){this._pairs.push([t,n])};zo.toString=function(t){const n=t?function(a){return t.call(this,a,Pr)}:Pr;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Fd(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ho(s,t,n){if(!t)return s;const a=n&&n.encode||Fd;O.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=O.isURLSearchParams(t)?t.toString():new Oa(t,n).toString(a),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class Mr{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(a){a!==null&&t(a)})}}const qo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$d=typeof URLSearchParams<"u"?URLSearchParams:Oa,_d=typeof FormData<"u"?FormData:null,Ud=typeof Blob<"u"?Blob:null,zd={isBrowser:!0,classes:{URLSearchParams:$d,FormData:_d,Blob:Ud},protocols:["http","https","file","blob","url","data"]},Aa=typeof window<"u"&&typeof document<"u",ba=typeof navigator=="object"&&navigator||void 0,Hd=Aa&&(!ba||["ReactNative","NativeScript","NS"].indexOf(ba.product)<0),qd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vd=Aa&&window.location.href||"http://localhost",Wd=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Aa,hasStandardBrowserEnv:Hd,hasStandardBrowserWebWorkerEnv:qd,navigator:ba,origin:Vd},Symbol.toStringTag,{value:"Module"})),We={...Wd,...zd};function Zd(s,t){return qn(s,new We.classes.URLSearchParams,Object.assign({visitor:function(n,a,r,o){return We.isNode&&O.isBuffer(n)?(this.append(a,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Gd(s){return O.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jd(s){const t={},n=Object.keys(s);let a;const r=n.length;let o;for(a=0;a<r;a++)o=n[a],t[o]=s[o];return t}function Vo(s){function t(n,a,r,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=n.length;return l=!l&&O.isArray(r)?r.length:l,d?(O.hasOwnProp(r,l)?r[l]=[r[l],a]:r[l]=a,!c):((!r[l]||!O.isObject(r[l]))&&(r[l]=[]),t(n,a,r[l],o)&&O.isArray(r[l])&&(r[l]=Jd(r[l])),!c)}if(O.isFormData(s)&&O.isFunction(s.entries)){const n={};return O.forEachEntry(s,(a,r)=>{t(Gd(a),r,n,0)}),n}return null}function Kd(s,t,n){if(O.isString(s))try{return(t||JSON.parse)(s),O.trim(s)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(s)}const Us={transitional:qo,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,o=O.isObject(t);if(o&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return r?JSON.stringify(Vo(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Zd(t,this.formSerializer).toString();if((c=O.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return qn(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),Kd(t)):t}],transformResponse:[function(t){const n=this.transitional||Us.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(a&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?de.from(c,de.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],s=>{Us.headers[s]={}});const Yd=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xd=s=>{const t={};let n,a,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),a=l.substring(r+1).trim(),!(!n||t[n]&&Yd[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},Or=Symbol("internals");function Ls(s){return s&&String(s).trim().toLowerCase()}function mn(s){return s===!1||s==null?s:O.isArray(s)?s.map(mn):String(s)}function Qd(s){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(s);)t[a[1]]=a[2];return t}const eu=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function aa(s,t,n,a,r){if(O.isFunction(a))return a.call(this,t,n);if(r&&(t=n),!!O.isString(t)){if(O.isString(a))return t.indexOf(a)!==-1;if(O.isRegExp(a))return a.test(t)}}function tu(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function su(s,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(s,a+n,{value:function(r,o,l){return this[a].call(this,t,r,o,l)},configurable:!0})})}let st=class{constructor(t){t&&this.set(t)}set(t,n,a){const r=this;function o(c,d,m){const u=Ls(d);if(!u)throw new Error("header name must be a non-empty string");const f=O.findKey(r,u);(!f||r[f]===void 0||m===!0||m===void 0&&r[f]!==!1)&&(r[f||d]=mn(c))}const l=(c,d)=>O.forEach(c,(m,u)=>o(m,u,d));if(O.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(O.isString(t)&&(t=t.trim())&&!eu(t))l(Xd(t),n);else if(O.isObject(t)&&O.isIterable(t)){let c={},d,m;for(const u of t){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[m=u[0]]=(d=c[m])?O.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(c,n)}else t!=null&&o(n,t,a);return this}get(t,n){if(t=Ls(t),t){const a=O.findKey(this,t);if(a){const r=this[a];if(!n)return r;if(n===!0)return Qd(r);if(O.isFunction(n))return n.call(this,r,a);if(O.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ls(t),t){const a=O.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||aa(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let r=!1;function o(l){if(l=Ls(l),l){const c=O.findKey(a,l);c&&(!n||aa(a,a[c],c,n))&&(delete a[c],r=!0)}}return O.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const o=n[a];(!t||aa(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,a={};return O.forEach(this,(r,o)=>{const l=O.findKey(a,o);if(l){n[l]=mn(r),delete n[o];return}const c=t?tu(o):String(o).trim();c!==o&&delete n[o],n[c]=mn(r),a[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=t&&O.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(r=>a.set(r)),a}static accessor(t){const a=(this[Or]=this[Or]={accessors:{}}).accessors,r=this.prototype;function o(l){const c=Ls(l);a[c]||(su(r,l),a[c]=!0)}return O.isArray(t)?t.forEach(o):o(t),this}};st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(st.prototype,({value:s},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(a){this[n]=a}}});O.freezeMethods(st);function ra(s,t){const n=this||Us,a=t||n,r=st.from(a.headers);let o=a.data;return O.forEach(s,function(c){o=c.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Wo(s){return!!(s&&s.__CANCEL__)}function vs(s,t,n){de.call(this,s??"canceled",de.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(vs,de,{__CANCEL__:!0});function Zo(s,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?s(n):t(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nu(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function au(s,t){s=s||10;const n=new Array(s),a=new Array(s);let r=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const m=Date.now(),u=a[o];l||(l=m),n[r]=d,a[r]=m;let f=o,v=0;for(;f!==r;)v+=n[f++],f=f%s;if(r=(r+1)%s,r===o&&(o=(o+1)%s),m-l<t)return;const h=u&&m-u;return h?Math.round(v*1e3/h):void 0}}function ru(s,t){let n=0,a=1e3/t,r,o;const l=(m,u=Date.now())=>{n=u,r=null,o&&(clearTimeout(o),o=null),s.apply(null,m)};return[(...m)=>{const u=Date.now(),f=u-n;f>=a?l(m,u):(r=m,o||(o=setTimeout(()=>{o=null,l(r)},a-f)))},()=>r&&l(r)]}const fn=(s,t,n=3)=>{let a=0;const r=au(50,250);return ru(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-a,m=r(d),u=l<=c;a=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:m||void 0,estimated:m&&c&&u?(c-l)/m:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};s(f)},n)},Ar=(s,t)=>{const n=s!=null;return[a=>t[0]({lengthComputable:n,total:s,loaded:a}),t[1]]},Dr=s=>(...t)=>O.asap(()=>s(...t)),iu=We.hasStandardBrowserEnv?((s,t)=>n=>(n=new URL(n,We.origin),s.protocol===n.protocol&&s.host===n.host&&(t||s.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,ou=We.hasStandardBrowserEnv?{write(s,t,n,a,r,o){const l=[s+"="+encodeURIComponent(t)];O.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),O.isString(a)&&l.push("path="+a),O.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lu(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function cu(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function Go(s,t,n){let a=!lu(t);return s&&(a||n==!1)?cu(s,t):t}const Tr=s=>s instanceof st?{...s}:s;function Yt(s,t){t=t||{};const n={};function a(m,u,f,v){return O.isPlainObject(m)&&O.isPlainObject(u)?O.merge.call({caseless:v},m,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function r(m,u,f,v){if(O.isUndefined(u)){if(!O.isUndefined(m))return a(void 0,m,f,v)}else return a(m,u,f,v)}function o(m,u){if(!O.isUndefined(u))return a(void 0,u)}function l(m,u){if(O.isUndefined(u)){if(!O.isUndefined(m))return a(void 0,m)}else return a(void 0,u)}function c(m,u,f){if(f in t)return a(m,u);if(f in s)return a(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,u,f)=>r(Tr(m),Tr(u),f,!0)};return O.forEach(Object.keys(Object.assign({},s,t)),function(u){const f=d[u]||r,v=f(s[u],t[u],u);O.isUndefined(v)&&f!==c||(n[u]=v)}),n}const Jo=s=>{const t=Yt({},s);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:c}=t;t.headers=l=st.from(l),t.url=Ho(Go(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(O.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...u].join("; "))}}if(We.hasStandardBrowserEnv&&(a&&O.isFunction(a)&&(a=a(t)),a||a!==!1&&iu(t.url))){const m=r&&o&&ou.read(o);m&&l.set(r,m)}return t},du=typeof XMLHttpRequest<"u",uu=du&&function(s){return new Promise(function(n,a){const r=Jo(s);let o=r.data;const l=st.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:m}=r,u,f,v,h,p;function b(){h&&h(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function k(){if(!g)return;const P=st.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),y={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:P,config:s,request:g};Zo(function(N){n(N),b()},function(N){a(N),b()},y),g=null}"onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(a(new de("Request aborted",de.ECONNABORTED,s,g)),g=null)},g.onerror=function(){a(new de("Network Error",de.ERR_NETWORK,s,g)),g=null},g.ontimeout=function(){let w=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const y=r.transitional||qo;r.timeoutErrorMessage&&(w=r.timeoutErrorMessage),a(new de(w,y.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,s,g)),g=null},o===void 0&&l.setContentType(null),"setRequestHeader"in g&&O.forEach(l.toJSON(),function(w,y){g.setRequestHeader(y,w)}),O.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),c&&c!=="json"&&(g.responseType=r.responseType),m&&([v,p]=fn(m,!0),g.addEventListener("progress",v)),d&&g.upload&&([f,h]=fn(d),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(r.cancelToken||r.signal)&&(u=P=>{g&&(a(!P||P.type?new vs(null,s,g):P),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const C=nu(r.url);if(C&&We.protocols.indexOf(C)===-1){a(new de("Unsupported protocol "+C+":",de.ERR_BAD_REQUEST,s));return}g.send(o||null)})},hu=(s,t)=>{const{length:n}=s=s?s.filter(Boolean):[];if(t||n){let a=new AbortController,r;const o=function(m){if(!r){r=!0,c();const u=m instanceof Error?m:this.reason;a.abort(u instanceof de?u:new vs(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,o(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))},t);const c=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),s=null)};s.forEach(m=>m.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>O.asap(c),d}},mu=function*(s,t){let n=s.byteLength;if(n<t){yield s;return}let a=0,r;for(;a<n;)r=a+t,yield s.slice(a,r),a=r},pu=async function*(s,t){for await(const n of gu(s))yield*mu(n,t)},gu=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},Ir=(s,t,n,a)=>{const r=pu(s,t);let o=0,l,c=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:u}=await r.next();if(m){c(),d.close();return}let f=u.byteLength;if(n){let v=o+=f;n(v)}d.enqueue(new Uint8Array(u))}catch(m){throw c(m),m}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},Vn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ko=Vn&&typeof ReadableStream=="function",fu=Vn&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),Yo=(s,...t)=>{try{return!!s(...t)}catch{return!1}},vu=Ko&&Yo(()=>{let s=!1;const t=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),Br=64*1024,ya=Ko&&Yo(()=>O.isReadableStream(new Response("").body)),vn={stream:ya&&(s=>s.body)};Vn&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vn[t]&&(vn[t]=O.isFunction(s[t])?n=>n[t]():(n,a)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,a)})})})(new Response);const xu=async s=>{if(s==null)return 0;if(O.isBlob(s))return s.size;if(O.isSpecCompliantForm(s))return(await new Request(We.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(O.isArrayBufferView(s)||O.isArrayBuffer(s))return s.byteLength;if(O.isURLSearchParams(s)&&(s=s+""),O.isString(s))return(await fu(s)).byteLength},bu=async(s,t)=>{const n=O.toFiniteNumber(s.getContentLength());return n??xu(t)},yu=Vn&&(async s=>{let{url:t,method:n,data:a,signal:r,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:m,headers:u,withCredentials:f="same-origin",fetchOptions:v}=Jo(s);m=m?(m+"").toLowerCase():"text";let h=hu([r,o&&o.toAbortSignal()],l),p;const b=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(d&&vu&&n!=="get"&&n!=="head"&&(g=await bu(u,a))!==0){let y=new Request(t,{method:"POST",body:a,duplex:"half"}),j;if(O.isFormData(a)&&(j=y.headers.get("content-type"))&&u.setContentType(j),y.body){const[N,L]=Ar(g,fn(Dr(d)));a=Ir(y.body,Br,N,L)}}O.isString(f)||(f=f?"include":"omit");const k="credentials"in Request.prototype;p=new Request(t,{...v,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:k?f:void 0});let C=await fetch(p,v);const P=ya&&(m==="stream"||m==="response");if(ya&&(c||P&&b)){const y={};["status","statusText","headers"].forEach(x=>{y[x]=C[x]});const j=O.toFiniteNumber(C.headers.get("content-length")),[N,L]=c&&Ar(j,fn(Dr(c),!0))||[];C=new Response(Ir(C.body,Br,N,()=>{L&&L(),b&&b()}),y)}m=m||"text";let w=await vn[O.findKey(vn,m)||"text"](C,s);return!P&&b&&b(),await new Promise((y,j)=>{Zo(y,j,{data:w,headers:st.from(C.headers),status:C.status,statusText:C.statusText,config:s,request:p})})}catch(k){throw b&&b(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,s,p),{cause:k.cause||k}):de.from(k,k&&k.code,s,p)}}),wa={http:Id,xhr:uu,fetch:yu};O.forEach(wa,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Rr=s=>`- ${s}`,wu=s=>O.isFunction(s)||s===null||s===!1,Xo={getAdapter:s=>{s=O.isArray(s)?s:[s];const{length:t}=s;let n,a;const r={};for(let o=0;o<t;o++){n=s[o];let l;if(a=n,!wu(n)&&(a=wa[(l=String(n)).toLowerCase()],a===void 0))throw new de(`Unknown adapter '${l}'`);if(a)break;r[l||"#"+o]=a}if(!a){const o=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(Rr).join(`
`):" "+Rr(o[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:wa};function ia(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new vs(null,s)}function Fr(s){return ia(s),s.headers=st.from(s.headers),s.data=ra.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Xo.getAdapter(s.adapter||Us.adapter)(s).then(function(a){return ia(s),a.data=ra.call(s,s.transformResponse,a),a.headers=st.from(a.headers),a},function(a){return Wo(a)||(ia(s),a&&a.response&&(a.response.data=ra.call(s,s.transformResponse,a.response),a.response.headers=st.from(a.response.headers))),Promise.reject(a)})}const Qo="1.10.0",Wn={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Wn[s]=function(a){return typeof a===s||"a"+(t<1?"n ":" ")+s}});const $r={};Wn.transitional=function(t,n,a){function r(o,l){return"[Axios v"+Qo+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,c)=>{if(t===!1)throw new de(r(l," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!$r[l]&&($r[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,c):!0}};Wn.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function ju(s,t,n){if(typeof s!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const a=Object.keys(s);let r=a.length;for(;r-- >0;){const o=a[r],l=t[o];if(l){const c=s[o],d=c===void 0||l(c,o,s);if(d!==!0)throw new de("option "+o+" must be "+d,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}const pn={assertOptions:ju,validators:Wn},jt=pn.validators;let Jt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Mr,response:new Mr}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Yt(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:o}=n;a!==void 0&&pn.assertOptions(a,{silentJSONParsing:jt.transitional(jt.boolean),forcedJSONParsing:jt.transitional(jt.boolean),clarifyTimeoutError:jt.transitional(jt.boolean)},!1),r!=null&&(O.isFunction(r)?n.paramsSerializer={serialize:r}:pn.assertOptions(r,{encode:jt.function,serialize:jt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pn.assertOptions(n,{baseUrl:jt.spelling("baseURL"),withXsrfToken:jt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&O.merge(o.common,o[n.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=st.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let u,f=0,v;if(!d){const p=[Fr.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,m),v=p.length,u=Promise.resolve(n);f<v;)u=u.then(p[f++],p[f++]);return u}v=c.length;let h=n;for(f=0;f<v;){const p=c[f++],b=c[f++];try{h=p(h)}catch(g){b.call(this,g);break}}try{u=Fr.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,v=m.length;f<v;)u=u.then(m[f++],m[f++]);return u}getUri(t){t=Yt(this.defaults,t);const n=Go(t.baseURL,t.url,t.allowAbsoluteUrls);return Ho(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Jt.prototype[t]=function(n,a){return this.request(Yt(a||{},{method:t,url:n,data:(a||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(a){return function(o,l,c){return this.request(Yt(c||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Jt.prototype[t]=n(),Jt.prototype[t+"Form"]=n(!0)});let Nu=class el{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const a=this;this.promise.then(r=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](r);a._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(c=>{a.subscribe(c),o=c}).then(r);return l.cancel=function(){a.unsubscribe(o)},l},t(function(o,l,c){a.reason||(a.reason=new vs(o,l,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new el(function(r){t=r}),cancel:t}}};function Su(s){return function(n){return s.apply(null,n)}}function Cu(s){return O.isObject(s)&&s.isAxiosError===!0}const ja={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ja).forEach(([s,t])=>{ja[t]=s});function tl(s){const t=new Jt(s),n=Oo(Jt.prototype.request,t);return O.extend(n,Jt.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return tl(Yt(s,r))},n}const ne=tl(Us);ne.Axios=Jt;ne.CanceledError=vs;ne.CancelToken=Nu;ne.isCancel=Wo;ne.VERSION=Qo;ne.toFormData=qn;ne.AxiosError=de;ne.Cancel=ne.CanceledError;ne.all=function(t){return Promise.all(t)};ne.spread=Su;ne.isAxiosError=Cu;ne.mergeConfig=Yt;ne.AxiosHeaders=st;ne.formToJSON=s=>Vo(O.isHTMLForm(s)?new FormData(s):s);ne.getAdapter=Xo.getAdapter;ne.HttpStatusCode=ja;ne.default=ne;const{Axios:ov,AxiosError:lv,CanceledError:cv,isCancel:dv,CancelToken:uv,VERSION:hv,all:mv,Cancel:pv,isAxiosError:gv,spread:fv,toFormData:vv,AxiosHeaders:xv,HttpStatusCode:bv,formToJSON:yv,getAdapter:wv,mergeConfig:jv}=ne;function ku({selectedDate:s,selectedTimeSlot:t,onDateChange:n,onTimeSlotSelect:a}){const[r,o]=i.useState([]),[l,c]=i.useState(!1),[d,m]=i.useState(null);i.useEffect(()=>{var h;const v=JSON.parse(localStorage.getItem("cart")||"[]");if(v.length>0){const p=v[0],b=(p==null?void 0:p.washermanId)||((h=p==null?void 0:p.washerman)==null?void 0:h._id);typeof b=="string"&&b.length===24?m(b):console.warn("Invalid washerman ID in cart:",b)}},[]),i.useEffect(()=>{(async()=>{if(!(!d||!s)){c(!0);try{const b=((await ne.get("http://localhost:5000/api/show/available-slots",{params:{washermanId:d,date:s}})).data.enabledSlots||[]).map(g=>{const k=parseInt(g.range.split(":")[0],10);let C="Morning";k>=12&&k<17?C="Afternoon":(k>=17||k<5)&&(C="Evening");const P=g.maxBookings-g.booked;return{_id:g.range,time:g.range,period:C,available:P>0,maxOrders:g.maxBookings,booked:g.booked,spotsLeft:P}});o(b)}catch(h){console.error("Error fetching time slots:",h),o([])}finally{c(!1)}}})()},[s,d]);const u=r.reduce((v,h)=>(v[h.period]||(v[h.period]=[]),v[h.period].push(h),v),{}),f=v=>{const h=t&&t._id===v._id,p=v.booked>=v.maxOrders;return h?"bg-blue-600 text-white border-blue-600":p?"bg-red-500 text-white border-red-500 cursor-not-allowed":"bg-green-100 text-green-800 border-green-300 hover:bg-green-200"};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Fs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Select Date and Time"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),e.jsx("input",{type:"date",value:s,onChange:v=>n(v.target.value),min:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l?e.jsx("p",{className:"text-center text-gray-500",children:"Loading slots..."}):e.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([v,h])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-3",children:v}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(p=>e.jsx("button",{onClick:()=>p.available&&a(p),disabled:!p.available,className:`p-3 md:p-4 rounded-lg border-2 transition-all duration-200 ${f(p)}${t&&t._id===p._id?" ring-2 ring-blue-400":""}`,children:e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("div",{className:"font-semibold text-sm md:text-base",children:p.time||"No Time"}),e.jsxs("div",{className:"text-xs text-gray-700",children:[p.booked,"/",p.maxOrders," Orders"]})]})},p._id))})]},v))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm md:text-base",children:"Legend"}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs md:text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),e.jsx("span",{children:"Full"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded"}),e.jsx("span",{children:"Selected"})]})]})]})]})}function Lu({cartItems:s,selectedDate:t,selectedTimeSlot:n,onCompleteOrder:a,onRemoveFromCart:r,onUpdateQuantity:o}){const l=h=>h.selectedOptions.reduce((b,g)=>{var C,P;const k=(P=(C=h==null?void 0:h.service)==null?void 0:C.options)==null?void 0:P.find(w=>w._id===g);return b+((k==null?void 0:k.price)||0)},0)*h.quantity,c=s.reduce((h,p)=>h+l(p),0),d=s.reduce((h,p)=>h+p.quantity,0);i.useEffect(()=>{var h,p;if(n&&localStorage.setItem("selectedTimeSlot",JSON.stringify(n)),t&&localStorage.setItem("selectedDate",t),s.length>0){const b=s.map(g=>{var y,j,N;const k=((y=g==null?void 0:g.service)==null?void 0:y.washerman)||(g==null?void 0:g.washerman),C=typeof k=="object"&&((j=k==null?void 0:k._id)==null?void 0:j.length)===24?k._id:typeof(g==null?void 0:g.washermanId)=="string"?g.washermanId:"684fdb3e2ef2b4179b022277",P=typeof k=="object"&&(k!=null&&k.name)?k.name:typeof k=="string"?k:"",w=((N=g==null?void 0:g.service)==null?void 0:N.name)||(g==null?void 0:g.name)||"";return{washermanId:C,washerman:P,serviceId:g.serviceId,productId:g.serviceId,service:g.service,name:w,quantity:g.quantity,selectedOptions:g.selectedOptions||[]}});localStorage.setItem("cart",JSON.stringify(b)),localStorage.setItem("quantity",((p=(h=s[0])==null?void 0:h.quantity)==null?void 0:p.toString())||"1")}else localStorage.removeItem("cart")},[s,t,n]);const m=h=>{var p,b,g;return(b=(p=h==null?void 0:h.service)==null?void 0:p.washerman)!=null&&b.name?h.service.washerman.name:typeof(h==null?void 0:h.washerman)=="string"?h.washerman:typeof(h==null?void 0:h.washerman)=="object"&&((g=h.washerman)!=null&&g.name)?h.washerman.name:""},u=h=>({shirt:"Shirt",pants:"Pants",suits:"Suits",bedding:"Bedding"})[h]||h,f=(h,p)=>{const b=h.quantity+p;o&&b>=1&&o(h.serviceId,h.selectedOptions,b)},v=h=>{r&&r(h.serviceId,h.selectedOptions)};return s.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("p",{className:"text-gray-600",children:"No items in your cart"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 sticky top-20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Eo,{className:"w-5 h-5 mr-2 text-blue-600"}),"Order Summary"]}),e.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:s.map(h=>{var p,b;return e.jsx("div",{className:"border border-gray-100 rounded-lg p-3",children:e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm md:text-base",children:((p=h==null?void 0:h.service)==null?void 0:p.name)||h.name}),e.jsx("p",{className:"text-xs md:text-sm text-blue-600 font-medium",children:u(((b=h==null?void 0:h.service)==null?void 0:b.category)||"")}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Washerman: ",m(h)]})]}),e.jsx("button",{onClick:()=>v(h),className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"Remove from cart",children:e.jsx(hs,{className:"w-4 h-4"})})]}),h.selectedOptions.length>0&&e.jsxs("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["Options:"," ",h.selectedOptions.map(g=>{var C,P;const k=(P=(C=h==null?void 0:h.service)==null?void 0:C.options)==null?void 0:P.find(w=>w._id===g);return(k==null?void 0:k.name)||g}).join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(h,-1),disabled:h.quantity<=1,className:"p-1 rounded-full border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:e.jsx(Lo,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-sm font-medium w-8 text-center",children:h.quantity}),e.jsx("button",{onClick:()=>f(h,1),className:"p-1 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors",children:e.jsx(Ot,{className:"w-3 h-3"})})]}),e.jsxs("span",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["₹",l(h)]})]})]})})},`${h.serviceId}-${h.selectedOptions.join("-")}`)})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm md:text-base",children:[e.jsxs("span",{className:"text-gray-600",children:["Items (",d,")"]}),e.jsxs("span",{className:"font-medium",children:["₹",c]})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-blue-600",children:["₹",c]})]})]}),t&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-800",children:[e.jsx(Fs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(t).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n&&e.jsxs("div",{className:"flex items-center text-sm text-blue-800 mt-1",children:[e.jsx(Pa,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:n.time})]})]}),e.jsxs("button",{onClick:a,disabled:!n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center text-sm md:text-base",children:[e.jsx(Fc,{className:"w-5 h-5 mr-2"}),n?"Go for Payment":"Please Select a Time Slot"]})]})}function Eu({categories:s,selectedCategory:t,onCategoryChange:n}){return e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:s.map(a=>e.jsx("button",{onClick:()=>n(a.id),className:`px-3 md:px-4 py-1.5 md:py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm md:text-base ${t===a.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a.name},a.id))})}function Pu(){const[s,t]=i.useState([]),n=i.useCallback((d,m,u)=>{const v=u.reduce((p,b)=>{var k;const g=(k=d.options)==null?void 0:k.find(C=>C.id===b);return p+((g==null?void 0:g.price)||0)},0)*m,h={serviceId:d._id,service:d,quantity:m,selectedOptions:u,totalPrice:v};t(p=>{const b=p.findIndex(g=>g.serviceId===d._id&&JSON.stringify(g.selectedOptions.sort())===JSON.stringify(u.sort()));if(b>=0){const g=[...p];return g[b]={...g[b],quantity:g[b].quantity+m,totalPrice:g[b].totalPrice+v},g}else return[...p,h]})},[]),a=i.useCallback((d,m)=>{t(u=>u.filter(f=>!(f.serviceId===d&&JSON.stringify(f.selectedOptions.sort())===JSON.stringify(m.sort()))))},[]),r=i.useCallback((d,m,u)=>{if(u<=0){a(d,m);return}t(f=>f.map(v=>{if(v.serviceId===d&&JSON.stringify(v.selectedOptions.sort())===JSON.stringify(m.sort())){const h=v.totalPrice/v.quantity;return{...v,quantity:u,totalPrice:h*u}}return v}))},[a]),o=i.useCallback(()=>{t([])},[]),l=i.useCallback(()=>s.reduce((d,m)=>d+m.quantity,0),[s]),c=i.useCallback(()=>s.reduce((d,m)=>d+m.totalPrice,0),[s]);return{cartItems:s,addToCart:n,removeFromCart:a,updateQuantity:r,clearCart:o,getTotalItems:l,getTotalAmount:c}}const Mu=[{id:"morning-1",time:"09:00 - 10:00",period:"Morning",total:10},{id:"morning-2",time:"10:00 - 11:00",period:"Morning",total:10},{id:"morning-3",time:"11:00 - 12:00",period:"Morning",total:10},{id:"afternoon-1",time:"13:00 - 14:00",period:"Afternoon",total:10},{id:"afternoon-2",time:"14:00 - 15:00",period:"Afternoon",total:10},{id:"afternoon-3",time:"15:00 - 16:00",period:"Afternoon",total:10},{id:"evening-1",time:"16:00 - 17:00",period:"Evening",total:10},{id:"evening-2",time:"17:00 - 18:00",period:"Evening",total:10}];function Ou(s){const t=new Date(s),n=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24));return Mu.map((a,r)=>{const o=n*100+r,l=Math.sin(o)*1e4,c=Math.abs(l-Math.floor(l)),d=Math.floor(c*11);return{...a,available:d,isAvailable:d>0}})}const sl=()=>e.jsx("footer",{className:"bg-slate-800 text-white pt-16 pb-8",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx($s,{className:"h-6 w-6 text-blue-400"}),e.jsx("span",{className:"ml-2 text-xl font-bold",children:"FoldMate"})]}),e.jsx("p",{className:"text-slate-300 mb-6 pr-4",children:"Making laundry simple and convenient for busy people with our revolutionary laundry service."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-slate-300 hover:text-blue-400 transition-colors",children:e.jsx($c,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"text-slate-300 hover:text-blue-400 transition-colors",children:e.jsx(Uc,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Our Services"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/services/wash-fold",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Wash & Fold"})}),e.jsx("li",{children:e.jsx("a",{href:"/services/dry-cleaning",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Dry Cleaning"})}),e.jsx("li",{children:e.jsx("a",{href:"/services/ironing",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Ironing Services"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex",children:[e.jsx(Po,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"7909045381"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(Ea,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"rohitkumar60704@gmail.com"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(Co,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"Fortune Tower ,Bhubaneswar"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-700 mt-12 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4 md:mb-0",children:["© ",new Date().getFullYear()," FoldMate. All rights reserved."]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("a",{href:"/terms",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"/privacy",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"/faq",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"FAQ"})]})]})})]})}),Au=[{question:"How does the pickup and delivery process work?",answer:"It's simple! Schedule a pickup through our app or website, and we'll come to your location at the chosen time. We'll collect your laundry in our FoldMate bags and deliver it back to you, clean and folded, at your requested delivery time."},{question:"What is the turnaround time for standard service?",answer:"Our standard service has a 48-hour turnaround time."},{question:"How are delicate garments and special care items handled?",answer:"We have specialized processes for delicate items. You can add special care instructions to your order."},{question:"Do you offer dry cleaning services?",answer:"Yes, we offer professional dry cleaning services for garments that require it. depending your location this option will avialable or not."},{question:"What detergents and products do you use?",answer:"We use eco-friendly detergents that are effective yet gentle on the environment. ."}],nl=()=>{const s=i.useRef(null),[t,n]=i.useState(null);i.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&(o.target.classList.add("opacity-100","translate-y-0"),r.unobserve(o.target))},{threshold:.1});return s.current&&r.observe(s.current),()=>{s.current&&r.unobserve(s.current)}},[]);const a=r=>{n(t===r?null:r)};return e.jsx("section",{ref:s,className:"py-20 bg-white opacity-0 -translate-y-6 transition-all duration-700 ease-out",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 mb-4",children:"Frequently Asked Questions"}),e.jsx("div",{className:"w-24 h-1 bg-blue-600 mx-auto mb-6"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Have questions about our services? Find answers to commonly asked questions below."})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:Au.map((r,o)=>e.jsxs("div",{className:"mb-4 border-b border-slate-200 pb-4 last:border-b-0",children:[e.jsxs("button",{onClick:()=>a(o),className:"flex justify-between items-center w-full text-left py-3 focus:outline-none",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-800",children:r.question}),t===o?e.jsx(jo,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):e.jsx(wo,{className:"h-5 w-5 text-blue-600 flex-shrink-0"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${t===o?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-slate-600 pt-2 pb-4",children:r.answer})})]},o))}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Didn't find the answer you're looking for?"}),e.jsx("a",{href:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-full font-medium transition-colors inline-block",children:"Contact Us"})]})]})})},Du=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),Tu=()=>{const s=i.useRef(null),[t,n]=i.useState(""),[a,r]=i.useState(""),[o,l]=i.useState(""),[c,d]=i.useState("");i.useEffect(()=>{var u;(u=s.current)==null||u.focus()},[]);const m=async u=>{u.preventDefault();try{(await(await fetch("http://localhost:5000/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,message:o})})).json()).success?(d("✅ Message sent successfully!"),n(""),r(""),l("")):d("❌ Failed to send message.")}catch(f){console.error(f),d("❌ Server error.")}};return e.jsxs(e.Fragment,{children:[e.jsx(Ds,{searchQuery:"",onSearchChange:()=>{},onCartClick:()=>{},onContactClick:()=>{}}),e.jsx("section",{className:"w-full flex justify-center bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-3xl w-full px-6",children:e.jsxs("form",{onSubmit:m,className:"bg-white p-10 rounded-xl shadow-lg space-y-8",children:[e.jsx("h2",{className:"text-3xl font-serif font-semibold text-gray-800 mb-6 text-center",children:"Get in Touch"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-gray-700",children:"Name"}),e.jsx("input",{id:"name",ref:s,type:"text",value:t,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"Your Name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 font-medium text-gray-700",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:u=>r(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block mb-2 font-medium text-gray-700",children:"Message"}),e.jsx("textarea",{id:"message",value:o,onChange:u=>l(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"Your message...",rows:6,required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-md hover:bg-blue-700 transition",children:"Send Message"}),c&&e.jsx("p",{className:"text-center text-green-600",children:c})]})})}),e.jsx(nl,{}),e.jsx(sl,{})]})},Iu="modulepreload",Bu=function(s){return"/"+s},_r={},zs=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){let l=function(m){return Promise.all(m.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=l(n.map(m=>{if(m=Bu(m),m in _r)return;_r[m]=!0;const u=m.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":Iu,u||(v.as="script"),v.crossOrigin="",v.href=m,d&&v.setAttribute("nonce",d),document.head.appendChild(v),u)return new Promise((h,p)=>{v.addEventListener("load",h),v.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},Ru=i.lazy(()=>zs(()=>import("./HeroSection-DqHwXhIZ.js"),__vite__mapDeps([0,1]))),Fu=i.lazy(()=>zs(()=>import("./MissionSection-Cs7czrbq.js"),__vite__mapDeps([2,1]))),$u=i.lazy(()=>zs(()=>import("./ServicesSection-vkdt_6p-.js"),__vite__mapDeps([3,1]))),_u=i.lazy(()=>zs(()=>Promise.resolve().then(()=>Du),void 0)),Uu=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-blue-50",children:[e.jsx(Ds,{}),e.jsxs(i.Suspense,{fallback:e.jsx("div",{className:"min-h-[300px]"}),children:[e.jsx(Ru,{}),e.jsx(Fu,{}),e.jsx($u,{}),e.jsx(_u,{})]}),e.jsx(sl,{})]});function zu(s){return new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}function Hu(s){switch(s){case"Completed":return"bg-green-100 text-green-700";case"In Progress":return"bg-yellow-100 text-yellow-700";case"Pending":return"bg-blue-100 text-blue-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}}function qu({item:s}){return e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsxs("span",{children:[s.name," x",s.quantity]}),e.jsxs("span",{children:["₹",s.price*s.quantity]})]})}const Vu=({order:s})=>{if(!s)return e.jsx("div",{children:"Order not found."});const{_id:t,productId:n,date:a,slot:r,quantity:o,totalAmount:l,status:c,paymentStatus:d,paymentMethod:m,washerman:u,guest:f,createdAt:v}=s,h=zu(a),p=l||0,b=(n==null?void 0:n.image)||"",g=(n==null?void 0:n.category)||(n==null?void 0:n.name)||"Service",k=(u==null?void 0:u.name)||"Unknown",C=(u==null?void 0:u.contact)||"Not available";return u!=null&&u._id,e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-1/3 p-4 flex items-center justify-center bg-gray-50",children:b?e.jsx("img",{src:b,alt:`Order ${t}`,className:"w-full h-48 object-contain rounded-md",onError:P=>{const w=P.target;w.src="https://images.pexels.com/photos/5217766/pexels-photo-5217766.jpeg"}}):e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-md flex items-center justify-center",children:e.jsx(Eo,{size:64,className:"text-gray-400"})})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:["Order #",t]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:g}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:[" pick up:",h||"Invalid Date"," | Slot: ",(r==null?void 0:r.range)||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Quantity: ",o]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Payment: ₹",p," via ",m||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Payment Status: ",d]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Washerman: ",k]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Contact: ",C]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Created At: ",new Date(v).toLocaleString()]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Hu(c)} mt-2 sm:mt-0`,children:c})]}),s.items&&s.items.length>0&&e.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-1",children:s.items.map((P,w)=>e.jsx(qu,{item:P},w))})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₹",p]})]})]})]})})},Wu=()=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-1/3 p-4 flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-md"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-24 mt-2 sm:mt-0"})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-3"}),e.jsx("div",{className:"space-y-3",children:[1,2].map(s=>e.jsxs("div",{className:"flex justify-between py-3",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/6"})]},s))})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/6"})]})]})]})}),Zu=()=>{const[s,t]=i.useState([]),[n,a]=i.useState(!0),[r,o]=i.useState("");return i.useEffect(()=>{(async()=>{a(!0);try{const c=await ne.get("http://localhost:5000/api/booking",{withCredentials:!0});console.log("Fetched orders:",c.data),t(c.data)}catch(c){console.error("Error fetching orders:",c)}finally{a(!1)}})()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Ds,{searchQuery:r,onSearchChange:o}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(jr,{className:"h-6 w-6 text-indigo-600 mr-2"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order History"})]}),e.jsx("p",{className:"text-gray-600",children:"View and track all your previous orders"})]}),e.jsx("div",{className:"space-y-6",children:n?e.jsx(e.Fragment,{children:[1,2,3].map(l=>e.jsx(Wu,{},l))}):s.length>0?s.map(l=>e.jsx(Vu,{order:l},l._id)):e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(jr,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:"You haven't placed any orders yet."})]})})]})]})};/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function al(s,t,n){if(typeof s=="function"?s===t:s.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Gu(s,t){if(t.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ur(s,t){return s.get(al(s,t))}function Ju(s,t,n){Gu(s,t),t.set(s,n)}function Ku(s,t,n){return s.set(al(s,t),n),n}const Yu=100,se={},Xu=()=>{se.previousActiveElement instanceof HTMLElement?(se.previousActiveElement.focus(),se.previousActiveElement=null):document.body&&document.body.focus()},Qu=s=>new Promise(t=>{if(!s)return t();const n=window.scrollX,a=window.scrollY;se.restoreFocusTimeout=setTimeout(()=>{Xu(),t()},Yu),window.scrollTo(n,a)}),rl="swal2-",eh=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],A=eh.reduce((s,t)=>(s[t]=rl+t,s),{}),th=["success","warning","info","question","error"],xn=th.reduce((s,t)=>(s[t]=rl+t,s),{}),il="SweetAlert2:",Da=s=>s.charAt(0).toUpperCase()+s.slice(1),Ke=s=>{console.warn(`${il} ${typeof s=="object"?s.join(" "):s}`)},Qt=s=>{console.error(`${il} ${s}`)},zr=[],sh=s=>{zr.includes(s)||(zr.push(s),Ke(s))},ol=(s,t=null)=>{sh(`"${s}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Zn=s=>typeof s=="function"?s():s,Ta=s=>s&&typeof s.toPromise=="function",Hs=s=>Ta(s)?s.toPromise():Promise.resolve(s),Ia=s=>s&&Promise.resolve(s)===s,Ye=()=>document.body.querySelector(`.${A.container}`),qs=s=>{const t=Ye();return t?t.querySelector(s):null},ct=s=>qs(`.${s}`),we=()=>ct(A.popup),xs=()=>ct(A.icon),nh=()=>ct(A["icon-content"]),ll=()=>ct(A.title),Ba=()=>ct(A["html-container"]),cl=()=>ct(A.image),Ra=()=>ct(A["progress-steps"]),Gn=()=>ct(A["validation-message"]),St=()=>qs(`.${A.actions} .${A.confirm}`),bs=()=>qs(`.${A.actions} .${A.cancel}`),es=()=>qs(`.${A.actions} .${A.deny}`),ah=()=>ct(A["input-label"]),ys=()=>qs(`.${A.loader}`),Vs=()=>ct(A.actions),dl=()=>ct(A.footer),Jn=()=>ct(A["timer-progress-bar"]),Fa=()=>ct(A.close),rh=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,$a=()=>{const s=we();if(!s)return[];const t=s.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((o,l)=>{const c=parseInt(o.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return c>d?1:c<d?-1:0}),a=s.querySelectorAll(rh),r=Array.from(a).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(r))].filter(o=>nt(o))},_a=()=>At(document.body,A.shown)&&!At(document.body,A["toast-shown"])&&!At(document.body,A["no-backdrop"]),Kn=()=>{const s=we();return s?At(s,A.toast):!1},ih=()=>{const s=we();return s?s.hasAttribute("data-loading"):!1},dt=(s,t)=>{if(s.textContent="",t){const a=new DOMParser().parseFromString(t,"text/html"),r=a.querySelector("head");r&&Array.from(r.childNodes).forEach(l=>{s.appendChild(l)});const o=a.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?s.appendChild(l.cloneNode(!0)):s.appendChild(l)})}},At=(s,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let a=0;a<n.length;a++)if(!s.classList.contains(n[a]))return!1;return!0},oh=(s,t)=>{Array.from(s.classList).forEach(n=>{!Object.values(A).includes(n)&&!Object.values(xn).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&s.classList.remove(n)})},lt=(s,t,n)=>{if(oh(s,t),!t.customClass)return;const a=t.customClass[n];if(a){if(typeof a!="string"&&!a.forEach){Ke(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof a}"`);return}je(s,a)}},Yn=(s,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return s.querySelector(`.${A.popup} > .${A[t]}`);case"checkbox":return s.querySelector(`.${A.popup} > .${A.checkbox} input`);case"radio":return s.querySelector(`.${A.popup} > .${A.radio} input:checked`)||s.querySelector(`.${A.popup} > .${A.radio} input:first-child`);case"range":return s.querySelector(`.${A.popup} > .${A.range} input`);default:return s.querySelector(`.${A.popup} > .${A.input}`)}},ul=s=>{if(s.focus(),s.type!=="file"){const t=s.value;s.value="",s.value=t}},hl=(s,t,n)=>{!s||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(a=>{Array.isArray(s)?s.forEach(r=>{n?r.classList.add(a):r.classList.remove(a)}):n?s.classList.add(a):s.classList.remove(a)}))},je=(s,t)=>{hl(s,t,!0)},pt=(s,t)=>{hl(s,t,!1)},Ft=(s,t)=>{const n=Array.from(s.children);for(let a=0;a<n.length;a++){const r=n[a];if(r instanceof HTMLElement&&At(r,t))return r}},Kt=(s,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?s.style.setProperty(t,typeof n=="number"?`${n}px`:n):s.style.removeProperty(t)},ze=(s,t="flex")=>{s&&(s.style.display=t)},Ze=s=>{s&&(s.style.display="none")},Ua=(s,t="block")=>{s&&new MutationObserver(()=>{Ws(s,s.innerHTML,t)}).observe(s,{childList:!0,subtree:!0})},Hr=(s,t,n,a)=>{const r=s.querySelector(t);r&&r.style.setProperty(n,a)},Ws=(s,t,n="flex")=>{t?ze(s,n):Ze(s)},nt=s=>!!(s&&(s.offsetWidth||s.offsetHeight||s.getClientRects().length)),lh=()=>!nt(St())&&!nt(es())&&!nt(bs()),Na=s=>s.scrollHeight>s.clientHeight,ch=(s,t)=>{let n=s;for(;n&&n!==t;){if(Na(n))return!0;n=n.parentElement}return!1},ml=s=>{const t=window.getComputedStyle(s),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),a=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||a>0},za=(s,t=!1)=>{const n=Jn();n&&nt(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${s/1e3}s linear`,n.style.width="0%"},10))},dh=()=>{const s=Jn();if(!s)return;const t=parseInt(window.getComputedStyle(s).width);s.style.removeProperty("transition"),s.style.width="100%";const n=parseInt(window.getComputedStyle(s).width),a=t/n*100;s.style.width=`${a}%`},uh=()=>typeof window>"u"||typeof document>"u",hh=`
 <div aria-labelledby="${A.title}" aria-describedby="${A["html-container"]}" class="${A.popup}" tabindex="-1">
   <button type="button" class="${A.close}"></button>
   <ul class="${A["progress-steps"]}"></ul>
   <div class="${A.icon}"></div>
   <img class="${A.image}" />
   <h2 class="${A.title}" id="${A.title}"></h2>
   <div class="${A["html-container"]}" id="${A["html-container"]}"></div>
   <input class="${A.input}" id="${A.input}" />
   <input type="file" class="${A.file}" />
   <div class="${A.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${A.select}" id="${A.select}"></select>
   <div class="${A.radio}"></div>
   <label class="${A.checkbox}">
     <input type="checkbox" id="${A.checkbox}" />
     <span class="${A.label}"></span>
   </label>
   <textarea class="${A.textarea}" id="${A.textarea}"></textarea>
   <div class="${A["validation-message"]}" id="${A["validation-message"]}"></div>
   <div class="${A.actions}">
     <div class="${A.loader}"></div>
     <button type="button" class="${A.confirm}"></button>
     <button type="button" class="${A.deny}"></button>
     <button type="button" class="${A.cancel}"></button>
   </div>
   <div class="${A.footer}"></div>
   <div class="${A["timer-progress-bar-container"]}">
     <div class="${A["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),mh=()=>{const s=Ye();return s?(s.remove(),pt([document.documentElement,document.body],[A["no-backdrop"],A["toast-shown"],A["has-column"]]),!0):!1},Vt=()=>{se.currentInstance.resetValidationMessage()},ph=()=>{const s=we(),t=Ft(s,A.input),n=Ft(s,A.file),a=s.querySelector(`.${A.range} input`),r=s.querySelector(`.${A.range} output`),o=Ft(s,A.select),l=s.querySelector(`.${A.checkbox} input`),c=Ft(s,A.textarea);t.oninput=Vt,n.onchange=Vt,o.onchange=Vt,l.onchange=Vt,c.oninput=Vt,a.oninput=()=>{Vt(),r.value=a.value},a.onchange=()=>{Vt(),r.value=a.value}},gh=s=>typeof s=="string"?document.querySelector(s):s,fh=s=>{const t=we();t.setAttribute("role",s.toast?"alert":"dialog"),t.setAttribute("aria-live",s.toast?"polite":"assertive"),s.toast||t.setAttribute("aria-modal","true")},vh=s=>{window.getComputedStyle(s).direction==="rtl"&&je(Ye(),A.rtl)},xh=s=>{const t=mh();if(uh()){Qt("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=A.container,t&&je(n,A["no-transition"]),dt(n,hh),n.dataset.swal2Theme=s.theme;const a=gh(s.target);a.appendChild(n),s.topLayer&&(n.setAttribute("popover",""),n.showPopover()),fh(s),vh(a),ph()},Ha=(s,t)=>{s instanceof HTMLElement?t.appendChild(s):typeof s=="object"?bh(s,t):s&&dt(t,s)},bh=(s,t)=>{s.jquery?yh(t,s):dt(t,s.toString())},yh=(s,t)=>{if(s.textContent="",0 in t)for(let n=0;n in t;n++)s.appendChild(t[n].cloneNode(!0));else s.appendChild(t.cloneNode(!0))},wh=(s,t)=>{const n=Vs(),a=ys();!n||!a||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Ze(n):ze(n),lt(n,t,"actions"),jh(n,a,t),dt(a,t.loaderHtml||""),lt(a,t,"loader"))};function jh(s,t,n){const a=St(),r=es(),o=bs();!a||!r||!o||(la(a,"confirm",n),la(r,"deny",n),la(o,"cancel",n),Nh(a,r,o,n),n.reverseButtons&&(n.toast?(s.insertBefore(o,a),s.insertBefore(r,a)):(s.insertBefore(o,t),s.insertBefore(r,t),s.insertBefore(a,t))))}function Nh(s,t,n,a){if(!a.buttonsStyling){pt([s,t,n],A.styled);return}je([s,t,n],A.styled),a.confirmButtonColor&&s.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),oa(s),oa(t),oa(n)}function oa(s){const t=window.getComputedStyle(s);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");s.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function la(s,t,n){const a=Da(t);Ws(s,n[`show${a}Button`],"inline-block"),dt(s,n[`${t}ButtonText`]||""),s.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),s.className=A[t],lt(s,n,`${t}Button`)}const Sh=(s,t)=>{const n=Fa();n&&(dt(n,t.closeButtonHtml||""),lt(n,t,"closeButton"),Ws(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Ch=(s,t)=>{const n=Ye();n&&(kh(n,t.backdrop),Lh(n,t.position),Eh(n,t.grow),lt(n,t,"container"))};function kh(s,t){typeof t=="string"?s.style.background=t:t||je([document.documentElement,document.body],A["no-backdrop"])}function Lh(s,t){t&&(t in A?je(s,A[t]):(Ke('The "position" parameter is not valid, defaulting to "center"'),je(s,A.center)))}function Eh(s,t){t&&je(s,A[`grow-${t}`])}var Pe={innerParams:new WeakMap,domCache:new WeakMap};const Ph=["input","file","range","select","radio","checkbox","textarea"],Mh=(s,t)=>{const n=we();if(!n)return;const a=Pe.innerParams.get(s),r=!a||t.input!==a.input;Ph.forEach(o=>{const l=Ft(n,A[o]);l&&(Dh(o,t.inputAttributes),l.className=A[o],r&&Ze(l))}),t.input&&(r&&Oh(t),Th(t))},Oh=s=>{if(!s.input)return;if(!Ie[s.input]){Qt(`Unexpected type of input! Expected ${Object.keys(Ie).join(" | ")}, got "${s.input}"`);return}const t=pl(s.input);if(!t)return;const n=Ie[s.input](t,s);ze(t),s.inputAutoFocus&&setTimeout(()=>{ul(n)})},Ah=s=>{for(let t=0;t<s.attributes.length;t++){const n=s.attributes[t].name;["id","type","value","style"].includes(n)||s.removeAttribute(n)}},Dh=(s,t)=>{const n=we();if(!n)return;const a=Yn(n,s);if(a){Ah(a);for(const r in t)a.setAttribute(r,t[r])}},Th=s=>{if(!s.input)return;const t=pl(s.input);t&&lt(t,s,"input")},qa=(s,t)=>{!s.placeholder&&t.inputPlaceholder&&(s.placeholder=t.inputPlaceholder)},Zs=(s,t,n)=>{if(n.inputLabel){const a=document.createElement("label"),r=A["input-label"];a.setAttribute("for",s.id),a.className=r,typeof n.customClass=="object"&&je(a,n.customClass.inputLabel),a.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",a)}},pl=s=>{const t=we();if(t)return Ft(t,A[s]||A.input)},bn=(s,t)=>{["string","number"].includes(typeof t)?s.value=`${t}`:Ia(t)||Ke(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ie={};Ie.text=Ie.email=Ie.password=Ie.number=Ie.tel=Ie.url=Ie.search=Ie.date=Ie["datetime-local"]=Ie.time=Ie.week=Ie.month=(s,t)=>(bn(s,t.inputValue),Zs(s,s,t),qa(s,t),s.type=t.input,s);Ie.file=(s,t)=>(Zs(s,s,t),qa(s,t),s);Ie.range=(s,t)=>{const n=s.querySelector("input"),a=s.querySelector("output");return bn(n,t.inputValue),n.type=t.input,bn(a,t.inputValue),Zs(n,s,t),s};Ie.select=(s,t)=>{if(s.textContent="",t.inputPlaceholder){const n=document.createElement("option");dt(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,s.appendChild(n)}return Zs(s,s,t),s};Ie.radio=s=>(s.textContent="",s);Ie.checkbox=(s,t)=>{const n=Yn(we(),"checkbox");n.value="1",n.checked=!!t.inputValue;const a=s.querySelector("span");return dt(a,t.inputPlaceholder||t.inputLabel),n};Ie.textarea=(s,t)=>{bn(s,t.inputValue),qa(s,t),Zs(s,s,t);const n=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(we()).width),r=()=>{if(!document.body.contains(s))return;const o=s.offsetWidth+n(s);o>a?we().style.width=`${o}px`:Kt(we(),"width",t.width)};new MutationObserver(r).observe(s,{attributes:!0,attributeFilter:["style"]})}}),s};const Ih=(s,t)=>{const n=Ba();n&&(Ua(n),lt(n,t,"htmlContainer"),t.html?(Ha(t.html,n),ze(n,"block")):t.text?(n.textContent=t.text,ze(n,"block")):Ze(n),Mh(s,t))},Bh=(s,t)=>{const n=dl();n&&(Ua(n),Ws(n,t.footer,"block"),t.footer&&Ha(t.footer,n),lt(n,t,"footer"))},Rh=(s,t)=>{const n=Pe.innerParams.get(s),a=xs();if(!a)return;if(n&&t.icon===n.icon){Vr(a,t),qr(a,t);return}if(!t.icon&&!t.iconHtml){Ze(a);return}if(t.icon&&Object.keys(xn).indexOf(t.icon)===-1){Qt(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Ze(a);return}ze(a),Vr(a,t),qr(a,t),je(a,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",gl)},qr=(s,t)=>{for(const[n,a]of Object.entries(xn))t.icon!==n&&pt(s,a);je(s,t.icon&&xn[t.icon]),_h(s,t),gl(),lt(s,t,"icon")},gl=()=>{const s=we();if(!s)return;const t=window.getComputedStyle(s).getPropertyValue("background-color"),n=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<n.length;a++)n[a].style.backgroundColor=t},Fh=s=>`
  ${s.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${s.animation?'<div class="swal2-success-fix"></div>':""}
  ${s.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,$h=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Vr=(s,t)=>{if(!t.icon&&!t.iconHtml)return;let n=s.innerHTML,a="";t.iconHtml?a=Wr(t.iconHtml):t.icon==="success"?(a=Fh(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?a=$h:t.icon&&(a=Wr({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==a.trim()&&dt(s,a)},_h=(s,t)=>{if(t.iconColor){s.style.color=t.iconColor,s.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Hr(s,n,"background-color",t.iconColor);Hr(s,".swal2-success-ring","border-color",t.iconColor)}},Wr=s=>`<div class="${A["icon-content"]}">${s}</div>`,Uh=(s,t)=>{const n=cl();if(n){if(!t.imageUrl){Ze(n);return}ze(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Kt(n,"width",t.imageWidth),Kt(n,"height",t.imageHeight),n.className=A.image,lt(n,t,"image")}};let Va=!1,fl=0,vl=0,xl=0,bl=0;const zh=s=>{s.addEventListener("mousedown",yn),document.body.addEventListener("mousemove",wn),s.addEventListener("mouseup",jn),s.addEventListener("touchstart",yn),document.body.addEventListener("touchmove",wn),s.addEventListener("touchend",jn)},Hh=s=>{s.removeEventListener("mousedown",yn),document.body.removeEventListener("mousemove",wn),s.removeEventListener("mouseup",jn),s.removeEventListener("touchstart",yn),document.body.removeEventListener("touchmove",wn),s.removeEventListener("touchend",jn)},yn=s=>{const t=we();if(s.target===t||xs().contains(s.target)){Va=!0;const n=yl(s);fl=n.clientX,vl=n.clientY,xl=parseInt(t.style.insetInlineStart)||0,bl=parseInt(t.style.insetBlockStart)||0,je(t,"swal2-dragging")}},wn=s=>{const t=we();if(Va){let{clientX:n,clientY:a}=yl(s);t.style.insetInlineStart=`${xl+(n-fl)}px`,t.style.insetBlockStart=`${bl+(a-vl)}px`}},jn=()=>{const s=we();Va=!1,pt(s,"swal2-dragging")},yl=s=>{let t=0,n=0;return s.type.startsWith("mouse")?(t=s.clientX,n=s.clientY):s.type.startsWith("touch")&&(t=s.touches[0].clientX,n=s.touches[0].clientY),{clientX:t,clientY:n}},qh=(s,t)=>{const n=Ye(),a=we();if(!(!n||!a)){if(t.toast){Kt(n,"width",t.width),a.style.width="100%";const r=ys();r&&a.insertBefore(r,xs())}else Kt(a,"width",t.width);Kt(a,"padding",t.padding),t.color&&(a.style.color=t.color),t.background&&(a.style.background=t.background),Ze(Gn()),Vh(a,t),t.draggable&&!t.toast?(je(a,A.draggable),zh(a)):(pt(a,A.draggable),Hh(a))}},Vh=(s,t)=>{const n=t.showClass||{};s.className=`${A.popup} ${nt(s)?n.popup:""}`,t.toast?(je([document.documentElement,document.body],A["toast-shown"]),je(s,A.toast)):je(s,A.modal),lt(s,t,"popup"),typeof t.customClass=="string"&&je(s,t.customClass),t.icon&&je(s,A[`icon-${t.icon}`])},Wh=(s,t)=>{const n=Ra();if(!n)return;const{progressSteps:a,currentProgressStep:r}=t;if(!a||a.length===0||r===void 0){Ze(n);return}ze(n),n.textContent="",r>=a.length&&Ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((o,l)=>{const c=Zh(o);if(n.appendChild(c),l===r&&je(c,A["active-progress-step"]),l!==a.length-1){const d=Gh(t);n.appendChild(d)}})},Zh=s=>{const t=document.createElement("li");return je(t,A["progress-step"]),dt(t,s),t},Gh=s=>{const t=document.createElement("li");return je(t,A["progress-step-line"]),s.progressStepsDistance&&Kt(t,"width",s.progressStepsDistance),t},Jh=(s,t)=>{const n=ll();n&&(Ua(n),Ws(n,t.title||t.titleText,"block"),t.title&&Ha(t.title,n),t.titleText&&(n.innerText=t.titleText),lt(n,t,"title"))},wl=(s,t)=>{qh(s,t),Ch(s,t),Wh(s,t),Rh(s,t),Uh(s,t),Jh(s,t),Sh(s,t),Ih(s,t),wh(s,t),Bh(s,t);const n=we();typeof t.didRender=="function"&&n&&t.didRender(n),se.eventEmitter.emit("didRender",n)},Kh=()=>nt(we()),jl=()=>{var s;return(s=St())===null||s===void 0?void 0:s.click()},Yh=()=>{var s;return(s=es())===null||s===void 0?void 0:s.click()},Xh=()=>{var s;return(s=bs())===null||s===void 0?void 0:s.click()},ws=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nl=s=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1)},Qh=(s,t,n)=>{Nl(s),t.toast||(s.keydownHandler=a=>tm(t,a,n),s.keydownTarget=t.keydownListenerCapture?window:we(),s.keydownListenerCapture=t.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},Sa=(s,t)=>{var n;const a=$a();if(a.length){s=s+t,s===-2&&(s=a.length-1),s===a.length?s=0:s===-1&&(s=a.length-1),a[s].focus();return}(n=we())===null||n===void 0||n.focus()},Sl=["ArrowRight","ArrowDown"],em=["ArrowLeft","ArrowUp"],tm=(s,t,n)=>{s&&(t.isComposing||t.keyCode===229||(s.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?sm(t,s):t.key==="Tab"?nm(t):[...Sl,...em].includes(t.key)?am(t.key):t.key==="Escape"&&rm(t,s,n)))},sm=(s,t)=>{if(!Zn(t.allowEnterKey))return;const n=Yn(we(),t.input);if(s.target&&n&&s.target instanceof HTMLElement&&s.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;jl(),s.preventDefault()}},nm=s=>{const t=s.target,n=$a();let a=-1;for(let r=0;r<n.length;r++)if(t===n[r]){a=r;break}s.shiftKey?Sa(a,-1):Sa(a,1),s.stopPropagation(),s.preventDefault()},am=s=>{const t=Vs(),n=St(),a=es(),r=bs();if(!t||!n||!a||!r)return;const o=[n,a,r];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const l=Sl.includes(s)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let d=0;d<t.children.length;d++){if(c=c[l],!c)return;if(c instanceof HTMLButtonElement&&nt(c))break}c instanceof HTMLButtonElement&&c.focus()}},rm=(s,t,n)=>{s.preventDefault(),Zn(t.allowEscapeKey)&&n(ws.esc)};var ms={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const im=()=>{const s=Ye();Array.from(document.body.children).forEach(n=>{n.contains(s)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Cl=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},kl=typeof window<"u"&&!!window.GestureEvent,om=()=>{if(kl&&!At(document.body,A.iosfix)){const s=document.body.scrollTop;document.body.style.top=`${s*-1}px`,je(document.body,A.iosfix),lm()}},lm=()=>{const s=Ye();if(!s)return;let t;s.ontouchstart=n=>{t=cm(n)},s.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},cm=s=>{const t=s.target,n=Ye(),a=Ba();return!n||!a||dm(s)||um(s)?!1:t===n||!Na(n)&&t instanceof HTMLElement&&!ch(t,a)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Na(a)&&a.contains(t))},dm=s=>s.touches&&s.touches.length&&s.touches[0].touchType==="stylus",um=s=>s.touches&&s.touches.length>1,hm=()=>{if(At(document.body,A.iosfix)){const s=parseInt(document.body.style.top,10);pt(document.body,A.iosfix),document.body.style.top="",document.body.scrollTop=s*-1}},mm=()=>{const s=document.createElement("div");s.className=A["scrollbar-measure"],document.body.appendChild(s);const t=s.getBoundingClientRect().width-s.clientWidth;return document.body.removeChild(s),t};let ls=null;const pm=s=>{ls===null&&(document.body.scrollHeight>window.innerHeight||s==="scroll")&&(ls=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ls+mm()}px`)},gm=()=>{ls!==null&&(document.body.style.paddingRight=`${ls}px`,ls=null)};function Ll(s,t,n,a){Kn()?Zr(s,a):(Qu(n).then(()=>Zr(s,a)),Nl(se)),kl?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),_a()&&(gm(),hm(),Cl()),fm()}function fm(){pt([document.documentElement,document.body],[A.shown,A["height-auto"],A["no-backdrop"],A["toast-shown"]])}function $t(s){s=xm(s);const t=ms.swalPromiseResolve.get(this),n=vm(this);this.isAwaitingPromise?s.isDismissed||(Gs(this),t(s)):n&&t(s)}const vm=s=>{const t=we();if(!t)return!1;const n=Pe.innerParams.get(s);if(!n||At(t,n.hideClass.popup))return!1;pt(t,n.showClass.popup),je(t,n.hideClass.popup);const a=Ye();return pt(a,n.showClass.backdrop),je(a,n.hideClass.backdrop),bm(s,t,n),!0};function El(s){const t=ms.swalPromiseReject.get(this);Gs(this),t&&t(s)}const Gs=s=>{s.isAwaitingPromise&&(delete s.isAwaitingPromise,Pe.innerParams.get(s)||s._destroy())},xm=s=>typeof s>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},s),bm=(s,t,n)=>{var a;const r=Ye(),o=ml(t);typeof n.willClose=="function"&&n.willClose(t),(a=se.eventEmitter)===null||a===void 0||a.emit("willClose",t),o?ym(s,t,r,n.returnFocus,n.didClose):Ll(s,r,n.returnFocus,n.didClose)},ym=(s,t,n,a,r)=>{se.swalCloseEventFinishedCallback=Ll.bind(null,s,n,a,r);const o=function(l){if(l.target===t){var c;(c=se.swalCloseEventFinishedCallback)===null||c===void 0||c.call(se),delete se.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},Zr=(s,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(s.params)(),(n=se.eventEmitter)===null||n===void 0||n.emit("didClose"),s._destroy&&s._destroy()})},ps=s=>{let t=we();if(t||new Ee,t=we(),!t)return;const n=ys();Kn()?Ze(xs()):wm(t,s),ze(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},wm=(s,t)=>{const n=Vs(),a=ys();!n||!a||(!t&&nt(St())&&(t=St()),ze(n),t&&(Ze(t),a.setAttribute("data-button-to-replace",t.className),n.insertBefore(a,t)),je([s,n],A.loading))},jm=(s,t)=>{t.input==="select"||t.input==="radio"?Lm(s,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(Ta(t.inputValue)||Ia(t.inputValue))&&(ps(St()),Em(s,t))},Nm=(s,t)=>{const n=s.getInput();if(!n)return null;switch(t.input){case"checkbox":return Sm(n);case"radio":return Cm(n);case"file":return km(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Sm=s=>s.checked?1:0,Cm=s=>s.checked?s.value:null,km=s=>s.files&&s.files.length?s.getAttribute("multiple")!==null?s.files:s.files[0]:null,Lm=(s,t)=>{const n=we();if(!n)return;const a=r=>{t.input==="select"?Pm(n,Nn(r),t):t.input==="radio"&&Mm(n,Nn(r),t)};Ta(t.inputOptions)||Ia(t.inputOptions)?(ps(St()),Hs(t.inputOptions).then(r=>{s.hideLoading(),a(r)})):typeof t.inputOptions=="object"?a(t.inputOptions):Qt(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Em=(s,t)=>{const n=s.getInput();n&&(Ze(n),Hs(t.inputValue).then(a=>{n.value=t.input==="number"?`${parseFloat(a)||0}`:`${a}`,ze(n),n.focus(),s.hideLoading()}).catch(a=>{Qt(`Error in inputValue promise: ${a}`),n.value="",ze(n),n.focus(),s.hideLoading()}))};function Pm(s,t,n){const a=Ft(s,A.select);if(!a)return;const r=(o,l,c)=>{const d=document.createElement("option");d.value=c,dt(d,l),d.selected=Pl(c,n.inputValue),o.appendChild(d)};t.forEach(o=>{const l=o[0],c=o[1];if(Array.isArray(c)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,a.appendChild(d),c.forEach(m=>r(d,m[1],m[0]))}else r(a,c,l)}),a.focus()}function Mm(s,t,n){const a=Ft(s,A.radio);if(!a)return;t.forEach(o=>{const l=o[0],c=o[1],d=document.createElement("input"),m=document.createElement("label");d.type="radio",d.name=A.radio,d.value=l,Pl(l,n.inputValue)&&(d.checked=!0);const u=document.createElement("span");dt(u,c),u.className=A.label,m.appendChild(d),m.appendChild(u),a.appendChild(m)});const r=a.querySelectorAll("input");r.length&&r[0].focus()}const Nn=s=>{const t=[];return s instanceof Map?s.forEach((n,a)=>{let r=n;typeof r=="object"&&(r=Nn(r)),t.push([a,r])}):Object.keys(s).forEach(n=>{let a=s[n];typeof a=="object"&&(a=Nn(a)),t.push([n,a])}),t},Pl=(s,t)=>!!t&&t.toString()===s.toString(),Om=s=>{const t=Pe.innerParams.get(s);s.disableButtons(),t.input?Ml(s,"confirm"):Za(s,!0)},Am=s=>{const t=Pe.innerParams.get(s);s.disableButtons(),t.returnInputValueOnDeny?Ml(s,"deny"):Wa(s,!1)},Dm=(s,t)=>{s.disableButtons(),t(ws.cancel)},Ml=(s,t)=>{const n=Pe.innerParams.get(s);if(!n.input){Qt(`The "input" parameter is needed to be set when using returnInputValueOn${Da(t)}`);return}const a=s.getInput(),r=Nm(s,n);n.inputValidator?Tm(s,r,t):a&&!a.checkValidity()?(s.enableButtons(),s.showValidationMessage(n.validationMessage||a.validationMessage)):t==="deny"?Wa(s,r):Za(s,r)},Tm=(s,t,n)=>{const a=Pe.innerParams.get(s);s.disableInput(),Promise.resolve().then(()=>Hs(a.inputValidator(t,a.validationMessage))).then(o=>{s.enableButtons(),s.enableInput(),o?s.showValidationMessage(o):n==="deny"?Wa(s,t):Za(s,t)})},Wa=(s,t)=>{const n=Pe.innerParams.get(s||void 0);n.showLoaderOnDeny&&ps(es()),n.preDeny?(s.isAwaitingPromise=!0,Promise.resolve().then(()=>Hs(n.preDeny(t,n.validationMessage))).then(r=>{r===!1?(s.hideLoading(),Gs(s)):s.close({isDenied:!0,value:typeof r>"u"?t:r})}).catch(r=>Ol(s||void 0,r))):s.close({isDenied:!0,value:t})},Gr=(s,t)=>{s.close({isConfirmed:!0,value:t})},Ol=(s,t)=>{s.rejectPromise(t)},Za=(s,t)=>{const n=Pe.innerParams.get(s||void 0);n.showLoaderOnConfirm&&ps(),n.preConfirm?(s.resetValidationMessage(),s.isAwaitingPromise=!0,Promise.resolve().then(()=>Hs(n.preConfirm(t,n.validationMessage))).then(r=>{nt(Gn())||r===!1?(s.hideLoading(),Gs(s)):Gr(s,typeof r>"u"?t:r)}).catch(r=>Ol(s||void 0,r))):Gr(s,t)};function Sn(){const s=Pe.innerParams.get(this);if(!s)return;const t=Pe.domCache.get(this);Ze(t.loader),Kn()?s.icon&&ze(xs()):Im(t),pt([t.popup,t.actions],A.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Im=s=>{const t=s.popup.getElementsByClassName(s.loader.getAttribute("data-button-to-replace"));t.length?ze(t[0],"inline-block"):lh()&&Ze(s.actions)};function Al(){const s=Pe.innerParams.get(this),t=Pe.domCache.get(this);return t?Yn(t.popup,s.input):null}function Dl(s,t,n){const a=Pe.domCache.get(s);t.forEach(r=>{a[r].disabled=n})}function Tl(s,t){const n=we();if(!(!n||!s))if(s.type==="radio"){const a=n.querySelectorAll(`[name="${A.radio}"]`);for(let r=0;r<a.length;r++)a[r].disabled=t}else s.disabled=t}function Il(){Dl(this,["confirmButton","denyButton","cancelButton"],!1)}function Bl(){Dl(this,["confirmButton","denyButton","cancelButton"],!0)}function Rl(){Tl(this.getInput(),!1)}function Fl(){Tl(this.getInput(),!0)}function $l(s){const t=Pe.domCache.get(this),n=Pe.innerParams.get(this);dt(t.validationMessage,s),t.validationMessage.className=A["validation-message"],n.customClass&&n.customClass.validationMessage&&je(t.validationMessage,n.customClass.validationMessage),ze(t.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",A["validation-message"]),ul(a),je(a,A.inputerror))}function _l(){const s=Pe.domCache.get(this);s.validationMessage&&Ze(s.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),pt(t,A.inputerror))}const cs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Bm=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Rm={allowEnterKey:void 0},Fm=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ul=s=>Object.prototype.hasOwnProperty.call(cs,s),zl=s=>Bm.indexOf(s)!==-1,Hl=s=>Rm[s],$m=s=>{Ul(s)||Ke(`Unknown parameter "${s}"`)},_m=s=>{Fm.includes(s)&&Ke(`The parameter "${s}" is incompatible with toasts`)},Um=s=>{const t=Hl(s);t&&ol(s,t)},ql=s=>{s.backdrop===!1&&s.allowOutsideClick&&Ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),s.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(s.theme)&&Ke(`Invalid theme "${s.theme}"`);for(const t in s)$m(t),s.toast&&_m(t),Um(t)};function Vl(s){const t=Ye(),n=we(),a=Pe.innerParams.get(this);if(!n||At(n,a.hideClass.popup)){Ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=zm(s),o=Object.assign({},a,r);ql(o),t.dataset.swal2Theme=o.theme,wl(this,o),Pe.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,s),writable:!1,enumerable:!0}})}const zm=s=>{const t={};return Object.keys(s).forEach(n=>{zl(n)?t[n]=s[n]:Ke(`Invalid parameter to update: ${n}`)}),t};function Wl(){const s=Pe.domCache.get(this),t=Pe.innerParams.get(this);if(!t){Zl(this);return}s.popup&&se.swalCloseEventFinishedCallback&&(se.swalCloseEventFinishedCallback(),delete se.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),se.eventEmitter.emit("didDestroy"),Hm(this)}const Hm=s=>{Zl(s),delete s.params,delete se.keydownHandler,delete se.keydownTarget,delete se.currentInstance},Zl=s=>{s.isAwaitingPromise?(ca(Pe,s),s.isAwaitingPromise=!0):(ca(ms,s),ca(Pe,s),delete s.isAwaitingPromise,delete s.disableButtons,delete s.enableButtons,delete s.getInput,delete s.disableInput,delete s.enableInput,delete s.hideLoading,delete s.disableLoading,delete s.showValidationMessage,delete s.resetValidationMessage,delete s.close,delete s.closePopup,delete s.closeModal,delete s.closeToast,delete s.rejectPromise,delete s.update,delete s._destroy)},ca=(s,t)=>{for(const n in s)s[n].delete(t)};var qm=Object.freeze({__proto__:null,_destroy:Wl,close:$t,closeModal:$t,closePopup:$t,closeToast:$t,disableButtons:Bl,disableInput:Fl,disableLoading:Sn,enableButtons:Il,enableInput:Rl,getInput:Al,handleAwaitingPromise:Gs,hideLoading:Sn,rejectPromise:El,resetValidationMessage:_l,showValidationMessage:$l,update:Vl});const Vm=(s,t,n)=>{s.toast?Wm(s,t,n):(Gm(t),Jm(t),Km(s,t,n))},Wm=(s,t,n)=>{t.popup.onclick=()=>{s&&(Zm(s)||s.timer||s.input)||n(ws.close)}},Zm=s=>!!(s.showConfirmButton||s.showDenyButton||s.showCancelButton||s.showCloseButton);let Cn=!1;const Gm=s=>{s.popup.onmousedown=()=>{s.container.onmouseup=function(t){s.container.onmouseup=()=>{},t.target===s.container&&(Cn=!0)}}},Jm=s=>{s.container.onmousedown=t=>{t.target===s.container&&t.preventDefault(),s.popup.onmouseup=function(n){s.popup.onmouseup=()=>{},(n.target===s.popup||n.target instanceof HTMLElement&&s.popup.contains(n.target))&&(Cn=!0)}}},Km=(s,t,n)=>{t.container.onclick=a=>{if(Cn){Cn=!1;return}a.target===t.container&&Zn(s.allowOutsideClick)&&n(ws.backdrop)}},Ym=s=>typeof s=="object"&&s.jquery,Jr=s=>s instanceof Element||Ym(s),Xm=s=>{const t={};return typeof s[0]=="object"&&!Jr(s[0])?Object.assign(t,s[0]):["title","html","icon"].forEach((n,a)=>{const r=s[a];typeof r=="string"||Jr(r)?t[n]=r:r!==void 0&&Qt(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof r}`)}),t};function Qm(...s){return new this(...s)}function ep(s){class t extends this{_main(a,r){return super._main(a,Object.assign({},s,r))}}return t}const tp=()=>se.timeout&&se.timeout.getTimerLeft(),Gl=()=>{if(se.timeout)return dh(),se.timeout.stop()},Jl=()=>{if(se.timeout){const s=se.timeout.start();return za(s),s}},sp=()=>{const s=se.timeout;return s&&(s.running?Gl():Jl())},np=s=>{if(se.timeout){const t=se.timeout.increase(s);return za(t,!0),t}},ap=()=>!!(se.timeout&&se.timeout.isRunning());let Kr=!1;const Ca={};function rp(s="data-swal-template"){Ca[s]=this,Kr||(document.body.addEventListener("click",ip),Kr=!0)}const ip=s=>{for(let t=s.target;t&&t!==document;t=t.parentNode)for(const n in Ca){const a=t.getAttribute(n);if(a){Ca[n].fire({template:a});return}}};class op{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const a=this._getHandlersByEventName(t);a.includes(n)||a.push(n)}once(t,n){const a=(...r)=>{this.removeListener(t,a),n.apply(this,r)};this.on(t,a)}emit(t,...n){this._getHandlersByEventName(t).forEach(a=>{try{a.apply(this,n)}catch(r){console.error(r)}})}removeListener(t,n){const a=this._getHandlersByEventName(t),r=a.indexOf(n);r>-1&&a.splice(r,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}se.eventEmitter=new op;const lp=(s,t)=>{se.eventEmitter.on(s,t)},cp=(s,t)=>{se.eventEmitter.once(s,t)},dp=(s,t)=>{if(!s){se.eventEmitter.reset();return}t?se.eventEmitter.removeListener(s,t):se.eventEmitter.removeAllListeners(s)};var up=Object.freeze({__proto__:null,argsToParams:Xm,bindClickHandler:rp,clickCancel:Xh,clickConfirm:jl,clickDeny:Yh,enableLoading:ps,fire:Qm,getActions:Vs,getCancelButton:bs,getCloseButton:Fa,getConfirmButton:St,getContainer:Ye,getDenyButton:es,getFocusableElements:$a,getFooter:dl,getHtmlContainer:Ba,getIcon:xs,getIconContent:nh,getImage:cl,getInputLabel:ah,getLoader:ys,getPopup:we,getProgressSteps:Ra,getTimerLeft:tp,getTimerProgressBar:Jn,getTitle:ll,getValidationMessage:Gn,increaseTimer:np,isDeprecatedParameter:Hl,isLoading:ih,isTimerRunning:ap,isUpdatableParameter:zl,isValidParameter:Ul,isVisible:Kh,mixin:ep,off:dp,on:lp,once:cp,resumeTimer:Jl,showLoading:ps,stopTimer:Gl,toggleTimer:sp});class hp{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Kl=["swal-title","swal-html","swal-footer"],mp=s=>{const t=typeof s.template=="string"?document.querySelector(s.template):s.template;if(!t)return{};const n=t.content;return wp(n),Object.assign(pp(n),gp(n),fp(n),vp(n),xp(n),bp(n),yp(n,Kl))},pp=s=>{const t={};return Array.from(s.querySelectorAll("swal-param")).forEach(a=>{Xt(a,["name","value"]);const r=a.getAttribute("name"),o=a.getAttribute("value");!r||!o||(typeof cs[r]=="boolean"?t[r]=o!=="false":typeof cs[r]=="object"?t[r]=JSON.parse(o):t[r]=o)}),t},gp=s=>{const t={};return Array.from(s.querySelectorAll("swal-function-param")).forEach(a=>{const r=a.getAttribute("name"),o=a.getAttribute("value");!r||!o||(t[r]=new Function(`return ${o}`)())}),t},fp=s=>{const t={};return Array.from(s.querySelectorAll("swal-button")).forEach(a=>{Xt(a,["type","color","aria-label"]);const r=a.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(t[`${r}ButtonText`]=a.innerHTML,t[`show${Da(r)}Button`]=!0,a.hasAttribute("color")&&(t[`${r}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(t[`${r}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),t},vp=s=>{const t={},n=s.querySelector("swal-image");return n&&(Xt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},xp=s=>{const t={},n=s.querySelector("swal-icon");return n&&(Xt(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},bp=s=>{const t={},n=s.querySelector("swal-input");n&&(Xt(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const a=Array.from(s.querySelectorAll("swal-input-option"));return a.length&&(t.inputOptions={},a.forEach(r=>{Xt(r,["value"]);const o=r.getAttribute("value");if(!o)return;const l=r.innerHTML;t.inputOptions[o]=l})),t},yp=(s,t)=>{const n={};for(const a in t){const r=t[a],o=s.querySelector(r);o&&(Xt(o,[]),n[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},wp=s=>{const t=Kl.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(s.children).forEach(n=>{const a=n.tagName.toLowerCase();t.includes(a)||Ke(`Unrecognized element <${a}>`)})},Xt=(s,t)=>{Array.from(s.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Ke([`Unrecognized attribute "${n.name}" on <${s.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},Yl=10,jp=s=>{const t=Ye(),n=we();typeof s.willOpen=="function"&&s.willOpen(n),se.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Cp(t,n,s),setTimeout(()=>{Np(t,n)},Yl),_a()&&(Sp(t,s.scrollbarPadding,r),im()),!Kn()&&!se.previousActiveElement&&(se.previousActiveElement=document.activeElement),typeof s.didOpen=="function"&&setTimeout(()=>s.didOpen(n)),se.eventEmitter.emit("didOpen",n),pt(t,A["no-transition"])},kn=s=>{const t=we();if(s.target!==t)return;const n=Ye();t.removeEventListener("animationend",kn),t.removeEventListener("transitionend",kn),n.style.overflowY="auto"},Np=(s,t)=>{ml(t)?(s.style.overflowY="hidden",t.addEventListener("animationend",kn),t.addEventListener("transitionend",kn)):s.style.overflowY="auto"},Sp=(s,t,n)=>{om(),t&&n!=="hidden"&&pm(n),setTimeout(()=>{s.scrollTop=0})},Cp=(s,t,n)=>{je(s,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ze(t,"grid"),setTimeout(()=>{je(t,n.showClass.popup),t.style.removeProperty("opacity")},Yl)):ze(t,"grid"),je([document.documentElement,document.body],A.shown),n.heightAuto&&n.backdrop&&!n.toast&&je([document.documentElement,document.body],A["height-auto"])};var Yr={email:(s,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(s)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(s,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(s)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function kp(s){s.inputValidator||(s.input==="email"&&(s.inputValidator=Yr.email),s.input==="url"&&(s.inputValidator=Yr.url))}function Lp(s){(!s.target||typeof s.target=="string"&&!document.querySelector(s.target)||typeof s.target!="string"&&!s.target.appendChild)&&(Ke('Target parameter is not valid, defaulting to "body"'),s.target="body")}function Ep(s){kp(s),s.showLoaderOnConfirm&&!s.preConfirm&&Ke(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Lp(s),typeof s.title=="string"&&(s.title=s.title.split(`
`).join("<br />")),xh(s)}let Nt;var ln=new WeakMap;class Be{constructor(...t){if(Ju(this,ln,void 0),typeof window>"u")return;Nt=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,Ku(ln,this,this._main(Nt.params))}_main(t,n={}){if(ql(Object.assign({},n,t)),se.currentInstance){const o=ms.swalPromiseResolve.get(se.currentInstance),{isAwaitingPromise:l}=se.currentInstance;se.currentInstance._destroy(),l||o({isDismissed:!0}),_a()&&Cl()}se.currentInstance=Nt;const a=Mp(t,n);Ep(a),Object.freeze(a),se.timeout&&(se.timeout.stop(),delete se.timeout),clearTimeout(se.restoreFocusTimeout);const r=Op(Nt);return wl(Nt,a),Pe.innerParams.set(Nt,a),Pp(Nt,r,a)}then(t){return Ur(ln,this).then(t)}finally(t){return Ur(ln,this).finally(t)}}const Pp=(s,t,n)=>new Promise((a,r)=>{const o=l=>{s.close({isDismissed:!0,dismiss:l})};ms.swalPromiseResolve.set(s,a),ms.swalPromiseReject.set(s,r),t.confirmButton.onclick=()=>{Om(s)},t.denyButton.onclick=()=>{Am(s)},t.cancelButton.onclick=()=>{Dm(s,o)},t.closeButton.onclick=()=>{o(ws.close)},Vm(n,t,o),Qh(se,n,o),jm(s,n),jp(n),Ap(se,n,o),Dp(t,n),setTimeout(()=>{t.container.scrollTop=0})}),Mp=(s,t)=>{const n=mp(s),a=Object.assign({},cs,t,n,s);return a.showClass=Object.assign({},cs.showClass,a.showClass),a.hideClass=Object.assign({},cs.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},Op=s=>{const t={popup:we(),container:Ye(),actions:Vs(),confirmButton:St(),denyButton:es(),cancelButton:bs(),loader:ys(),closeButton:Fa(),validationMessage:Gn(),progressSteps:Ra()};return Pe.domCache.set(s,t),t},Ap=(s,t,n)=>{const a=Jn();Ze(a),t.timer&&(s.timeout=new hp(()=>{n("timer"),delete s.timeout},t.timer),t.timerProgressBar&&(ze(a),lt(a,t,"timerProgressBar"),setTimeout(()=>{s.timeout&&s.timeout.running&&za(t.timer)})))},Dp=(s,t)=>{if(!t.toast){if(!Zn(t.allowEnterKey)){ol("allowEnterKey"),Bp();return}Tp(s)||Ip(s,t)||Sa(-1,1)}},Tp=s=>{const t=Array.from(s.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&nt(n))return n.focus(),!0;return!1},Ip=(s,t)=>t.focusDeny&&nt(s.denyButton)?(s.denyButton.focus(),!0):t.focusCancel&&nt(s.cancelButton)?(s.cancelButton.focus(),!0):t.focusConfirm&&nt(s.confirmButton)?(s.confirmButton.focus(),!0):!1,Bp=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const s=new Date,t=localStorage.getItem("swal-initiation");t?(s.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${s}`)}Be.prototype.disableButtons=Bl;Be.prototype.enableButtons=Il;Be.prototype.getInput=Al;Be.prototype.disableInput=Fl;Be.prototype.enableInput=Rl;Be.prototype.hideLoading=Sn;Be.prototype.disableLoading=Sn;Be.prototype.showValidationMessage=$l;Be.prototype.resetValidationMessage=_l;Be.prototype.close=$t;Be.prototype.closePopup=$t;Be.prototype.closeModal=$t;Be.prototype.closeToast=$t;Be.prototype.rejectPromise=El;Be.prototype.update=Vl;Be.prototype._destroy=Wl;Object.assign(Be,up);Object.keys(qm).forEach(s=>{Be[s]=function(...t){return Nt&&Nt[s]?Nt[s](...t):null}});Be.DismissReason=ws;Be.version="11.22.2";const Ee=Be;Ee.default=Ee;typeof document<"u"&&function(s,t){var n=s.createElement("style");if(s.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Rp(){const s=Sc(),t=Ut(),[n,a]=i.useState(!1),[r,o]=i.useState(0),[l,c]=i.useState([]),d=s.state||{};let m=d.selectedDate||localStorage.getItem("selectedDate"),u=d.selectedTimeSlot||JSON.parse(localStorage.getItem("selectedTimeSlot")||"{}");console.log("📦 Final pickupTimeSlot:",u),i.useEffect(()=>{try{const v=JSON.parse(localStorage.getItem("cart")||"[]"),h=localStorage.getItem("selectedDate"),p=JSON.parse(localStorage.getItem("selectedTimeSlot")||"null");if(c(v),m||(m=h),u||(u=p),!v.length||!m||!u)throw new Error("Missing booking info");const b=v.reduce((g,k)=>{var w;const C=((w=k.service)==null?void 0:w.options)||[],P=k.selectedOptions.reduce((y,j)=>{const N=C.find(L=>L._id===j);return y+((N==null?void 0:N.price)||0)},0);return g+P*k.quantity},0);o(b)}catch{Ee.fire("Error","Invalid or missing cart data","error").then(()=>t("/mainapp"))}},[t]);const f=async()=>{var h,p,b,g,k,C;if(!m||!u||l.length===0){Ee.fire("Error","Incomplete booking data.","error");return}const v={label:((p=(h=u==null?void 0:u.period)==null?void 0:h.toLowerCase)==null?void 0:p.call(h))||"",range:((g=(b=u==null?void 0:u.time)==null?void 0:b.trim)==null?void 0:g.call(b))||""};console.log("✅ Sending formatted slot:",v),a(!0);try{const P=localStorage.getItem("token");await ne.post("http://localhost:5000/api/booking/create-multi",{items:l.map(w=>{var y;return{productId:((y=w.service)==null?void 0:y._id)||w.productId,quantity:w.quantity,selectedOptions:w.selectedOptions||[]}}),pickupDate:m,pickupTimeSlot:v,totalAmount:r,paymentMethod:"cash"},{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}}),Ee.fire("Order Placed","Cash on Delivery confirmed!","success"),localStorage.removeItem("cart"),localStorage.removeItem("selectedDate"),localStorage.removeItem("selectedTimeSlot"),localStorage.removeItem("quantity"),setTimeout(()=>t("/"),1e3)}catch(P){Ee.fire("Error",((C=(k=P.response)==null?void 0:k.data)==null?void 0:C.message)||"Something went wrong","error")}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(yo,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Payment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Review your order and proceed"})]})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 border-t pt-3",children:[l.map((v,h)=>{var p;return e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsxs("span",{children:[v.name||((p=v.service)==null?void 0:p.name)," x ",v.quantity]}),e.jsxs("span",{children:["₹",v.selectedOptions.reduce((b,g)=>{var C,P;const k=(P=(C=v==null?void 0:v.service)==null?void 0:C.options)==null?void 0:P.find(w=>w._id===g);return b+((k==null?void 0:k.price)||0)},0)*v.quantity]})]},h)}),e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900 pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₹",r.toFixed(2)]})]})]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-green-500 bg-green-50",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-500",children:e.jsx(Zc,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay with cash upon delivery"})]})]}),e.jsx(Rc,{className:"w-5 h-5 text-green-600"})]})})})}),e.jsx("button",{onClick:f,disabled:n,className:`w-full py-4 px-6 rounded-2xl font-semibold text-white ${n?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-lime-500 hover:from-green-700 hover:to-lime-600"}`,children:n?"Processing...":"Place Order"})]})]})}const Fp=()=>{const[s,t]=i.useState(""),[n,a]=i.useState(""),[r,o]=i.useState(!1),[l,c]=i.useState(!1),[d,m]=i.useState("customer"),u=Ut(),f=async v=>{if(v.preventDefault(),!s||!n||!d){Ee.fire({icon:"warning",title:"Missing Information",text:"Please fill in all fields",confirmButtonColor:"#3B82F6"});return}if(!s.includes("@")){Ee.fire({icon:"error",title:"Invalid Email",text:"Please enter a valid email address",confirmButtonColor:"#3B82F6"});return}c(!0);try{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:n,role:d})}),p=await h.json();if(c(!1),h.ok){if(Ee.fire({icon:"success",title:"Welcome Back!",text:p.message||"You have successfully signed in",confirmButtonColor:"#3B82F6",timer:1e3,timerProgressBar:!0}),p.token)if(localStorage.setItem("token",p.token),p.userId)localStorage.setItem("userId",p.userId);else{const b=JSON.parse(atob(p.token.split(".")[1]));b.userId&&localStorage.setItem("userId",b.userId),b.role&&localStorage.setItem("role",b.role)}d==="customer"?u("/mainapp"):d==="washerman"?u("/LaundrymanDashboard"):d==="admin"&&u("/AdminDashboard")}else Ee.fire({icon:"error",title:"Sign In Failed",text:p.message||"Invalid email or password",confirmButtonColor:"#3B82F6"})}catch(h){c(!1),Ee.fire({icon:"error",title:"Server Error",text:"Something went wrong. Please try again later.",confirmButtonColor:"#3B82F6"}),console.error("SignIn error:",h)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white px-4 py-10 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 via-purple-400/20 to-pink-400/20"}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-blue-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-purple-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-pink-200/30 rounded-full blur-3xl animate-pulse delay-500"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx($s,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2",children:"FoldMate"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Please sign in to your account"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Continue with email"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:v=>t(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50/50",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:r?"text":"password",value:n,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50/50",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>o(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:r?e.jsx(No,{className:"w-5 h-5"}):e.jsx(So,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Select Role"}),e.jsxs("select",{id:"role",value:d,onChange:v=>m(v.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"washerman",children:"Washer Man"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",onClick:async()=>{const{value:v}=await Ee.fire({title:"Forgot Password",input:"email",inputLabel:"Enter your registered email address",inputPlaceholder:"you@example.com",confirmButtonText:"Send Reset Link",confirmButtonColor:"#3B82F6",showCancelButton:!0,cancelButtonColor:"#d33",inputValidator:h=>{if(h){if(!h.includes("@"))return"Invalid email format"}else return"Email is required"}});if(v)try{const h=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v})}),p=await h.json();h.ok?Ee.fire({icon:"success",title:"Email Sent!",text:"A password reset link has been sent to your email.",confirmButtonColor:"#3B82F6"}):Ee.fire({icon:"error",title:"Failed to Send",text:p.message||"Email not found or server error.",confirmButtonColor:"#3B82F6"})}catch{Ee.fire({icon:"error",title:"Server Error",text:"Something went wrong. Please try again later.",confirmButtonColor:"#3B82F6"})}},className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed shadow-lg",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(qe,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Sign up here"})]})})]})})]})},$p=()=>{const[s,t]=i.useState({fullName:"",email:"",password:"",contact:"",confirmPassword:"",role:"customer"}),[n,a]=i.useState(!1),[r,o]=i.useState(!1),[l,c]=i.useState(!1),d=Ut(),m=v=>{const{name:h,value:p}=v.target;t(b=>({...b,[h]:p}))},u=()=>{const{fullName:v,email:h,password:p,confirmPassword:b,contact:g}=s;return!v||!h||!p||!b||!g?(Ee.fire({icon:"warning",title:"Missing Information",text:"Please fill in all fields",confirmButtonColor:"#3B82F6"}),!1):h.includes("@")?p.length<6?(Ee.fire({icon:"error",title:"Password Too Short",text:"Password must be at least 6 characters long",confirmButtonColor:"#3B82F6"}),!1):p!==b?(Ee.fire({icon:"error",title:"Passwords Don't Match",text:"Please make sure both passwords match",confirmButtonColor:"#3B82F6"}),!1):!0:(Ee.fire({icon:"error",title:"Invalid Email",text:"Please enter a valid email address",confirmButtonColor:"#3B82F6"}),!1)},f=async v=>{if(v.preventDefault(),!!u()){c(!0);try{const h=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.fullName,email:s.email,password:s.password,role:s.role,contact:s.contact})}),p=await h.json();if(!h.ok)throw new Error(p.message||"Signup failed");Ee.fire({icon:"success",title:"Account Created!",text:p.message||"Signup successful.",confirmButtonColor:"#3B82F6",timer:1500,timerProgressBar:!0}),d("/signin")}catch(h){Ee.fire({icon:"error",title:"Signup Error",text:h.message||"Unexpected error. Please try again.",confirmButtonColor:"#3B82F6"})}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white px-4 py-10 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/20 via-pink-400/20 to-blue-400/20"}),e.jsx("div",{className:"absolute top-32 right-20 w-28 h-28 bg-purple-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-32 left-16 w-36 h-36 bg-pink-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/3 right-10 w-20 h-20 bg-blue-200/30 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx($s,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2",children:"Join FoldMate"}),e.jsx("p",{className:"text-gray-600",children:"Create your account and get started!"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsx(Es,{id:"fullName",label:"Full Name",icon:e.jsx(Pa,{}),placeholder:"Enter your full name",name:"fullName",value:s.fullName,onChange:m}),e.jsx(Es,{id:"email",label:"Email Address",icon:e.jsx(Ea,{}),placeholder:"Enter your email",type:"email",name:"email",value:s.email,onChange:m}),e.jsx(Es,{id:"contact",label:"Contact Number",icon:e.jsx(Po,{}),placeholder:"Enter your contact number",type:"tel",name:"contact",value:s.contact,onChange:m}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role"}),e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:m,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"washerman",children:"Washerman"})]})]}),e.jsx(Es,{id:"password",label:"Password",icon:e.jsx(ga,{}),placeholder:"Create a password",type:n?"text":"password",name:"password",value:s.password,onChange:m,toggleVisibility:()=>a(!n),visible:n}),e.jsx(Es,{id:"confirmPassword",label:"Confirm Password",icon:e.jsx(ga,{}),placeholder:"Confirm your password",type:r?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:m,toggleVisibility:()=>o(!r),visible:r}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 rounded-xl transition duration-200 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed shadow-lg",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating Account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(qe,{to:"/signin",className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Sign in here"})]})})]})})]})},Es=({id:s,label:t,icon:n,placeholder:a,type:r="text",name:o,value:l,onChange:c,toggleVisibility:d,visible:m})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s,className:"text-sm font-medium text-gray-700",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n}),e.jsx("input",{id:s,name:o,type:r,value:l,onChange:c,placeholder:a,className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50/50 transition-all"}),d&&e.jsx("button",{type:"button",onClick:d,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?e.jsx(No,{className:"w-5 h-5"}):e.jsx(So,{className:"w-5 h-5"})})]})]});function Is(s){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(s)}function _p(s,t){if(Is(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if(Is(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Up(s){var t=_p(s,"string");return Is(t)=="symbol"?t:t+""}function D(s,t,n){return(t=Up(t))in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function Xl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var da,Xr;function zp(){if(Xr)return da;Xr=1;var s=function(n,a,r,o,l,c,d,m){if(!n){var u;if(a===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,l,c,d,m],v=0;u=new Error(a.replace(/%s/g,function(){return f[v++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return da=s,da}var Hp=zp(),_e=Xl(Hp),he=i.createContext(null);function qp(){_e(!!i.useContext,"useGoogleMap is React hook and requires React version 16.8+");var s=i.useContext(he);return _e(!!s,"useGoogleMap needs a GoogleMap available up in the tree"),s}function Vp(s,t,n){return Object.keys(s).reduce(function(r,o){return t(r,s[o],o)},n)}function Wp(s,t){Object.keys(s).forEach(n=>t(s[n],n))}function Zp(s,t,n,a){var r={},o=(l,c)=>{var d=n[c];d!==t[c]&&(r[c]=d,l(a,d))};return Wp(s,o),r}function Gp(s,t,n){var a=Vp(n,function(o,l,c){return typeof s[c]=="function"&&o.push(google.maps.event.addListener(t,l,s[c])),o},[]);return a}function Jp(s){google.maps.event.removeListener(s)}function xe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(Jp)}function fe(s){var{updaterMap:t,eventMap:n,prevProps:a,nextProps:r,instance:o}=s,l=Gp(r,o,n);return Zp(t,a,r,o),l}var Qr={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},ei={extraMapTypes(s,t){t.forEach(function(a,r){s.mapTypes.set(String(r),a)})},center(s,t){s.setCenter(t)},clickableIcons(s,t){s.setClickableIcons(t)},heading(s,t){s.setHeading(t)},mapTypeId(s,t){s.setMapTypeId(t)},options(s,t){s.setOptions(t)},streetView(s,t){s.setStreetView(t)},tilt(s,t){s.setTilt(t)},zoom(s,t){s.setZoom(t)}};function Kp(s){var{children:t,options:n,id:a,mapContainerStyle:r,mapContainerClassName:o,center:l,onClick:c,onDblClick:d,onDrag:m,onDragEnd:u,onDragStart:f,onMouseMove:v,onMouseOut:h,onMouseOver:p,onMouseDown:b,onMouseUp:g,onRightClick:k,onCenterChanged:C,onLoad:P,onUnmount:w}=s,[y,j]=i.useState(null),N=i.useRef(null),[L,x]=i.useState(null),[M,I]=i.useState(null),[F,_]=i.useState(null),[H,$]=i.useState(null),[q,Z]=i.useState(null),[G,ee]=i.useState(null),[ce,le]=i.useState(null),[re,z]=i.useState(null),[me,T]=i.useState(null),[U,te]=i.useState(null),[V,ae]=i.useState(null),[W,Q]=i.useState(null);return i.useEffect(()=>{n&&y!==null&&y.setOptions(n)},[y,n]),i.useEffect(()=>{y!==null&&typeof l<"u"&&y.setCenter(l)},[y,l]),i.useEffect(()=>{y&&d&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(y,"dblclick",d)))},[d]),i.useEffect(()=>{y&&u&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(y,"dragend",u)))},[u]),i.useEffect(()=>{y&&f&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(y,"dragstart",f)))},[f]),i.useEffect(()=>{y&&b&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(y,"mousedown",b)))},[b]),i.useEffect(()=>{y&&v&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(y,"mousemove",v)))},[v]),i.useEffect(()=>{y&&h&&(ce!==null&&google.maps.event.removeListener(ce),le(google.maps.event.addListener(y,"mouseout",h)))},[h]),i.useEffect(()=>{y&&p&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(y,"mouseover",p)))},[p]),i.useEffect(()=>{y&&g&&(me!==null&&google.maps.event.removeListener(me),T(google.maps.event.addListener(y,"mouseup",g)))},[g]),i.useEffect(()=>{y&&k&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(y,"rightclick",k)))},[k]),i.useEffect(()=>{y&&c&&(V!==null&&google.maps.event.removeListener(V),ae(google.maps.event.addListener(y,"click",c)))},[c]),i.useEffect(()=>{y&&m&&(W!==null&&google.maps.event.removeListener(W),Q(google.maps.event.addListener(y,"drag",m)))},[m]),i.useEffect(()=>{y&&C&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(y,"center_changed",C)))},[c]),i.useEffect(()=>{var ke=N.current===null?null:new google.maps.Map(N.current,n);return j(ke),ke!==null&&P&&P(ke),()=>{ke!==null&&w&&w(ke)}},[]),e.jsx("div",{id:a,ref:N,style:r,className:o,children:e.jsx(he.Provider,{value:y,children:y!==null?t:null})})}i.memo(Kp);class Ql extends i.PureComponent{constructor(){super(...arguments),D(this,"state",{map:null}),D(this,"registeredEvents",[]),D(this,"mapRef",null),D(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),D(this,"panTo",t=>{var n=this.getInstance();n&&n.panTo(t)}),D(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),D(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=fe({updaterMap:ei,eventMap:Qr,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:ei,eventMap:Qr,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),xe(this.registeredEvents))}render(){return e.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:e.jsx(he.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function ti(s,t,n,a,r,o,l){try{var c=s[o](l),d=c.value}catch(m){return void n(m)}c.done?t(d):Promise.resolve(d).then(a,r)}function ec(s){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=s.apply(t,n);function l(d){ti(o,a,r,l,c,"next",d)}function c(d){ti(o,a,r,l,c,"throw",d)}l(void 0)})}}function tc(s){var{googleMapsApiKey:t,googleMapsClientId:n,version:a="weekly",language:r,region:o,libraries:l,channel:c,mapIds:d,authReferrerPolicy:m,apiUrl:u="https://maps.googleapis.com"}=s,f=[];return _e(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):n&&f.push("client=".concat(n)),a&&f.push("v=".concat(a)),r&&f.push("language=".concat(r)),o&&f.push("region=".concat(o)),l&&l.length&&f.push("libraries=".concat(l.sort().join(","))),c&&f.push("channel=".concat(c)),d&&d.length&&f.push("map_ids=".concat(d.join(","))),m&&f.push("auth_referrer_policy=".concat(m)),f.push("loading=async"),f.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(f.join("&"))}var _t=typeof document<"u";function sc(s){var{url:t,id:n,nonce:a}=s;return _t?new Promise(function(o,l){var c=document.getElementById(n),d=window;if(c){var m=c.getAttribute("data-state");if(c.src===t&&m!=="error"){if(m==="ready")return o(n);var u=d.initMap,f=c.onerror;d.initMap=function(){u&&u(),o(n)},c.onerror=function(h){f&&f(h),l(h)};return}else c.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=t,v.id=n,v.async=!0,v.nonce=a||"",v.onerror=function(p){v.setAttribute("data-state","error"),l(p)},d.initMap=function(){v.setAttribute("data-state","ready"),o(n)},document.head.appendChild(v)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function si(s){var t=s.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:s.tagName.toLowerCase()==="style"&&s.styleSheet&&s.styleSheet.cssText&&s.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(s.styleSheet.cssText="",!0):s.tagName.toLowerCase()==="style"&&s.innerHTML&&s.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(s.innerHTML="",!0):s.tagName.toLowerCase()==="style"&&!s.styleSheet&&!s.innerHTML}function Ga(){var s=document.getElementsByTagName("head")[0];if(s){var t=s.insertBefore.bind(s);s.insertBefore=function(r,o){return si(r)||Reflect.apply(t,s,[r,o]),r};var n=s.appendChild.bind(s);s.appendChild=function(r){return si(r)||Reflect.apply(n,s,[r]),r}}}var Ps=!1;function nc(){return e.jsx("div",{children:"Loading..."})}var Bs={id:"script-loader",version:"weekly"};class Yp extends i.PureComponent{constructor(){super(...arguments),D(this,"check",null),D(this,"state",{loaded:!1}),D(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),D(this,"isCleaningUp",ec(function*(){function t(n){if(!Ps)n();else if(_t)var a=window.setInterval(function(){Ps||(window.clearInterval(a),n())},1)}return new Promise(t)})),D(this,"cleanup",()=>{Ps=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(a){return typeof a.src=="string"&&a.src.includes("maps.googleapis")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(a){return a.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(a){return a.innerText!==void 0&&a.innerText.length>0&&a.innerText.includes(".gm-")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}),D(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Ga(),_e(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:tc(this.props)};sc(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),D(this,"getRef",t=>{this.check=t})}componentDidMount(){if(_t){if(window.google&&window.google.maps&&!Ps){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_t&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(_t){this.cleanup();var t=()=>{this.check||(delete window.google,Ps=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||e.jsx(nc,{})]})}}D(Yp,"defaultProps",Bs);function Xp(s,t){if(s==null)return{};var n={};for(var a in s)if({}.hasOwnProperty.call(s,a)){if(t.includes(a))continue;n[a]=s[a]}return n}function Ja(s,t){if(s==null)return{};var n,a,r=Xp(s,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(a=0;a<o.length;a++)n=o[a],t.includes(n)||{}.propertyIsEnumerable.call(s,n)&&(r[n]=s[n])}return r}var ni;function Qp(s){var{id:t=Bs.id,version:n=Bs.version,nonce:a,googleMapsApiKey:r,googleMapsClientId:o,language:l,region:c,libraries:d,preventGoogleFontsLoading:m,channel:u,mapIds:f,authReferrerPolicy:v,apiUrl:h="https://maps.googleapis.com"}=s,p=i.useRef(!1),[b,g]=i.useState(!1),[k,C]=i.useState(void 0);i.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),i.useEffect(function(){_t&&m&&Ga()},[m]),i.useEffect(function(){b&&_e(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[b]);var P=tc({version:n,googleMapsApiKey:r,googleMapsClientId:o,language:l,region:c,libraries:d,channel:u,mapIds:f,authReferrerPolicy:v,apiUrl:h});i.useEffect(function(){if(!_t)return;function j(){p.current&&(g(!0),ni=P)}if(window.google&&window.google.maps&&ni===P){j();return}sc({id:t,url:P,nonce:a}).then(j).catch(function(L){p.current&&C(L),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(r||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(L)})},[t,P,a]);var w=i.useRef(void 0);return i.useEffect(function(){w.current&&d!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=d},[d]),{isLoaded:b,loadError:k,url:P}}var eg=["loadingElement","onLoad","onError","onUnmount","children"],tg=e.jsx(nc,{});function sg(s){var{loadingElement:t,onLoad:n,onError:a,onUnmount:r,children:o}=s,l=Ja(s,eg),{isLoaded:c,loadError:d}=Qp(l);return i.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),i.useEffect(function(){d&&typeof a=="function"&&a(d)},[d,a]),i.useEffect(function(){return()=>{r&&r()}},[r]),c?o:t||tg}i.memo(sg);function ng(s,t,n,a){function r(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(u){try{m(a.next(u))}catch(f){l(f)}}function d(u){try{m(a.throw(u))}catch(f){l(f)}}function m(u){u.done?o(u.value):r(u.value).then(c,d)}m((a=a.apply(s,[])).next())})}function ag(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var rg=function s(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,o;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!s(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),a=o.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=a;r--!==0;){var l=o[r];if(!s(t[l],n[l]))return!1}return!0}return t!==t&&n!==n},ig=ag(rg),ai="__googleMapsScriptId",is;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(is||(is={}));class Zt{constructor(t){var{apiKey:n,authReferrerPolicy:a,channel:r,client:o,id:l=ai,language:c,libraries:d=[],mapIds:m,nonce:u,region:f,retries:v=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=a,this.channel=r,this.client=o,this.id=l||ai,this.language=c,this.libraries=d,this.mapIds=m,this.nonce=u,this.region=f,this.retries=v,this.url=h,this.version=p,Zt.instance){if(!ig(this.options,Zt.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Zt.instance.options)));return Zt.instance}Zt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?is.FAILURE:this.done?is.SUCCESS:this.loading?is.LOADING:is.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(a=>{a?n(a.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(o=>!a[o]&&delete a[o]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(o=>{var l,c,d,m="The Google Maps JavaScript API",u="google",f="importLibrary",v="__ib__",h=document,p=window;p=p[u]||(p[u]={});var b=p.maps||(p.maps={}),g=new Set,k=new URLSearchParams,C=()=>l||(l=new Promise((P,w)=>ng(this,void 0,void 0,function*(){var y;yield c=h.createElement("script"),c.id=this.id,k.set("libraries",[...g]+"");for(d in o)k.set(d.replace(/[A-Z]/g,j=>"_"+j[0].toLowerCase()),o[d]);k.set("callback",u+".maps."+v),c.src=this.url+"?"+k,b[v]=P,c.onerror=()=>l=w(Error(m+" could not load.")),c.nonce=this.nonce||((y=h.querySelector("script[nonce]"))===null||y===void 0?void 0:y.nonce)||"",h.head.append(c)})));b[f]?console.warn(m+" only loads once. Ignoring:",o):b[f]=function(P){for(var w=arguments.length,y=new Array(w>1?w-1:0),j=1;j<w;j++)y[j-1]=arguments[j];return g.add(P)&&C().then(()=>b[f](P,...y))}})(a);var r=this.libraries.map(o=>this.importLibrary(o));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),o=>{var l=new ErrorEvent("error",{error:o});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var og=["maps"];function ac(s){var{id:t=Bs.id,version:n=Bs.version,nonce:a,googleMapsApiKey:r,language:o,region:l,libraries:c=og,preventGoogleFontsLoading:d,mapIds:m,authReferrerPolicy:u}=s,f=i.useRef(!1),[v,h]=i.useState(!1),[p,b]=i.useState(void 0);i.useEffect(function(){return f.current=!0,()=>{f.current=!1}},[]);var g=i.useMemo(()=>new Zt({id:t,apiKey:r,version:n,libraries:c,language:o||"en",region:l||"US",mapIds:m||[],nonce:a||"",authReferrerPolicy:u||"origin"}),[t,r,n,c,o,l,m,a,u]);i.useEffect(function(){v||g.load().then(()=>{f.current&&h(!0)}).catch(P=>{b(P)})},[]),i.useEffect(()=>{_t&&d&&Ga()},[d]);var k=i.useRef();return i.useEffect(()=>{k.current&&c!==k.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),k.current=c},[c]),{isLoaded:v,loadError:p}}function ri(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Ln(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ri(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var ii={},oi={options(s,t){s.setOptions(t)}};function lg(s){var{options:t,onLoad:n,onUnmount:a}=s,r=i.useContext(he),[o,l]=i.useState(null);return i.useEffect(()=>{o!==null&&o.setMap(r)},[r]),i.useEffect(()=>{t&&o!==null&&o.setOptions(t)},[o,t]),i.useEffect(()=>{var c=new google.maps.TrafficLayer(Ln(Ln({},t),{},{map:r}));return l(c),n&&n(c),()=>{o!==null&&(a&&a(o),o.setMap(null))}},[]),null}i.memo(lg);class cg extends i.PureComponent{constructor(){super(...arguments),D(this,"state",{trafficLayer:null}),D(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),D(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(Ln(Ln({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:oi,eventMap:ii,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:oi,eventMap:ii,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),xe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}D(cg,"contextType",he);function dg(s){var{onLoad:t,onUnmount:n}=s,a=i.useContext(he),[r,o]=i.useState(null);return i.useEffect(()=>{r!==null&&r.setMap(a)},[a]),i.useEffect(()=>{var l=new google.maps.BicyclingLayer;return o(l),l.setMap(a),t&&t(l),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}i.memo(dg);class ug extends i.PureComponent{constructor(){super(...arguments),D(this,"state",{bicyclingLayer:null}),D(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}D(ug,"contextType",he);function hg(s){var{onLoad:t,onUnmount:n}=s,a=i.useContext(he),[r,o]=i.useState(null);return i.useEffect(()=>{r!==null&&r.setMap(a)},[a]),i.useEffect(()=>{var l=new google.maps.TransitLayer;return o(l),l.setMap(a),t&&t(l),()=>{r!==null&&(n&&n(r),r.setMap(null))}},[]),null}i.memo(hg);class mg extends i.PureComponent{constructor(){super(...arguments),D(this,"state",{transitLayer:null}),D(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}D(mg,"contextType",he);function li(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function En(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?li(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var ci={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},di={drawingMode(s,t){s.setDrawingMode(t)},options(s,t){s.setOptions(t)}};function pg(s){var{options:t,drawingMode:n,onCircleComplete:a,onMarkerComplete:r,onOverlayComplete:o,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:m,onUnmount:u}=s,f=i.useContext(he),[v,h]=i.useState(null),[p,b]=i.useState(null),[g,k]=i.useState(null),[C,P]=i.useState(null),[w,y]=i.useState(null),[j,N]=i.useState(null),[L,x]=i.useState(null);return i.useEffect(()=>{v!==null&&v.setMap(f)},[f]),i.useEffect(()=>{t&&v!==null&&v.setOptions(t)},[v,t]),i.useEffect(()=>{v!==null&&v.setDrawingMode(n??null)},[v,n]),i.useEffect(()=>{v&&a&&(p!==null&&google.maps.event.removeListener(p),b(google.maps.event.addListener(v,"circlecomplete",a)))},[v,a]),i.useEffect(()=>{v&&r&&(g!==null&&google.maps.event.removeListener(g),k(google.maps.event.addListener(v,"markercomplete",r)))},[v,r]),i.useEffect(()=>{v&&o&&(C!==null&&google.maps.event.removeListener(C),P(google.maps.event.addListener(v,"overlaycomplete",o)))},[v,o]),i.useEffect(()=>{v&&l&&(w!==null&&google.maps.event.removeListener(w),y(google.maps.event.addListener(v,"polygoncomplete",l)))},[v,l]),i.useEffect(()=>{v&&c&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(v,"polylinecomplete",c)))},[v,c]),i.useEffect(()=>{v&&d&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(v,"rectanglecomplete",d)))},[v,d]),i.useEffect(()=>{_e(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(En(En({},t),{},{map:f}));return n&&M.setDrawingMode(n),a&&b(google.maps.event.addListener(M,"circlecomplete",a)),r&&k(google.maps.event.addListener(M,"markercomplete",r)),o&&P(google.maps.event.addListener(M,"overlaycomplete",o)),l&&y(google.maps.event.addListener(M,"polygoncomplete",l)),c&&N(google.maps.event.addListener(M,"polylinecomplete",c)),d&&x(google.maps.event.addListener(M,"rectanglecomplete",d)),h(M),m&&m(M),()=>{v!==null&&(p&&google.maps.event.removeListener(p),g&&google.maps.event.removeListener(g),C&&google.maps.event.removeListener(C),w&&google.maps.event.removeListener(w),j&&google.maps.event.removeListener(j),L&&google.maps.event.removeListener(L),u&&u(v),v.setMap(null))}},[]),null}i.memo(pg);class gg extends i.PureComponent{constructor(t){super(t),D(this,"registeredEvents",[]),D(this,"state",{drawingManager:null}),D(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),_e(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(En(En({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:di,eventMap:ci,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:di,eventMap:ci,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),xe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}D(gg,"contextType",he);function ui(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function ds(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ui(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var hi={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},mi={animation(s,t){s.setAnimation(t)},clickable(s,t){s.setClickable(t)},cursor(s,t){s.setCursor(t)},draggable(s,t){s.setDraggable(t)},icon(s,t){s.setIcon(t)},label(s,t){s.setLabel(t)},map(s,t){s.setMap(t)},opacity(s,t){s.setOpacity(t)},options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},shape(s,t){s.setShape(t)},title(s,t){s.setTitle(t)},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},Pn={};function fg(s){var{position:t,options:n,clusterer:a,noClustererRedraw:r,children:o,draggable:l,visible:c,animation:d,clickable:m,cursor:u,icon:f,label:v,opacity:h,shape:p,title:b,zIndex:g,onClick:k,onDblClick:C,onDrag:P,onDragEnd:w,onDragStart:y,onMouseOut:j,onMouseOver:N,onMouseUp:L,onMouseDown:x,onRightClick:M,onClickableChanged:I,onCursorChanged:F,onAnimationChanged:_,onDraggableChanged:H,onFlatChanged:$,onIconChanged:q,onPositionChanged:Z,onShapeChanged:G,onTitleChanged:ee,onVisibleChanged:ce,onZindexChanged:le,onLoad:re,onUnmount:z}=s,me=i.useContext(he),[T,U]=i.useState(null),[te,V]=i.useState(null),[ae,W]=i.useState(null),[Q,ke]=i.useState(null),[Fe,at]=i.useState(null),[pe,Me]=i.useState(null),[Ct,zt]=i.useState(null),[wt,ts]=i.useState(null),[Ge,gt]=i.useState(null),[Xe,He]=i.useState(null),[B,R]=i.useState(null),[K,ie]=i.useState(null),[ve,Le]=i.useState(null),[Y,Se]=i.useState(null),[Oe,Qe]=i.useState(null),[Ce,ut]=i.useState(null),[Ve,Dt]=i.useState(null),[ft,Tt]=i.useState(null),[Ue,ss]=i.useState(null),[ht,Ht]=i.useState(null),[vt,qt]=i.useState(null),[kt,ns]=i.useState(null);i.useEffect(()=>{T!==null&&T.setMap(me)},[me]),i.useEffect(()=>{typeof n<"u"&&T!==null&&T.setOptions(n)},[T,n]),i.useEffect(()=>{typeof l<"u"&&T!==null&&T.setDraggable(l)},[T,l]),i.useEffect(()=>{t&&T!==null&&T.setPosition(t)},[T,t]),i.useEffect(()=>{typeof c<"u"&&T!==null&&T.setVisible(c)},[T,c]),i.useEffect(()=>{T==null||T.setAnimation(d)},[T,d]),i.useEffect(()=>{T&&m!==void 0&&T.setClickable(m)},[T,m]),i.useEffect(()=>{T&&u!==void 0&&T.setCursor(u)},[T,u]),i.useEffect(()=>{T&&f!==void 0&&T.setIcon(f)},[T,f]),i.useEffect(()=>{T&&v!==void 0&&T.setLabel(v)},[T,v]),i.useEffect(()=>{T&&h!==void 0&&T.setOpacity(h)},[T,h]),i.useEffect(()=>{T&&p!==void 0&&T.setShape(p)},[T,p]),i.useEffect(()=>{T&&b!==void 0&&T.setTitle(b)},[T,b]),i.useEffect(()=>{T&&g!==void 0&&T.setZIndex(g)},[T,g]),i.useEffect(()=>{T&&C&&(te!==null&&google.maps.event.removeListener(te),V(google.maps.event.addListener(T,"dblclick",C)))},[C]),i.useEffect(()=>{T&&w&&(ae!==null&&google.maps.event.removeListener(ae),W(google.maps.event.addListener(T,"dragend",w)))},[w]),i.useEffect(()=>{T&&y&&(Q!==null&&google.maps.event.removeListener(Q),ke(google.maps.event.addListener(T,"dragstart",y)))},[y]),i.useEffect(()=>{T&&x&&(Fe!==null&&google.maps.event.removeListener(Fe),at(google.maps.event.addListener(T,"mousedown",x)))},[x]),i.useEffect(()=>{T&&j&&(pe!==null&&google.maps.event.removeListener(pe),Me(google.maps.event.addListener(T,"mouseout",j)))},[j]),i.useEffect(()=>{T&&N&&(Ct!==null&&google.maps.event.removeListener(Ct),zt(google.maps.event.addListener(T,"mouseover",N)))},[N]),i.useEffect(()=>{T&&L&&(wt!==null&&google.maps.event.removeListener(wt),ts(google.maps.event.addListener(T,"mouseup",L)))},[L]),i.useEffect(()=>{T&&M&&(Ge!==null&&google.maps.event.removeListener(Ge),gt(google.maps.event.addListener(T,"rightclick",M)))},[M]),i.useEffect(()=>{T&&k&&(Xe!==null&&google.maps.event.removeListener(Xe),He(google.maps.event.addListener(T,"click",k)))},[k]),i.useEffect(()=>{T&&P&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(T,"drag",P)))},[P]),i.useEffect(()=>{T&&I&&(K!==null&&google.maps.event.removeListener(K),ie(google.maps.event.addListener(T,"clickable_changed",I)))},[I]),i.useEffect(()=>{T&&F&&(ve!==null&&google.maps.event.removeListener(ve),Le(google.maps.event.addListener(T,"cursor_changed",F)))},[F]),i.useEffect(()=>{T&&_&&(Y!==null&&google.maps.event.removeListener(Y),Se(google.maps.event.addListener(T,"animation_changed",_)))},[_]),i.useEffect(()=>{T&&H&&(Oe!==null&&google.maps.event.removeListener(Oe),Qe(google.maps.event.addListener(T,"draggable_changed",H)))},[H]),i.useEffect(()=>{T&&$&&(Ce!==null&&google.maps.event.removeListener(Ce),ut(google.maps.event.addListener(T,"flat_changed",$)))},[$]),i.useEffect(()=>{T&&q&&(Ve!==null&&google.maps.event.removeListener(Ve),Dt(google.maps.event.addListener(T,"icon_changed",q)))},[q]),i.useEffect(()=>{T&&Z&&(ft!==null&&google.maps.event.removeListener(ft),Tt(google.maps.event.addListener(T,"position_changed",Z)))},[Z]),i.useEffect(()=>{T&&G&&(Ue!==null&&google.maps.event.removeListener(Ue),ss(google.maps.event.addListener(T,"shape_changed",G)))},[G]),i.useEffect(()=>{T&&ee&&(ht!==null&&google.maps.event.removeListener(ht),Ht(google.maps.event.addListener(T,"title_changed",ee)))},[ee]),i.useEffect(()=>{T&&ce&&(vt!==null&&google.maps.event.removeListener(vt),qt(google.maps.event.addListener(T,"visible_changed",ce)))},[ce]),i.useEffect(()=>{T&&le&&(kt!==null&&google.maps.event.removeListener(kt),ns(google.maps.event.addListener(T,"zindex_changed",le)))},[le]),i.useEffect(()=>{var Lt=ds(ds(ds({},n||Pn),a?Pn:{map:me}),{},{position:t}),oe=new google.maps.Marker(Lt);return a?a.addMarker(oe,!!r):oe.setMap(me),t&&oe.setPosition(t),typeof c<"u"&&oe.setVisible(c),typeof l<"u"&&oe.setDraggable(l),typeof m<"u"&&oe.setClickable(m),typeof u=="string"&&oe.setCursor(u),f&&oe.setIcon(f),typeof v<"u"&&oe.setLabel(v),typeof h<"u"&&oe.setOpacity(h),p&&oe.setShape(p),typeof b=="string"&&oe.setTitle(b),typeof g=="number"&&oe.setZIndex(g),C&&V(google.maps.event.addListener(oe,"dblclick",C)),w&&W(google.maps.event.addListener(oe,"dragend",w)),y&&ke(google.maps.event.addListener(oe,"dragstart",y)),x&&at(google.maps.event.addListener(oe,"mousedown",x)),j&&Me(google.maps.event.addListener(oe,"mouseout",j)),N&&zt(google.maps.event.addListener(oe,"mouseover",N)),L&&ts(google.maps.event.addListener(oe,"mouseup",L)),M&&gt(google.maps.event.addListener(oe,"rightclick",M)),k&&He(google.maps.event.addListener(oe,"click",k)),P&&R(google.maps.event.addListener(oe,"drag",P)),I&&ie(google.maps.event.addListener(oe,"clickable_changed",I)),F&&Le(google.maps.event.addListener(oe,"cursor_changed",F)),_&&Se(google.maps.event.addListener(oe,"animation_changed",_)),H&&Qe(google.maps.event.addListener(oe,"draggable_changed",H)),$&&ut(google.maps.event.addListener(oe,"flat_changed",$)),q&&Dt(google.maps.event.addListener(oe,"icon_changed",q)),Z&&Tt(google.maps.event.addListener(oe,"position_changed",Z)),G&&ss(google.maps.event.addListener(oe,"shape_changed",G)),ee&&Ht(google.maps.event.addListener(oe,"title_changed",ee)),ce&&qt(google.maps.event.addListener(oe,"visible_changed",ce)),le&&ns(google.maps.event.addListener(oe,"zindex_changed",le)),U(oe),re&&re(oe),()=>{te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),Q!==null&&google.maps.event.removeListener(Q),Fe!==null&&google.maps.event.removeListener(Fe),pe!==null&&google.maps.event.removeListener(pe),Ct!==null&&google.maps.event.removeListener(Ct),wt!==null&&google.maps.event.removeListener(wt),Ge!==null&&google.maps.event.removeListener(Ge),Xe!==null&&google.maps.event.removeListener(Xe),K!==null&&google.maps.event.removeListener(K),ve!==null&&google.maps.event.removeListener(ve),Y!==null&&google.maps.event.removeListener(Y),Oe!==null&&google.maps.event.removeListener(Oe),Ce!==null&&google.maps.event.removeListener(Ce),Ve!==null&&google.maps.event.removeListener(Ve),ft!==null&&google.maps.event.removeListener(ft),ht!==null&&google.maps.event.removeListener(ht),vt!==null&&google.maps.event.removeListener(vt),kt!==null&&google.maps.event.removeListener(kt),z&&z(oe),a?a.removeMarker(oe,!!r):oe&&oe.setMap(null)}},[]);var as=i.useMemo(()=>o?i.Children.map(o,Lt=>{if(!i.isValidElement(Lt))return Lt;var oe=Lt;return i.cloneElement(oe,{anchor:T})}):null,[o,T]);return e.jsx(e.Fragment,{children:as})||null}i.memo(fg);class Rs extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[])}componentDidMount(){var t=this;return ec(function*(){var n=ds(ds(ds({},t.props.options||Pn),t.props.clusterer?Pn:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=fe({updaterMap:mi,eventMap:hi,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:mi,eventMap:hi,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),xe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?i.Children.map(this.props.children,n=>{if(!i.isValidElement(n))return n;var a=n;return i.cloneElement(a,{anchor:this.marker})}):null;return t||null}}D(Rs,"contextType",he);var vg=function(){function s(t,n){t.getClusterer().extend(s,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return s.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},s.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},s.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var a=n.getMaxZoom(),r=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(r),this.timeOut=window.setTimeout(function(){var l=n.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(r);var c=l.getZoom()||0;a!==null&&c>a&&l.setZoom(a+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},s.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},s.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},s.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},s.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},s.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},s.prototype.show=function(){var t,n,a,r,o,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),m=parseInt(((t=d[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=d[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=c,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(u,"px, -").concat(m+this.width,"px, -").concat(u+this.height,", -").concat(m,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((a=this.sums)===null||a===void 0)&&a.text&&(h.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(h.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(h),this.div.title=c,this.div.style.display=""}this.visible=!0},s.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),a=n[Math.min(n.length-1,Math.max(0,t.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},s.prototype.setCenter=function(t){this.center=t},s.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},s}(),xg=function(){function s(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new vg(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return s.prototype.getSize=function(){return this.markers.length},s.prototype.getMarkers=function(){return this.markers},s.prototype.getCenter=function(){return this.center},s.prototype.getMap=function(){return this.map},s.prototype.getClusterer=function(){return this.markerClusterer},s.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),a=0,r=n;a<r.length;a++){var o=r[a],l=o.getPosition();l&&t.extend(l)}return t},s.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},s.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var a=t.getPosition();if(a){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+a.lat())/r,(this.center.lng()*(r-1)+a.lng())/r),this.calculateBounds()}}}else{var a=t.getPosition();a&&(this.center=a,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var o=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(l!==null&&typeof c<"u"&&c>l)t.getMap()!==this.map&&t.setMap(this.map);else if(o<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(o===this.minClusterSize)for(var d=0,m=this.markers;d<m.length;d++){var u=m[d];u.setMap(null)}else t.setMap(null);return!0},s.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},s.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},s.prototype.updateIcon=function(){var t,n=this.markers.length,a=this.markerClusterer.getMaxZoom(),r=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(a!==null&&typeof r<"u"&&r>a){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},s.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},s}();function bg(s,t){var n=s.length,a=n.toString().length,r=Math.min(a,t);return{text:n.toString(),index:r,title:""}}var yg=2e3,wg=500,jg="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Ng="png",Sg=[53,56,66,78,90],Cg="cluster",rc=function(){function s(t,n,a){n===void 0&&(n=[]),a===void 0&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(s,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,a.zoomOnClick!==void 0&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,a.averageCenter!==void 0&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,a.ignoreHidden!==void 0&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,a.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||jg,this.imageExtension=a.imageExtension||Ng,this.imageSizes=a.imageSizes||Sg,this.calculator=a.calculator||bg,this.batchSize=a.batchSize||yg,this.batchSizeIE=a.batchSizeIE||wg,this.clusterClass=a.clusterClass||Cg,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return s.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},s.prototype.onIdle=function(){this.redraw()},s.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},s.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var a=n[t];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var r=0,o=this.clusters;r<o.length;r++){var l=o[r];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var m=d[c];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},s.prototype.draw=function(){},s.prototype.getMap=function(){return null},s.prototype.getPanes=function(){return null},s.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},s.prototype.setMap=function(){},s.prototype.addListener=function(){return{remove:function(){}}},s.prototype.bindTo=function(){},s.prototype.get=function(){},s.prototype.notify=function(){},s.prototype.set=function(){},s.prototype.setValues=function(){},s.prototype.unbind=function(){},s.prototype.unbindAll=function(){},s.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},s.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,a=0,r=t;a<r.length;a++){var o=r[a],l=o.getPosition();l&&n.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},s.prototype.getGridSize=function(){return this.gridSize},s.prototype.setGridSize=function(t){this.gridSize=t},s.prototype.getMinimumClusterSize=function(){return this.minClusterSize},s.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},s.prototype.getMaxZoom=function(){return this.maxZoom},s.prototype.setMaxZoom=function(t){this.maxZoom=t},s.prototype.getStyles=function(){return this.styles},s.prototype.setStyles=function(t){this.styles=t},s.prototype.getTitle=function(){return this.title},s.prototype.setTitle=function(t){this.title=t},s.prototype.getZoomOnClick=function(){return this.zoomOnClick},s.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},s.prototype.getAverageCenter=function(){return this.averageCenter},s.prototype.setAverageCenter=function(t){this.averageCenter=t},s.prototype.getIgnoreHidden=function(){return this.ignoreHidden},s.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},s.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},s.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},s.prototype.getImageExtension=function(){return this.imageExtension},s.prototype.setImageExtension=function(t){this.imageExtension=t},s.prototype.getImagePath=function(){return this.imagePath},s.prototype.setImagePath=function(t){this.imagePath=t},s.prototype.getImageSizes=function(){return this.imageSizes},s.prototype.setImageSizes=function(t){this.imageSizes=t},s.prototype.getCalculator=function(){return this.calculator},s.prototype.setCalculator=function(t){this.calculator=t},s.prototype.getBatchSizeIE=function(){return this.batchSizeIE},s.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},s.prototype.getClusterClass=function(){return this.clusterClass},s.prototype.setClusterClass=function(t){this.clusterClass=t},s.prototype.getMarkers=function(){return this.markers},s.prototype.getTotalMarkers=function(){return this.markers.length},s.prototype.getClusters=function(){return this.clusters},s.prototype.getTotalClusters=function(){return this.clusters.length},s.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},s.prototype.addMarkers=function(t,n){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=t[a];r&&this.pushMarkerTo(r)}n||this.redraw()},s.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},s.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var a=0;a<this.markers.length;a++)if(t===this.markers[a]){n=a;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},s.prototype.removeMarker=function(t,n){var a=this.removeMarker_(t);return!n&&a&&this.repaint(),a},s.prototype.removeMarkers=function(t,n){for(var a=!1,r=0,o=t;r<o.length;r++){var l=o[r];a=a||this.removeMarker_(l)}return!n&&a&&this.repaint(),a},s.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},s.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var a=0,r=t;a<r.length;a++){var o=r[a];o.remove()}},0)},s.prototype.getExtendedBounds=function(t){var n=this.getProjection(),a=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));a!==null&&(a.x+=this.gridSize,a.y-=this.gridSize);var r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),a!==null){var o=n.fromDivPixelToLatLng(a);o!==null&&t.extend(o)}if(r!==null){var l=n.fromDivPixelToLatLng(r);l!==null&&t.extend(l)}return t},s.prototype.redraw=function(){this.createClusters(0)},s.prototype.resetViewport=function(t){for(var n=0,a=this.clusters;n<a.length;n++){var r=a[n];r.remove()}this.clusters=[];for(var o=0,l=this.markers;o<l.length;o++){var c=l[o];c.isAdded=!1,t&&c.setMap(null)}},s.prototype.distanceBetweenPoints=function(t,n){var a=6371,r=(n.lat()-t.lat())*Math.PI/180,o=(n.lng()-t.lng())*Math.PI/180,l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return a*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},s.prototype.isMarkerInBounds=function(t,n){var a=t.getPosition();return a?n.contains(a):!1},s.prototype.addToClosestCluster=function(t){for(var n,a=4e4,r=null,o=0,l=this.clusters;o<l.length;o++){var c=l[o];n=c;var d=n.getCenter(),m=t.getPosition();if(d&&m){var u=this.distanceBetweenPoints(d,m);u<a&&(a=u,r=n)}}r&&r.isMarkerInClusterBounds(t)?r.addMarker(t):(n=new xg(this),n.addMarker(t),this.clusters.push(n))},s.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),r=a!==null&&("getBounds"in a)?a.getBounds():null,o=(a==null?void 0:a.getZoom())||0,l=o>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(t+this.batchSize,this.markers.length),m=t;m<d;m++){var u=this.markers[m];u&&!u.isAdded&&this.isMarkerInBounds(u,c)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,v=this.clusters;f<v.length;f++){var h=v[f];h.updateIcon()}}}},s.prototype.extend=function(t,n){return(function(r){for(var o in r.prototype){var l=o;this.prototype[l]=r.prototype[l]}return this}).apply(t,[n])},s}();function pi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function kg(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var mt={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},ye={averageCenter(s,t){s.setAverageCenter(t)},batchSizeIE(s,t){s.setBatchSizeIE(t)},calculator(s,t){s.setCalculator(t)},clusterClass(s,t){s.setClusterClass(t)},enableRetinaIcons(s,t){s.setEnableRetinaIcons(t)},gridSize(s,t){s.setGridSize(t)},ignoreHidden(s,t){s.setIgnoreHidden(t)},imageExtension(s,t){s.setImageExtension(t)},imagePath(s,t){s.setImagePath(t)},imageSizes(s,t){s.setImageSizes(t)},maxZoom(s,t){s.setMaxZoom(t)},minimumClusterSize(s,t){s.setMinimumClusterSize(t)},styles(s,t){s.setStyles(t)},title(s,t){s.setTitle(t)},zoomOnClick(s,t){s.setZoomOnClick(t)}},Lg={};function Eg(s){var{children:t,options:n,averageCenter:a,batchSizeIE:r,calculator:o,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:m,imageExtension:u,imagePath:f,imageSizes:v,maxZoom:h,minimumClusterSize:p,styles:b,title:g,zoomOnClick:k,onClick:C,onClusteringBegin:P,onClusteringEnd:w,onMouseOver:y,onMouseOut:j,onLoad:N,onUnmount:L}=s,[x,M]=i.useState(null),I=i.useContext(he),[F,_]=i.useState(null),[H,$]=i.useState(null),[q,Z]=i.useState(null),[G,ee]=i.useState(null),[ce,le]=i.useState(null);return i.useEffect(()=>{x&&j&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(x,mt.onMouseOut,j)))},[j]),i.useEffect(()=>{x&&y&&(ce!==null&&google.maps.event.removeListener(ce),le(google.maps.event.addListener(x,mt.onMouseOver,y)))},[y]),i.useEffect(()=>{x&&C&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(x,mt.onClick,C)))},[C]),i.useEffect(()=>{x&&P&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(x,mt.onClusteringBegin,P)))},[P]),i.useEffect(()=>{x&&w&&(q!==null&&google.maps.event.removeListener(q),$(google.maps.event.addListener(x,mt.onClusteringEnd,w)))},[w]),i.useEffect(()=>{typeof a<"u"&&x!==null&&ye.averageCenter(x,a)},[x,a]),i.useEffect(()=>{typeof r<"u"&&x!==null&&ye.batchSizeIE(x,r)},[x,r]),i.useEffect(()=>{typeof o<"u"&&x!==null&&ye.calculator(x,o)},[x,o]),i.useEffect(()=>{typeof l<"u"&&x!==null&&ye.clusterClass(x,l)},[x,l]),i.useEffect(()=>{typeof c<"u"&&x!==null&&ye.enableRetinaIcons(x,c)},[x,c]),i.useEffect(()=>{typeof d<"u"&&x!==null&&ye.gridSize(x,d)},[x,d]),i.useEffect(()=>{typeof m<"u"&&x!==null&&ye.ignoreHidden(x,m)},[x,m]),i.useEffect(()=>{typeof u<"u"&&x!==null&&ye.imageExtension(x,u)},[x,u]),i.useEffect(()=>{typeof f<"u"&&x!==null&&ye.imagePath(x,f)},[x,f]),i.useEffect(()=>{typeof v<"u"&&x!==null&&ye.imageSizes(x,v)},[x,v]),i.useEffect(()=>{typeof h<"u"&&x!==null&&ye.maxZoom(x,h)},[x,h]),i.useEffect(()=>{typeof p<"u"&&x!==null&&ye.minimumClusterSize(x,p)},[x,p]),i.useEffect(()=>{typeof b<"u"&&x!==null&&ye.styles(x,b)},[x,b]),i.useEffect(()=>{typeof g<"u"&&x!==null&&ye.title(x,g)},[x,g]),i.useEffect(()=>{typeof k<"u"&&x!==null&&ye.zoomOnClick(x,k)},[x,k]),i.useEffect(()=>{if(I){var re=kg({},n||Lg),z=new rc(I,[],re);return a&&ye.averageCenter(z,a),r&&ye.batchSizeIE(z,r),o&&ye.calculator(z,o),l&&ye.clusterClass(z,l),c&&ye.enableRetinaIcons(z,c),d&&ye.gridSize(z,d),m&&ye.ignoreHidden(z,m),u&&ye.imageExtension(z,u),f&&ye.imagePath(z,f),v&&ye.imageSizes(z,v),h&&ye.maxZoom(z,h),p&&ye.minimumClusterSize(z,p),b&&ye.styles(z,b),g&&ye.title(z,g),k&&ye.zoomOnClick(z,k),j&&ee(google.maps.event.addListener(z,mt.onMouseOut,j)),y&&le(google.maps.event.addListener(z,mt.onMouseOver,y)),C&&_(google.maps.event.addListener(z,mt.onClick,C)),P&&$(google.maps.event.addListener(z,mt.onClusteringBegin,P)),w&&Z(google.maps.event.addListener(z,mt.onClusteringEnd,w)),M(z),N&&N(z),()=>{G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),F!==null&&google.maps.event.removeListener(F),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),L&&L(z)}}},[]),x!==null&&t(x)||null}i.memo(Eg);class Pg extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{markerClusterer:null}),D(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new rc(this.context,[],this.props.options);this.registeredEvents=fe({updaterMap:ye,eventMap:mt,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:ye,eventMap:mt,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),xe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}D(Pg,"contextType",he);function gi(s){s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}var ic=function(){function s(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(s,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return s.prototype.createInfoBoxDiv=function(){var t=this,n=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),t.enableEventPropagation||gi(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var a=this.getPanes();if(a!==null&&a[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=o;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,gi))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},s.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},s.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},s.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},s.prototype.getCloseClickHandler=function(){return this.closeClickHandler},s.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var a=0,r=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var l=n.getDiv(),c=l.offsetWidth,d=l.offsetHeight,m=this.pixelOffset.width,u=this.pixelOffset.height,f=this.div.offsetWidth,v=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,b=this.getProjection(),g=b.fromLatLngToContainerPixel(this.position);g!==null&&(g.x<-m+h?a=g.x+m-h:g.x+f+m+h>c&&(a=g.x+f+m+h-c),this.alignBottom?g.y<-u+p+v?r=g.y+u-p-v:g.y+u+p>d&&(r=g.y+u+p-d):g.y<-u+p?r=g.y+u-p:g.y+v+u+p>d&&(r=g.y+v+u+p-d)),a===0&&r===0||n.panBy(a,r)}}},s.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+a*100+')"',this.div.style.filter="alpha(opacity="+a*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},s.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,a=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}return t},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},s.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},s.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},s.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},s.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},s.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},s.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},s.prototype.getContent=function(){return this.content},s.prototype.getPosition=function(){return this.position},s.prototype.getZIndex=function(){return this.zIndex},s.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},s.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},s.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},s.prototype.open=function(t,n){var a=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var r=n.getPosition();a.setPosition(r)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){a.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},s.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var a=n[t];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},s.prototype.extend=function(t,n){return(function(r){for(var o in r.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=r.prototype[o]);return this}).apply(t,[n])},s}(),Mg=["position"],Og=["position"];function fi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Mn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var vi={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},xi={options(s,t){s.setOptions(t)},position(s,t){t instanceof google.maps.LatLng?s.setPosition(t):s.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},Ag={};function Dg(s){var{children:t,anchor:n,options:a,position:r,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:m,onZindexChanged:u,onLoad:f,onUnmount:v}=s,h=i.useContext(he),[p,b]=i.useState(null),[g,k]=i.useState(null),[C,P]=i.useState(null),[w,y]=i.useState(null),[j,N]=i.useState(null),[L,x]=i.useState(null),M=i.useRef(null);return i.useEffect(()=>{h&&p!==null&&(p.close(),n?p.open(h,n):p.getPosition()&&p.open(h))},[h,p,n]),i.useEffect(()=>{a&&p!==null&&p.setOptions(a)},[p,a]),i.useEffect(()=>{if(r&&p!==null){var I=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);p.setPosition(I)}},[r]),i.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),i.useEffect(()=>{p&&l&&(g!==null&&google.maps.event.removeListener(g),k(google.maps.event.addListener(p,"closeclick",l)))},[l]),i.useEffect(()=>{p&&c&&(C!==null&&google.maps.event.removeListener(C),P(google.maps.event.addListener(p,"domready",c)))},[c]),i.useEffect(()=>{p&&d&&(w!==null&&google.maps.event.removeListener(w),y(google.maps.event.addListener(p,"content_changed",d)))},[d]),i.useEffect(()=>{p&&m&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(p,"position_changed",m)))},[m]),i.useEffect(()=>{p&&u&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),i.useEffect(()=>{if(h){var I=a||Ag,{position:F}=I,_=Ja(I,Mg),H;F&&!(F instanceof google.maps.LatLng)&&(H=new google.maps.LatLng(F.lat,F.lng));var $=new ic(Mn(Mn({},_),H?{position:H}:{}));M.current=document.createElement("div"),b($),l&&k(google.maps.event.addListener($,"closeclick",l)),c&&P(google.maps.event.addListener($,"domready",c)),d&&y(google.maps.event.addListener($,"content_changed",d)),m&&N(google.maps.event.addListener($,"position_changed",m)),u&&x(google.maps.event.addListener($,"zindex_changed",u)),$.setContent(M.current),n?$.open(h,n):$.getPosition()?$.open(h):_e(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f($)}return()=>{p!==null&&(g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),j&&google.maps.event.removeListener(j),L&&google.maps.event.removeListener(L),v&&v(p),p.close())}},[]),M.current?gs.createPortal(i.Children.only(t),M.current):null}i.memo(Dg);class Tg extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"containerElement",null),D(this,"state",{infoBox:null}),D(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):_e(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),D(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,a=Ja(t,Og),r;n&&!(n instanceof google.maps.LatLng)&&(r=new google.maps.LatLng(n.lat,n.lng));var o=new ic(Mn(Mn({},a),r?{position:r}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=fe({updaterMap:xi,eventMap:vi,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:xi,eventMap:vi,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),xe(this.registeredEvents),n.close())}render(){return this.containerElement?gs.createPortal(i.Children.only(this.props.children),this.containerElement):null}}D(Tg,"contextType",he);var ua,bi;function Ig(){return bi||(bi=1,ua=function s(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,r,o;if(Array.isArray(t)){if(a=t.length,a!=n.length)return!1;for(r=a;r--!==0;)if(!s(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),a=o.length,a!==Object.keys(n).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=a;r--!==0;){var l=o[r];if(!s(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),ua}var Bg=Ig(),yi=Xl(Bg),wi=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ha=1,Ms=8;class Ka{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,a]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var r=a>>4;if(r!==ha)throw new Error("Got v".concat(r," data when expected v").concat(ha,"."));var o=wi[a&15];if(!o)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(t,2,1),[c]=new Uint32Array(t,4,1);return new Ka(c,l,o,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=a,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var o=wi.indexOf(this.ArrayType),l=t*2*this.ArrayType.BYTES_PER_ELEMENT,c=t*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(a,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,Ms,t),this.coords=new this.ArrayType(this.data,Ms+c+d,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Ms+l+c+d),this.ids=new this.IndexArrayType(this.data,Ms,t),this.coords=new this.ArrayType(this.data,Ms+c+d,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ha<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=t,this.coords[this._pos++]=n,a}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return ka(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,a,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:c}=this,d=[0,o.length-1,0],m=[];d.length;){var u=d.pop()||0,f=d.pop()||0,v=d.pop()||0;if(f-v<=c){for(var h=v;h<=f;h++){var p=l[2*h],b=l[2*h+1];p>=t&&p<=a&&b>=n&&b<=r&&m.push(o[h])}continue}var g=v+f>>1,k=l[2*g],C=l[2*g+1];k>=t&&k<=a&&C>=n&&C<=r&&m.push(o[g]),(u===0?t<=k:n<=C)&&(d.push(v),d.push(g-1),d.push(1-u)),(u===0?a>=k:r>=C)&&(d.push(g+1),d.push(f),d.push(1-u))}return m}within(t,n,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:o,nodeSize:l}=this,c=[0,r.length-1,0],d=[],m=a*a;c.length;){var u=c.pop()||0,f=c.pop()||0,v=c.pop()||0;if(f-v<=l){for(var h=v;h<=f;h++)ji(o[2*h],o[2*h+1],t,n)<=m&&d.push(r[h]);continue}var p=v+f>>1,b=o[2*p],g=o[2*p+1];ji(b,g,t,n)<=m&&d.push(r[p]),(u===0?t-a<=b:n-a<=g)&&(c.push(v),c.push(p-1),c.push(1-u)),(u===0?t+a>=b:n+a>=g)&&(c.push(p+1),c.push(f),c.push(1-u))}return d}}function ka(s,t,n,a,r,o){if(!(r-a<=n)){var l=a+r>>1;oc(s,t,l,a,r,o),ka(s,t,n,a,l-1,1-o),ka(s,t,n,l+1,r,1-o)}}function oc(s,t,n,a,r,o){for(;r>a;){if(r-a>600){var l=r-a+1,c=n-a+1,d=Math.log(l),m=.5*Math.exp(2*d/3),u=.5*Math.sqrt(d*m*(l-m)/l)*(c-l/2<0?-1:1),f=Math.max(a,Math.floor(n-c*m/l+u)),v=Math.min(r,Math.floor(n+(l-c)*m/l+u));oc(s,t,n,f,v,o)}var h=t[2*n+o],p=a,b=r;for(Os(s,t,a,n),t[2*r+o]>h&&Os(s,t,a,r);p<b;){for(Os(s,t,p,b),p++,b--;t[2*p+o]<h;)p++;for(;t[2*b+o]>h;)b--}t[2*a+o]===h?Os(s,t,a,b):(b++,Os(s,t,b,r)),b<=n&&(a=b+1),n<=b&&(r=b-1)}}function Os(s,t,n,a){ma(s,n,a),ma(t,2*n,2*a),ma(t,2*n+1,2*a+1)}function ma(s,t,n){var a=s[t];s[t]=s[n],s[n]=a}function ji(s,t,n,a){var r=s-n,o=t-a;return r*r+o*o}var Rg={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:s=>s},Ni=Math.fround||(s=>t=>(s[0]=+t,s[0]))(new Float32Array(1)),Wt=2,Rt=3,pa=4,Bt=5,lc=6;class Fg{constructor(t){this.options=Object.assign(Object.create(Rg),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:a,maxZoom:r}=this.options;n&&console.time("total time");var o="prepare ".concat(t.length," points");n&&console.time(o),this.points=t;for(var l=[],c=0;c<t.length;c++){var d=t[c];if(d.geometry){var[m,u]=d.geometry.coordinates,f=Ni(cn(m)),v=Ni(dn(u));l.push(f,v,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var h=this.trees[r+1]=this._createTree(l);n&&console.timeEnd(o);for(var p=r;p>=a;p--){var b=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),n&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-b)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var a=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),o=t[2]===180?180:((t[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)a=-180,o=180;else if(a>o){var c=this.getClusters([a,r,180,l],n),d=this.getClusters([-180,r,o,l],n);return c.concat(d)}var m=this.trees[this._limitZoom(n)],u=m.range(cn(a),dn(l),cn(o),dn(r)),f=m.data,v=[];for(var h of u){var p=this.stride*h;v.push(f[p+Bt]>1?Si(f,p,this.clusterProps):this.points[f[p+Rt]])}return v}getChildren(t){var n=this._getOriginId(t),a=this._getOriginZoom(t),r="No cluster with the specified id.",o=this.trees[a];if(!o)throw new Error(r);var l=o.data;if(n*this.stride>=l.length)throw new Error(r);var c=this.options.radius/(this.options.extent*Math.pow(2,a-1)),d=l[n*this.stride],m=l[n*this.stride+1],u=o.within(d,m,c),f=[];for(var v of u){var h=v*this.stride;l[h+pa]===t&&f.push(l[h+Bt]>1?Si(l,h,this.clusterProps):this.points[l[h+Rt]])}if(f.length===0)throw new Error(r);return f}getLeaves(t,n,a){n=n||10,a=a||0;var r=[];return this._appendLeaves(r,t,n,a,0),r}getTile(t,n,a){var r=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:l,radius:c}=this.options,d=c/l,m=(a-d)/o,u=(a+1+d)/o,f={features:[]};return this._addTileFeatures(r.range((n-d)/o,m,(n+1+d)/o,u),r.data,n,a,o,f),n===0&&this._addTileFeatures(r.range(1-d/o,m,1,u),r.data,o,a,o,f),n===o-1&&this._addTileFeatures(r.range(0,m,d/o,u),r.data,-1,a,o,f),f.features.length?f:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var a=this.getChildren(t);if(n++,a.length!==1)break;t=a[0].properties.cluster_id}return n}_appendLeaves(t,n,a,r,o){var l=this.getChildren(n);for(var c of l){var d=c.properties;if(d&&d.cluster?o+d.point_count<=r?o+=d.point_count:o=this._appendLeaves(t,d.cluster_id,a,r,o):o<r?o++:t.push(c),t.length===a)break}return o}_createTree(t){for(var n=new Ka(t.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<t.length;a+=this.stride)n.add(t[a],t[a+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,a,r,o,l){for(var c of t){var d=c*this.stride,m=n[d+Bt]>1,u=void 0,f=void 0,v=void 0;if(m)u=cc(n,d,this.clusterProps),f=n[d],v=n[d+1];else{var h=this.points[n[d+Rt]];u=h.properties;var[p,b]=h.geometry.coordinates;f=cn(p),v=dn(b)}var g={type:1,geometry:[[Math.round(this.options.extent*(f*o-a)),Math.round(this.options.extent*(v*o-r))]],tags:u},k=void 0;m||this.options.generateId?k=n[d+Rt]:k=this.points[n[d+Rt]].id,k!==void 0&&(g.id=k),l.features.push(g)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:a,extent:r,reduce:o,minPoints:l}=this.options,c=a/(r*Math.pow(2,n)),d=t.data,m=[],u=this.stride,f=0;f<d.length;f+=u)if(!(d[f+Wt]<=n)){d[f+Wt]=n;var v=d[f],h=d[f+1],p=t.within(d[f],d[f+1],c),b=d[f+Bt],g=b;for(var k of p){var C=k*u;d[C+Wt]>n&&(g+=d[C+Bt])}if(g>b&&g>=l){var P=v*b,w=h*b,y=void 0,j=-1,N=((f/u|0)<<5)+(n+1)+this.points.length;for(var L of p){var x=L*u;if(!(d[x+Wt]<=n)){d[x+Wt]=n;var M=d[x+Bt];P+=d[x]*M,w+=d[x+1]*M,d[x+pa]=N,o&&(y||(y=this._map(d,f,!0),j=this.clusterProps.length,this.clusterProps.push(y)),o(y,this._map(d,x)))}}d[f+pa]=N,m.push(P/g,w/g,1/0,N,-1,g),o&&m.push(j)}else{for(var I=0;I<u;I++)m.push(d[f+I]);if(g>1)for(var F of p){var _=F*u;if(!(d[_+Wt]<=n)){d[_+Wt]=n;for(var H=0;H<u;H++)m.push(d[_+H])}}}}return m}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,a){if(t[n+Bt]>1){var r=this.clusterProps[t[n+lc]];return a?Object.assign({},r):r}var o=this.points[t[n+Rt]].properties,l=this.options.map(o);return a&&l===o?Object.assign({},l):l}}function Si(s,t,n){return{type:"Feature",id:s[t+Rt],properties:cc(s,t,n),geometry:{type:"Point",coordinates:[$g(s[t]),_g(s[t+1])]}}}function cc(s,t,n){var a=s[t+Bt],r=a>=1e4?"".concat(Math.round(a/1e3),"k"):a>=1e3?"".concat(Math.round(a/100)/10,"k"):a,o=s[t+lc],l=o===-1?{}:Object.assign({},n[o]);return Object.assign(l,{cluster:!0,cluster_id:s[t+Rt],point_count:a,point_count_abbreviated:r})}function cn(s){return s/360+.5}function dn(s){var t=Math.sin(s*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function $g(s){return(s-.5)*360}function _g(s){var t=(180-s*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ug(s,t){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(s);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(s,a[r])&&(n[a[r]]=s[a[r]]);return n}class ot{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class La{constructor(t){var{markers:n,position:a}=t;this.markers=n,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(ot.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>ot.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(ot.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class zg{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return Hg(n)}}var Hg=s=>{var t=s.map(n=>new La({position:ot.getPosition(n),markers:[n]}));return t};class qg extends zg{constructor(t){var{maxZoom:n,radius:a=60}=t,r=Ug(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Fg(Object.assign({maxZoom:this.maxZoom,radius:a},r))}calculate(t){var n=!1,a={zoom:t.map.getZoom()};if(!yi(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var r=this.markers.map(o=>{var l=ot.getPosition(o),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(r)}return n||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(n=!yi(this.state,a)),this.state=a,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(a=>this.transformCluster(a))}transformCluster(t){var{geometry:{coordinates:[n,a]},properties:r}=t;if(r.cluster)return new La({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:a,lng:n}});var o=r.marker;return new La({markers:[o],position:ot.getPosition(o)})}}class Vg{constructor(t,n){this.markers={sum:t.length};var a=n.map(o=>o.count),r=a.reduce((o,l)=>o+l,0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min(...a),max:Math.max(...a)}}}}class Wg{render(t,n,a){var{count:r,position:o}=t,l=r>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(r,`</text>
</svg>`),d="Cluster of ".concat(r," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+r;if(ot.isAdvancedMarkerAvailable(a)){var u=new DOMParser,f=u.parseFromString(c,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var v={map:a,position:o,zIndex:m,title:d,content:f};return new google.maps.marker.AdvancedMarkerElement(v)}var h={position:o,zIndex:m,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}function Zg(s,t){for(var n in t.prototype)s.prototype[n]=t.prototype[n]}class Ya{constructor(){Zg(Ya,google.maps.OverlayView)}}var As;(function(s){s.CLUSTERING_BEGIN="clusteringbegin",s.CLUSTERING_END="clusteringend",s.CLUSTER_CLICK="click"})(As||(As={}));var Gg=(s,t,n)=>{n.fitBounds(t.bounds)};class Jg extends Ya{constructor(t){var{map:n,markers:a=[],algorithmOptions:r={},algorithm:o=new qg(r),renderer:l=new Wg,onClusterClick:c=Gg}=t;super(),this.markers=[...a],this.clusters=[],this.algorithm=o,this.renderer=l,this.onClusterClick=c,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(a=>{this.addMarker(a,!0)}),n||this.render()}removeMarker(t,n){var a=this.markers.indexOf(t);return a===-1?!1:(ot.setMap(t,null),this.markers.splice(a,1),n||this.render(),!0)}removeMarkers(t,n){var a=!1;return t.forEach(r=>{a=this.removeMarker(r,!0)||a}),a&&!n&&this.render(),a}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,As.CLUSTERING_BEGIN,this);var{clusters:n,changed:a}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(a||a==null){var r=new Set;for(var o of n)o.markers.length==1&&r.add(o.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?r.has(c.marker)||ot.setMap(c.marker,null):l.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>ot.setMap(d,null)))}google.maps.event.trigger(this,As.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>ot.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new Vg(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(a=>{a.markers.length===1?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,t,n),a.markers.forEach(r=>ot.setMap(r,null)),this.onClusterClick&&a.marker.addListener("click",r=>{google.maps.event.trigger(this,As.CLUSTER_CLICK,a),this.onClusterClick(r,a,n)})),ot.setMap(a.marker,n)})}}function Ci(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function ki(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function Kg(s){var t=qp(),[n,a]=i.useState(null);return i.useEffect(()=>{if(t&&n===null){var r=new Jg(ki(ki({},s),{},{map:t}));a(r)}},[t]),n}function Yg(s){var{children:t,options:n}=s,a=Kg(n);return a!==null?t(a):null}i.memo(Yg);var Li={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ei={options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},zIndex(s,t){s.setZIndex(t)}};function Xg(s){var{children:t,anchor:n,options:a,position:r,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:m,onZindexChanged:u,onLoad:f,onUnmount:v}=s,h=i.useContext(he),[p,b]=i.useState(null),[g,k]=i.useState(null),[C,P]=i.useState(null),[w,y]=i.useState(null),[j,N]=i.useState(null),[L,x]=i.useState(null),M=i.useRef(null);return i.useEffect(()=>{p!==null&&(p.close(),n?p.open(h,n):p.getPosition()&&p.open(h))},[h,p,n]),i.useEffect(()=>{a&&p!==null&&p.setOptions(a)},[p,a]),i.useEffect(()=>{r&&p!==null&&p.setPosition(r)},[r]),i.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),i.useEffect(()=>{p&&l&&(g!==null&&google.maps.event.removeListener(g),k(google.maps.event.addListener(p,"closeclick",l)))},[l]),i.useEffect(()=>{p&&c&&(C!==null&&google.maps.event.removeListener(C),P(google.maps.event.addListener(p,"domready",c)))},[c]),i.useEffect(()=>{p&&d&&(w!==null&&google.maps.event.removeListener(w),y(google.maps.event.addListener(p,"content_changed",d)))},[d]),i.useEffect(()=>{p&&m&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(p,"position_changed",m)))},[m]),i.useEffect(()=>{p&&u&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),i.useEffect(()=>{var I=new google.maps.InfoWindow(a);return b(I),M.current=document.createElement("div"),l&&k(google.maps.event.addListener(I,"closeclick",l)),c&&P(google.maps.event.addListener(I,"domready",c)),d&&y(google.maps.event.addListener(I,"content_changed",d)),m&&N(google.maps.event.addListener(I,"position_changed",m)),u&&x(google.maps.event.addListener(I,"zindex_changed",u)),I.setContent(M.current),r&&I.setPosition(r),o&&I.setZIndex(o),n?I.open(h,n):I.getPosition()?I.open(h):_e(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(I),()=>{g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),j&&google.maps.event.removeListener(j),L&&google.maps.event.removeListener(L),v&&v(I),I.close()}},[]),M.current?gs.createPortal(i.Children.only(t),M.current):null}i.memo(Xg);class Qg extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"containerElement",null),D(this,"state",{infoWindow:null}),D(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):_e(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),D(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=fe({updaterMap:Ei,eventMap:Li,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Ei,eventMap:Li,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(xe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?gs.createPortal(i.Children.only(this.props.children),this.containerElement):null}}D(Qg,"contextType",he);function Pi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function On(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var Mi={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Oi={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},visible(s,t){s.setVisible(t)}},ef={};function tf(s){var{options:t,draggable:n,editable:a,visible:r,path:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:m,onMouseMove:u,onMouseOut:f,onMouseOver:v,onMouseUp:h,onRightClick:p,onClick:b,onDrag:g,onLoad:k,onUnmount:C}=s,P=i.useContext(he),[w,y]=i.useState(null),[j,N]=i.useState(null),[L,x]=i.useState(null),[M,I]=i.useState(null),[F,_]=i.useState(null),[H,$]=i.useState(null),[q,Z]=i.useState(null),[G,ee]=i.useState(null),[ce,le]=i.useState(null),[re,z]=i.useState(null),[me,T]=i.useState(null),[U,te]=i.useState(null);return i.useEffect(()=>{w!==null&&w.setMap(P)},[P]),i.useEffect(()=>{typeof t<"u"&&w!==null&&w.setOptions(t)},[w,t]),i.useEffect(()=>{typeof n<"u"&&w!==null&&w.setDraggable(n)},[w,n]),i.useEffect(()=>{typeof a<"u"&&w!==null&&w.setEditable(a)},[w,a]),i.useEffect(()=>{typeof r<"u"&&w!==null&&w.setVisible(r)},[w,r]),i.useEffect(()=>{typeof o<"u"&&w!==null&&w.setPath(o)},[w,o]),i.useEffect(()=>{w&&l&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(w,"dblclick",l)))},[l]),i.useEffect(()=>{w&&c&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(w,"dragend",c)))},[c]),i.useEffect(()=>{w&&d&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(w,"dragstart",d)))},[d]),i.useEffect(()=>{w&&m&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(w,"mousedown",m)))},[m]),i.useEffect(()=>{w&&u&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(w,"mousemove",u)))},[u]),i.useEffect(()=>{w&&f&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(w,"mouseout",f)))},[f]),i.useEffect(()=>{w&&v&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(w,"mouseover",v)))},[v]),i.useEffect(()=>{w&&h&&(ce!==null&&google.maps.event.removeListener(ce),le(google.maps.event.addListener(w,"mouseup",h)))},[h]),i.useEffect(()=>{w&&p&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(w,"rightclick",p)))},[p]),i.useEffect(()=>{w&&b&&(me!==null&&google.maps.event.removeListener(me),T(google.maps.event.addListener(w,"click",b)))},[b]),i.useEffect(()=>{w&&g&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(w,"drag",g)))},[g]),i.useEffect(()=>{var V=new google.maps.Polyline(On(On({},t||ef),{},{map:P}));return o&&V.setPath(o),typeof r<"u"&&V.setVisible(r),typeof a<"u"&&V.setEditable(a),typeof n<"u"&&V.setDraggable(n),l&&N(google.maps.event.addListener(V,"dblclick",l)),c&&x(google.maps.event.addListener(V,"dragend",c)),d&&I(google.maps.event.addListener(V,"dragstart",d)),m&&_(google.maps.event.addListener(V,"mousedown",m)),u&&$(google.maps.event.addListener(V,"mousemove",u)),f&&Z(google.maps.event.addListener(V,"mouseout",f)),v&&ee(google.maps.event.addListener(V,"mouseover",v)),h&&le(google.maps.event.addListener(V,"mouseup",h)),p&&z(google.maps.event.addListener(V,"rightclick",p)),b&&T(google.maps.event.addListener(V,"click",b)),g&&te(google.maps.event.addListener(V,"drag",g)),y(V),k&&k(V),()=>{j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),M!==null&&google.maps.event.removeListener(M),F!==null&&google.maps.event.removeListener(F),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),C&&C(V),V.setMap(null)}},[]),null}i.memo(tf);class sf extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{polyline:null}),D(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(On(On({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:Oi,eventMap:Mi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Oi,eventMap:Mi,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),xe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}D(sf,"contextType",he);function Ai(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Di(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var Ti={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ii={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},paths(s,t){s.setPaths(t)},visible(s,t){s.setVisible(t)}};function nf(s){var{options:t,draggable:n,editable:a,visible:r,path:o,paths:l,onDblClick:c,onDragEnd:d,onDragStart:m,onMouseDown:u,onMouseMove:f,onMouseOut:v,onMouseOver:h,onMouseUp:p,onRightClick:b,onClick:g,onDrag:k,onLoad:C,onUnmount:P,onEdit:w}=s,y=i.useContext(he),[j,N]=i.useState(null),[L,x]=i.useState(null),[M,I]=i.useState(null),[F,_]=i.useState(null),[H,$]=i.useState(null),[q,Z]=i.useState(null),[G,ee]=i.useState(null),[ce,le]=i.useState(null),[re,z]=i.useState(null),[me,T]=i.useState(null),[U,te]=i.useState(null),[V,ae]=i.useState(null);return i.useEffect(()=>{j!==null&&j.setMap(y)},[y]),i.useEffect(()=>{typeof t<"u"&&j!==null&&j.setOptions(t)},[j,t]),i.useEffect(()=>{typeof n<"u"&&j!==null&&j.setDraggable(n)},[j,n]),i.useEffect(()=>{typeof a<"u"&&j!==null&&j.setEditable(a)},[j,a]),i.useEffect(()=>{typeof r<"u"&&j!==null&&j.setVisible(r)},[j,r]),i.useEffect(()=>{typeof o<"u"&&j!==null&&j.setPath(o)},[j,o]),i.useEffect(()=>{typeof l<"u"&&j!==null&&j.setPaths(l)},[j,l]),i.useEffect(()=>{j&&typeof c=="function"&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(j,"dblclick",c)))},[c]),i.useEffect(()=>{j&&(google.maps.event.addListener(j.getPath(),"insert_at",()=>{w==null||w(j)}),google.maps.event.addListener(j.getPath(),"set_at",()=>{w==null||w(j)}),google.maps.event.addListener(j.getPath(),"remove_at",()=>{w==null||w(j)}))},[j,w]),i.useEffect(()=>{j&&typeof d=="function"&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(j,"dragend",d)))},[d]),i.useEffect(()=>{j&&typeof m=="function"&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(j,"dragstart",m)))},[m]),i.useEffect(()=>{j&&typeof u=="function"&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(j,"mousedown",u)))},[u]),i.useEffect(()=>{j&&typeof f=="function"&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(j,"mousemove",f)))},[f]),i.useEffect(()=>{j&&typeof v=="function"&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(j,"mouseout",v)))},[v]),i.useEffect(()=>{j&&typeof h=="function"&&(ce!==null&&google.maps.event.removeListener(ce),le(google.maps.event.addListener(j,"mouseover",h)))},[h]),i.useEffect(()=>{j&&typeof p=="function"&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(j,"mouseup",p)))},[p]),i.useEffect(()=>{j&&typeof b=="function"&&(me!==null&&google.maps.event.removeListener(me),T(google.maps.event.addListener(j,"rightclick",b)))},[b]),i.useEffect(()=>{j&&typeof g=="function"&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(j,"click",g)))},[g]),i.useEffect(()=>{j&&typeof k=="function"&&(V!==null&&google.maps.event.removeListener(V),ae(google.maps.event.addListener(j,"drag",k)))},[k]),i.useEffect(()=>{var W=new google.maps.Polygon(Di(Di({},t),{},{map:y}));return o&&W.setPath(o),l&&W.setPaths(l),typeof r<"u"&&W.setVisible(r),typeof a<"u"&&W.setEditable(a),typeof n<"u"&&W.setDraggable(n),c&&x(google.maps.event.addListener(W,"dblclick",c)),d&&I(google.maps.event.addListener(W,"dragend",d)),m&&_(google.maps.event.addListener(W,"dragstart",m)),u&&$(google.maps.event.addListener(W,"mousedown",u)),f&&Z(google.maps.event.addListener(W,"mousemove",f)),v&&ee(google.maps.event.addListener(W,"mouseout",v)),h&&le(google.maps.event.addListener(W,"mouseover",h)),p&&z(google.maps.event.addListener(W,"mouseup",p)),b&&T(google.maps.event.addListener(W,"rightclick",b)),g&&te(google.maps.event.addListener(W,"click",g)),k&&ae(google.maps.event.addListener(W,"drag",k)),N(W),C&&C(W),()=>{L!==null&&google.maps.event.removeListener(L),M!==null&&google.maps.event.removeListener(M),F!==null&&google.maps.event.removeListener(F),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),U!==null&&google.maps.event.removeListener(U),P&&P(W),W.setMap(null)}},[]),null}i.memo(nf);class af extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=fe({updaterMap:Ii,eventMap:Ti,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Ii,eventMap:Ti,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),xe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}D(af,"contextType",he);function Bi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function An(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var Ri={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fi={bounds(s,t){s.setBounds(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},visible(s,t){s.setVisible(t)}};function rf(s){var{options:t,bounds:n,draggable:a,editable:r,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:m,onMouseMove:u,onMouseOut:f,onMouseOver:v,onMouseUp:h,onRightClick:p,onClick:b,onDrag:g,onBoundsChanged:k,onLoad:C,onUnmount:P}=s,w=i.useContext(he),[y,j]=i.useState(null),[N,L]=i.useState(null),[x,M]=i.useState(null),[I,F]=i.useState(null),[_,H]=i.useState(null),[$,q]=i.useState(null),[Z,G]=i.useState(null),[ee,ce]=i.useState(null),[le,re]=i.useState(null),[z,me]=i.useState(null),[T,U]=i.useState(null),[te,V]=i.useState(null),[ae,W]=i.useState(null);return i.useEffect(()=>{y!==null&&y.setMap(w)},[w]),i.useEffect(()=>{typeof t<"u"&&y!==null&&y.setOptions(t)},[y,t]),i.useEffect(()=>{typeof a<"u"&&y!==null&&y.setDraggable(a)},[y,a]),i.useEffect(()=>{typeof r<"u"&&y!==null&&y.setEditable(r)},[y,r]),i.useEffect(()=>{typeof o<"u"&&y!==null&&y.setVisible(o)},[y,o]),i.useEffect(()=>{typeof n<"u"&&y!==null&&y.setBounds(n)},[y,n]),i.useEffect(()=>{y&&l&&(N!==null&&google.maps.event.removeListener(N),L(google.maps.event.addListener(y,"dblclick",l)))},[l]),i.useEffect(()=>{y&&c&&(x!==null&&google.maps.event.removeListener(x),M(google.maps.event.addListener(y,"dragend",c)))},[c]),i.useEffect(()=>{y&&d&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(y,"dragstart",d)))},[d]),i.useEffect(()=>{y&&m&&(_!==null&&google.maps.event.removeListener(_),H(google.maps.event.addListener(y,"mousedown",m)))},[m]),i.useEffect(()=>{y&&u&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(y,"mousemove",u)))},[u]),i.useEffect(()=>{y&&f&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(y,"mouseout",f)))},[f]),i.useEffect(()=>{y&&v&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(y,"mouseover",v)))},[v]),i.useEffect(()=>{y&&h&&(le!==null&&google.maps.event.removeListener(le),re(google.maps.event.addListener(y,"mouseup",h)))},[h]),i.useEffect(()=>{y&&p&&(z!==null&&google.maps.event.removeListener(z),me(google.maps.event.addListener(y,"rightclick",p)))},[p]),i.useEffect(()=>{y&&b&&(T!==null&&google.maps.event.removeListener(T),U(google.maps.event.addListener(y,"click",b)))},[b]),i.useEffect(()=>{y&&g&&(te!==null&&google.maps.event.removeListener(te),V(google.maps.event.addListener(y,"drag",g)))},[g]),i.useEffect(()=>{y&&k&&(ae!==null&&google.maps.event.removeListener(ae),W(google.maps.event.addListener(y,"bounds_changed",k)))},[k]),i.useEffect(()=>{var Q=new google.maps.Rectangle(An(An({},t),{},{map:w}));return typeof o<"u"&&Q.setVisible(o),typeof r<"u"&&Q.setEditable(r),typeof a<"u"&&Q.setDraggable(a),typeof n<"u"&&Q.setBounds(n),l&&L(google.maps.event.addListener(Q,"dblclick",l)),c&&M(google.maps.event.addListener(Q,"dragend",c)),d&&F(google.maps.event.addListener(Q,"dragstart",d)),m&&H(google.maps.event.addListener(Q,"mousedown",m)),u&&q(google.maps.event.addListener(Q,"mousemove",u)),f&&G(google.maps.event.addListener(Q,"mouseout",f)),v&&ce(google.maps.event.addListener(Q,"mouseover",v)),h&&re(google.maps.event.addListener(Q,"mouseup",h)),p&&me(google.maps.event.addListener(Q,"rightclick",p)),b&&U(google.maps.event.addListener(Q,"click",b)),g&&V(google.maps.event.addListener(Q,"drag",g)),k&&W(google.maps.event.addListener(Q,"bounds_changed",k)),j(Q),C&&C(Q),()=>{N!==null&&google.maps.event.removeListener(N),x!==null&&google.maps.event.removeListener(x),I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),$!==null&&google.maps.event.removeListener($),Z!==null&&google.maps.event.removeListener(Z),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),z!==null&&google.maps.event.removeListener(z),T!==null&&google.maps.event.removeListener(T),te!==null&&google.maps.event.removeListener(te),ae!==null&&google.maps.event.removeListener(ae),P&&P(Q),Q.setMap(null)}},[]),null}i.memo(rf);class of extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{rectangle:null}),D(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(An(An({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:Fi,eventMap:Ri,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Fi,eventMap:Ri,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),xe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}D(of,"contextType",he);function $i(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Dn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$i(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var _i={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ui={center(s,t){s.setCenter(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},radius(s,t){s.setRadius(t)},visible(s,t){s.setVisible(t)}},lf={};function cf(s){var{options:t,center:n,radius:a,draggable:r,editable:o,visible:l,onDblClick:c,onDragEnd:d,onDragStart:m,onMouseDown:u,onMouseMove:f,onMouseOut:v,onMouseOver:h,onMouseUp:p,onRightClick:b,onClick:g,onDrag:k,onCenterChanged:C,onRadiusChanged:P,onLoad:w,onUnmount:y}=s,j=i.useContext(he),[N,L]=i.useState(null),[x,M]=i.useState(null),[I,F]=i.useState(null),[_,H]=i.useState(null),[$,q]=i.useState(null),[Z,G]=i.useState(null),[ee,ce]=i.useState(null),[le,re]=i.useState(null),[z,me]=i.useState(null),[T,U]=i.useState(null),[te,V]=i.useState(null),[ae,W]=i.useState(null),[Q,ke]=i.useState(null),[Fe,at]=i.useState(null);return i.useEffect(()=>{N!==null&&N.setMap(j)},[j]),i.useEffect(()=>{typeof t<"u"&&N!==null&&N.setOptions(t)},[N,t]),i.useEffect(()=>{typeof r<"u"&&N!==null&&N.setDraggable(r)},[N,r]),i.useEffect(()=>{typeof o<"u"&&N!==null&&N.setEditable(o)},[N,o]),i.useEffect(()=>{typeof l<"u"&&N!==null&&N.setVisible(l)},[N,l]),i.useEffect(()=>{typeof a=="number"&&N!==null&&N.setRadius(a)},[N,a]),i.useEffect(()=>{typeof n<"u"&&N!==null&&N.setCenter(n)},[N,n]),i.useEffect(()=>{N&&c&&(x!==null&&google.maps.event.removeListener(x),M(google.maps.event.addListener(N,"dblclick",c)))},[c]),i.useEffect(()=>{N&&d&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(N,"dragend",d)))},[d]),i.useEffect(()=>{N&&m&&(_!==null&&google.maps.event.removeListener(_),H(google.maps.event.addListener(N,"dragstart",m)))},[m]),i.useEffect(()=>{N&&u&&($!==null&&google.maps.event.removeListener($),q(google.maps.event.addListener(N,"mousedown",u)))},[u]),i.useEffect(()=>{N&&f&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(N,"mousemove",f)))},[f]),i.useEffect(()=>{N&&v&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(N,"mouseout",v)))},[v]),i.useEffect(()=>{N&&h&&(le!==null&&google.maps.event.removeListener(le),re(google.maps.event.addListener(N,"mouseover",h)))},[h]),i.useEffect(()=>{N&&p&&(z!==null&&google.maps.event.removeListener(z),me(google.maps.event.addListener(N,"mouseup",p)))},[p]),i.useEffect(()=>{N&&b&&(T!==null&&google.maps.event.removeListener(T),U(google.maps.event.addListener(N,"rightclick",b)))},[b]),i.useEffect(()=>{N&&g&&(te!==null&&google.maps.event.removeListener(te),V(google.maps.event.addListener(N,"click",g)))},[g]),i.useEffect(()=>{N&&k&&(ae!==null&&google.maps.event.removeListener(ae),W(google.maps.event.addListener(N,"drag",k)))},[k]),i.useEffect(()=>{N&&C&&(Q!==null&&google.maps.event.removeListener(Q),ke(google.maps.event.addListener(N,"center_changed",C)))},[g]),i.useEffect(()=>{N&&P&&(Fe!==null&&google.maps.event.removeListener(Fe),at(google.maps.event.addListener(N,"radius_changed",P)))},[P]),i.useEffect(()=>{var pe=new google.maps.Circle(Dn(Dn({},t||lf),{},{map:j}));return typeof a=="number"&&pe.setRadius(a),typeof n<"u"&&pe.setCenter(n),typeof a=="number"&&pe.setRadius(a),typeof l<"u"&&pe.setVisible(l),typeof o<"u"&&pe.setEditable(o),typeof r<"u"&&pe.setDraggable(r),c&&M(google.maps.event.addListener(pe,"dblclick",c)),d&&F(google.maps.event.addListener(pe,"dragend",d)),m&&H(google.maps.event.addListener(pe,"dragstart",m)),u&&q(google.maps.event.addListener(pe,"mousedown",u)),f&&G(google.maps.event.addListener(pe,"mousemove",f)),v&&ce(google.maps.event.addListener(pe,"mouseout",v)),h&&re(google.maps.event.addListener(pe,"mouseover",h)),p&&me(google.maps.event.addListener(pe,"mouseup",p)),b&&U(google.maps.event.addListener(pe,"rightclick",b)),g&&V(google.maps.event.addListener(pe,"click",g)),k&&W(google.maps.event.addListener(pe,"drag",k)),C&&ke(google.maps.event.addListener(pe,"center_changed",C)),P&&at(google.maps.event.addListener(pe,"radius_changed",P)),L(pe),w&&w(pe),()=>{x!==null&&google.maps.event.removeListener(x),I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),$!==null&&google.maps.event.removeListener($),Z!==null&&google.maps.event.removeListener(Z),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),z!==null&&google.maps.event.removeListener(z),T!==null&&google.maps.event.removeListener(T),te!==null&&google.maps.event.removeListener(te),Q!==null&&google.maps.event.removeListener(Q),Fe!==null&&google.maps.event.removeListener(Fe),y&&y(pe),pe.setMap(null)}},[]),null}i.memo(cf);class Xa extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{circle:null}),D(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(Dn(Dn({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:Ui,eventMap:_i,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Ui,eventMap:_i,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),xe(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}D(Xa,"contextType",he);function zi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Tn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var Hi={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},qi={add(s,t){s.add(t)},addgeojson(s,t,n){s.addGeoJson(t,n)},contains(s,t){s.contains(t)},foreach(s,t){s.forEach(t)},loadgeojson(s,t,n,a){s.loadGeoJson(t,n,a)},overridestyle(s,t,n){s.overrideStyle(t,n)},remove(s,t){s.remove(t)},revertstyle(s,t){s.revertStyle(t)},controlposition(s,t){s.setControlPosition(t)},controls(s,t){s.setControls(t)},drawingmode(s,t){s.setDrawingMode(t)},map(s,t){s.setMap(t)},style(s,t){s.setStyle(t)},togeojson(s,t){s.toGeoJson(t)}};function df(s){var{options:t,onClick:n,onDblClick:a,onMouseDown:r,onMouseMove:o,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:m,onAddFeature:u,onRemoveFeature:f,onRemoveProperty:v,onSetGeometry:h,onSetProperty:p,onLoad:b,onUnmount:g}=s,k=i.useContext(he),[C,P]=i.useState(null),[w,y]=i.useState(null),[j,N]=i.useState(null),[L,x]=i.useState(null),[M,I]=i.useState(null),[F,_]=i.useState(null),[H,$]=i.useState(null),[q,Z]=i.useState(null),[G,ee]=i.useState(null),[ce,le]=i.useState(null),[re,z]=i.useState(null),[me,T]=i.useState(null),[U,te]=i.useState(null),[V,ae]=i.useState(null);return i.useEffect(()=>{C!==null&&C.setMap(k)},[k]),i.useEffect(()=>{C&&a&&(w!==null&&google.maps.event.removeListener(w),y(google.maps.event.addListener(C,"dblclick",a)))},[a]),i.useEffect(()=>{C&&r&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(C,"mousedown",r)))},[r]),i.useEffect(()=>{C&&o&&(L!==null&&google.maps.event.removeListener(L),x(google.maps.event.addListener(C,"mousemove",o)))},[o]),i.useEffect(()=>{C&&l&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(C,"mouseout",l)))},[l]),i.useEffect(()=>{C&&c&&(F!==null&&google.maps.event.removeListener(F),_(google.maps.event.addListener(C,"mouseover",c)))},[c]),i.useEffect(()=>{C&&d&&(H!==null&&google.maps.event.removeListener(H),$(google.maps.event.addListener(C,"mouseup",d)))},[d]),i.useEffect(()=>{C&&m&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(C,"rightclick",m)))},[m]),i.useEffect(()=>{C&&n&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(C,"click",n)))},[n]),i.useEffect(()=>{C&&u&&(ce!==null&&google.maps.event.removeListener(ce),le(google.maps.event.addListener(C,"addfeature",u)))},[u]),i.useEffect(()=>{C&&f&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(C,"removefeature",f)))},[f]),i.useEffect(()=>{C&&v&&(me!==null&&google.maps.event.removeListener(me),T(google.maps.event.addListener(C,"removeproperty",v)))},[v]),i.useEffect(()=>{C&&h&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(C,"setgeometry",h)))},[h]),i.useEffect(()=>{C&&p&&(V!==null&&google.maps.event.removeListener(V),ae(google.maps.event.addListener(C,"setproperty",p)))},[p]),i.useEffect(()=>{if(k!==null){var W=new google.maps.Data(Tn(Tn({},t),{},{map:k}));a&&y(google.maps.event.addListener(W,"dblclick",a)),r&&N(google.maps.event.addListener(W,"mousedown",r)),o&&x(google.maps.event.addListener(W,"mousemove",o)),l&&I(google.maps.event.addListener(W,"mouseout",l)),c&&_(google.maps.event.addListener(W,"mouseover",c)),d&&$(google.maps.event.addListener(W,"mouseup",d)),m&&Z(google.maps.event.addListener(W,"rightclick",m)),n&&ee(google.maps.event.addListener(W,"click",n)),u&&le(google.maps.event.addListener(W,"addfeature",u)),f&&z(google.maps.event.addListener(W,"removefeature",f)),v&&T(google.maps.event.addListener(W,"removeproperty",v)),h&&te(google.maps.event.addListener(W,"setgeometry",h)),p&&ae(google.maps.event.addListener(W,"setproperty",p)),P(W),b&&b(W)}return()=>{C&&(w!==null&&google.maps.event.removeListener(w),j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),M!==null&&google.maps.event.removeListener(M),F!==null&&google.maps.event.removeListener(F),H!==null&&google.maps.event.removeListener(H),q!==null&&google.maps.event.removeListener(q),G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),re!==null&&google.maps.event.removeListener(re),me!==null&&google.maps.event.removeListener(me),U!==null&&google.maps.event.removeListener(U),V!==null&&google.maps.event.removeListener(V),g&&g(C),C.setMap(null))}},[]),null}i.memo(df);class uf extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{data:null}),D(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(Tn(Tn({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:qi,eventMap:Hi,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:qi,eventMap:Hi,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),xe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}D(uf,"contextType",he);function Vi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function Wi(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var Zi={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Gi={options(s,t){s.setOptions(t)},url(s,t){s.setUrl(t)},zIndex(s,t){s.setZIndex(t)}};class hf extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{kmlLayer:null}),D(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(Wi(Wi({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:Gi,eventMap:Zi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:Gi,eventMap:Zi,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),xe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}D(hf,"contextType",he);function dc(s,t){return typeof t=="function"?t(s.offsetWidth,s.offsetHeight):{x:0,y:0}}function mf(s,t){return new t(s.lat,s.lng)}function pf(s,t){return new t(new google.maps.LatLng(s.ne.lat,s.ne.lng),new google.maps.LatLng(s.sw.lat,s.sw.lng))}function gf(s,t,n){return s instanceof t?s:n(s,t)}function ff(s,t,n){return s instanceof t?s:n(s,t)}function vf(s,t,n){var a=s&&s.fromLatLngToDivPixel(n.getNorthEast()),r=s&&s.fromLatLngToDivPixel(n.getSouthWest());return a&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(a.y+t.y,"px"),width:"".concat(a.x-r.x-t.x,"px"),height:"".concat(r.y-a.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function xf(s,t,n){var a=s&&s.fromLatLngToDivPixel(n);if(a){var{x:r,y:o}=a;return{left:"".concat(r+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function uc(s,t,n,a){return n!==void 0?vf(s,t,ff(n,google.maps.LatLngBounds,pf)):xf(s,t,gf(a,google.maps.LatLng,mf))}function bf(s,t){return s.left===t.left&&s.top===t.top&&s.width===t.height&&s.height===t.height}function Ji(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function yf(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ji(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function wf(s,t,n,a,r){class o extends google.maps.OverlayView{constructor(c,d,m,u){super(),this.container=c,this.pane=d,this.position=m,this.bounds=u}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=yf({},this.container?dc(this.container,r):{x:0,y:0}),m=uc(c,d,this.bounds,this.position);for(var[u,f]of Object.entries(m))this.container.style[u]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(s,t,n,a)}function Ki(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function jf(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ki(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function Yi(s){if(!s)return"";var t=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);return t+""}function Xi(s){if(!s)return"";var t=s instanceof google.maps.LatLngBounds?s:new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.east),new google.maps.LatLng(s.north,s.west));return t+""}function Nf(s){var{position:t,bounds:n,mapPaneName:a,zIndex:r,onLoad:o,onUnmount:l,getPixelPositionOffset:c,children:d}=s,m=i.useContext(he),u=i.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),f=i.useMemo(()=>wf(u,a,t,n,c),[u,a,t,n]);return i.useEffect(()=>(o==null||o(f),f==null||f.setMap(m),()=>{l==null||l(f),f==null||f.setMap(null)}),[m,f]),i.useEffect(()=>{u.style.zIndex="".concat(r)},[r,u]),gs.createPortal(d,u)}i.memo(Nf);class js extends i.PureComponent{constructor(t){super(t),D(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),D(this,"updatePane",()=>{var a=this.props.mapPaneName,r=this.overlayView.getPanes();_e(!!a,"OverlayView requires props.mapPaneName but got %s",a),r?this.setState({paneEl:r[a]}):this.setState({paneEl:null})}),D(this,"onAdd",()=>{var a,r;this.updatePane(),(a=(r=this.props).onLoad)===null||a===void 0||a.call(r,this.overlayView)}),D(this,"onPositionElement",()=>{var a=this.overlayView.getProjection(),r=jf({x:0,y:0},this.containerRef.current?dc(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=uc(a,r,this.props.bounds,this.props.position);if(!bf(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,m;this.setState({containerStyle:{top:(l=o.top)!==null&&l!==void 0?l:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(d=o.width)!==null&&d!==void 0?d:0,height:(m=o.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),D(this,"draw",()=>{this.onPositionElement()}),D(this,"onRemove",()=>{var a,r;this.setState(()=>({paneEl:null})),(a=(r=this.props).onUnmount)===null||a===void 0||a.call(r,this.overlayView)}),this.containerRef=i.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=Yi(t.position),a=Yi(this.props.position),r=Xi(t.bounds),o=Xi(this.props.bounds);(n!==a||r!==o)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?gs.createPortal(e.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:i.Children.only(this.props.children)}),t):null}}D(js,"FLOAT_PANE","floatPane");D(js,"MAP_PANE","mapPane");D(js,"MARKER_LAYER","markerLayer");D(js,"OVERLAY_LAYER","overlayLayer");D(js,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");D(js,"contextType",he);function Sf(){}function Qi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function eo(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qi(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var to={onDblClick:"dblclick",onClick:"click"},so={opacity(s,t){s.setOpacity(t)}};function Cf(s){var{url:t,bounds:n,options:a,visible:r}=s,o=i.useContext(he),l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=i.useMemo(()=>new google.maps.GroundOverlay(t,l,a),[]);return i.useEffect(()=>{c!==null&&c.setMap(o)},[o]),i.useEffect(()=>{typeof t<"u"&&c!==null&&(c.set("url",t),c.setMap(o))},[c,t]),i.useEffect(()=>{typeof r<"u"&&c!==null&&c.setOpacity(r?1:0)},[c,r]),i.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",d),c.setMap(o))},[c,n]),null}i.memo(Cf);class hc extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{groundOverlay:null}),D(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){_e(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,eo(eo({},this.props.options),{},{map:this.context}));this.registeredEvents=fe({updaterMap:so,eventMap:to,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:so,eventMap:to,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}D(hc,"defaultProps",{onLoad:Sf});D(hc,"contextType",he);function no(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,a)}return n}function In(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?no(Object(n),!0).forEach(function(a){D(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}var ao={},ro={data(s,t){s.setData(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)}};function kf(s){var{data:t,onLoad:n,onUnmount:a,options:r}=s,o=i.useContext(he),[l,c]=i.useState(null);return i.useEffect(()=>{google.maps.visualization||_e(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),i.useEffect(()=>{_e(!!t,"data property is required in HeatmapLayer %s",t)},[t]),i.useEffect(()=>{l!==null&&l.setMap(o)},[o]),i.useEffect(()=>{r&&l!==null&&l.setOptions(r)},[l,r]),i.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(In(In({},r),{},{data:t,map:o}));return c(d),n&&n(d),()=>{l!==null&&(a&&a(l),l.setMap(null))}},[]),null}i.memo(kf);class Lf extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{heatmapLayer:null}),D(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){_e(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),_e(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(In(In({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=fe({updaterMap:ro,eventMap:ao,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:ro,eventMap:ao,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),xe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}D(Lf,"contextType",he);var io={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},oo={register(s,t,n){s.registerPanoProvider(t,n)},links(s,t){s.setLinks(t)},motionTracking(s,t){s.setMotionTracking(t)},options(s,t){s.setOptions(t)},pano(s,t){s.setPano(t)},position(s,t){s.setPosition(t)},pov(s,t){s.setPov(t)},visible(s,t){s.setVisible(t)},zoom(s,t){s.setZoom(t)}};class Ef extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{streetViewPanorama:null}),D(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,a=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=fe({updaterMap:oo,eventMap:io,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:oo,eventMap:io,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),xe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}D(Ef,"contextType",he);class Pf extends i.PureComponent{constructor(){super(...arguments),D(this,"state",{streetViewService:null}),D(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}D(Pf,"contextType",he);var lo={onDirectionsChanged:"directions_changed"},co={directions(s,t){s.setDirections(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},panel(s,t){s.setPanel(t)},routeIndex(s,t){s.setRouteIndex(t)}};class Mf extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"state",{directionsRenderer:null}),D(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=fe({updaterMap:co,eventMap:lo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:co,eventMap:lo,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),xe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}D(Mf,"contextType",he);var uo={onPlacesChanged:"places_changed"},ho={bounds(s,t){s.setBounds(t)}};class Of extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"containerElement",i.createRef()),D(this,"state",{searchBox:null}),D(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(_e(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=fe({updaterMap:ho,eventMap:uo,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:ho,eventMap:uo,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),xe(this.registeredEvents))}render(){return e.jsx("div",{ref:this.containerElement,children:i.Children.only(this.props.children)})}}D(Of,"contextType",he);var mo={onPlaceChanged:"place_changed"},po={bounds(s,t){s.setBounds(t)},restrictions(s,t){s.setComponentRestrictions(t)},fields(s,t){s.setFields(t)},options(s,t){s.setOptions(t)},types(s,t){s.setTypes(t)}};class mc extends i.PureComponent{constructor(){super(...arguments),D(this,"registeredEvents",[]),D(this,"containerElement",i.createRef()),D(this,"state",{autocomplete:null}),D(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;_e(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var a=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=fe({updaterMap:po,eventMap:mo,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(t){xe(this.registeredEvents),this.registeredEvents=fe({updaterMap:po,eventMap:mo,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&xe(this.registeredEvents)}render(){return e.jsx("div",{ref:this.containerElement,className:this.props.className,children:i.Children.only(this.props.children)})}}D(mc,"defaultProps",{className:""});D(mc,"contextType",he);const Bn=async(s,t)=>{try{const n=localStorage.getItem("token");if(!n)return console.warn("No token found, skipping location save"),!1;const a=await fetch("http://localhost:5000/api/user/location",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({lat:s,lng:t})});if(a.ok){const r=await a.json();return console.log("✅ Location saved:",r),!0}else{const r=await a.json().catch(()=>({}));return console.error("❌ Failed to save location:",a.status,r),!1}}catch(n){return console.error("❌ Error saving location:",n),!1}},Rn=()=>new Promise((s,t)=>{if(!navigator.geolocation)return t(new Error("Geolocation not supported"));navigator.geolocation.getCurrentPosition(n=>{s({lat:n.coords.latitude,lng:n.coords.longitude})},n=>{t(new Error("Geolocation error: "+n.message))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),Fn=async()=>{try{const s=localStorage.getItem("token");if(!s)return null;const t=await fetch("http://localhost:5000/api/user/location",{method:"GET",headers:{Authorization:`Bearer ${s}`}});return t.ok?(await t.json()).location:null}catch(s){return console.error("❌ Error fetching location:",s),null}},Af=()=>{const[s,t]=i.useState(null),[n,a]=i.useState([]),[r,o]=i.useState(""),[l,c]=i.useState(null),[d,m]=i.useState(!0),[u,f]=i.useState(!1),[v,h]=i.useState(null),{isLoaded:p,loadError:b}=ac({googleMapsApiKey:"AIzaSyCt9dISEfT7zM4zAeE8a4_ZE6F5oAmRppI",libraries:["places"]});i.useEffect(()=>{(async()=>{try{const y=await Rn();t(y),await Bn(y.lat,y.lng),await g(y.lat,y.lng),m(!1)}catch(y){console.error("Geolocation error:",y),c(y.message||"📍 Location access denied. Please enable GPS and refresh."),m(!1)}})()},[]);const g=async(w,y)=>{try{const j=localStorage.getItem("token");console.log("Fetching nearby washermen for coordinates:",w,y);const N=r?`http://localhost:5000/api/washer/nearby?lat=${w}&lng=${y}&date=${r}`:`http://localhost:5000/api/washer/nearby?lat=${w}&lng=${y}`,L=await fetch(N,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!L.ok)throw L.status===401?new Error("Please sign in to view nearby washermen"):new Error(`HTTP error! status: ${L.status}`);const x=await L.json();console.log("Received washermen data:",x),Array.isArray(x)&&x.length===0?(console.log("No washermen found in the area"),f(!0)):(console.log(`Found ${x.length} washermen in the area`),a(x))}catch(j){console.error("Failed to fetch washermen:",j),c(j.message||"❌ Failed to fetch nearby washermen. Please try again.")}},k=w=>{const y=w.target.value;o(y),s&&g(s.lat,s.lng)},C=w=>{h(w)},P=(w,y)=>{console.log(`Booking ${y} with washerman ${w}`)};return d?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}):l?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 text-2xl mb-2",children:"⚠️"}),e.jsx("p",{className:"text-red-700 font-medium mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):s?b?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 text-2xl mb-2",children:"⚠️"}),e.jsx("p",{className:"text-red-700 font-medium mb-4",children:"Failed to load Google Maps. Please check your internet connection."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):p?e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Nearby Washermen"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Date for Booking"}),e.jsx("input",{type:"date",value:r,onChange:k,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]}),r&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Showing washermen available on ",r]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Map View"}),e.jsx("div",{className:"h-96 rounded-lg overflow-hidden",children:e.jsxs(Ql,{center:s,zoom:15,mapContainerStyle:{height:"100%",width:"100%"},options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1},children:[e.jsx(Rs,{position:s,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                    <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="16" cy="16" r="12" fill="#3b82f6" stroke="white" stroke-width="3"/>
                      <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">📍</text>
                    </svg>
                  `)}}),n.map(w=>{const y=r?w.isAvailable:!0,j=r?(w.totalAvailableSlots||0)>0:!0;return e.jsxs(bo.Fragment,{children:[e.jsx(Rs,{position:{lat:w.location.lat,lng:w.location.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                          <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="16" cy="16" r="12" fill="${y&&j?"#10b981":"#6b7280"}" stroke="white" stroke-width="3"/>
                            <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">👕</text>
                          </svg>
                        `)},title:`${w.name} - ${y&&j?"Available":"Not Available"}`,onClick:()=>C(w)}),e.jsx(Xa,{center:{lat:w.location.lat,lng:w.location.lng},radius:w.range,options:{fillColor:y&&j?"#10b981":"#6b7280",fillOpacity:.1,strokeColor:y&&j?"#10b981":"#6b7280",strokeOpacity:.8,strokeWeight:2}})]},w._id)})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Washermen"}),n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"🏠"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Washermen Found"}),e.jsx("p",{className:"text-gray-600 text-sm",children:r?`No washermen available in your area on ${r}. Try a different date.`:"There are no washermen available in your area at the moment."})]}):e.jsx("div",{className:"space-y-4",children:n.map(w=>{const y=r?w.isAvailable:!0,j=r?(w.totalAvailableSlots||0)>0:!0;return e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(v==null?void 0:v._id)===w._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${!y||!j?"opacity-50":""}`,onClick:()=>C(w),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),e.jsx("p",{className:"text-sm text-gray-500",children:w.contact}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Range: ",w.range,"m"]}),r&&e.jsx("div",{className:"mt-2",children:y&&j?e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["✅ Available (",w.totalAvailableSlots," slots)"]}),w.availableSlots&&w.availableSlots.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available slots:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.availableSlots.slice(0,3).map((N,L)=>e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:N.timeRange},L)),w.availableSlots.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",w.availableSlots.length-3," more"]})]})]})]}):e.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["❌ Not available on ",r]})})]}),y&&j&&e.jsx("button",{onClick:N=>{N.stopPropagation(),P(w._id,"any")},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Book Now"})]})},w._id)})})]})]}),v&&r&&v.availableSlots&&v.availableSlots.length>0&&e.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Book with ",v.name]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.availableSlots.map((w,y)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w.timeRange}),e.jsx("p",{className:"text-sm text-gray-500",children:w.period}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Available: ",w.available," of ",w.maxCapacity]}),e.jsx("button",{onClick:()=>P(v._id,w.timeRange),className:"mt-3 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors",children:"Book This Slot"})]})},y))})]})]}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Google Maps..."})]})}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Unable to get your location"})})})},Df=()=>{const[s,t]=i.useState(null),[n,a]=i.useState(null),[r,o]=i.useState(""),[l,c]=i.useState(!1),d=async()=>{c(!0),o("Getting current location...");try{const f=await Rn();t(f),o("Current location obtained successfully!")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}},m=async()=>{if(!s){o("Please get current location first");return}c(!0),o("Saving location to database...");try{if(await Bn(s.lat,s.lng)){o("Location saved to database successfully!");const v=await Fn();a(v)}else o("Failed to save location to database")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}},u=async()=>{c(!0),o("Getting saved location from database...");try{const f=await Fn();f?(a(f),o("Saved location retrieved successfully!")):o("No saved location found in database")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}};return i.useEffect(()=>{u()},[]),e.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"📍 Location Test"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Current Location"}),s?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",s.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",s.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No current location"}),e.jsx("button",{onClick:d,disabled:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:"Get Current Location"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Saved Location (Database)"}),n?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",n.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",n.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No saved location"}),e.jsx("button",{onClick:u,disabled:l,className:"mt-2 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50",children:"Get Saved Location"})]}),e.jsx("button",{onClick:m,disabled:l||!s,className:"w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 disabled:opacity-50",children:"Save Current Location to Database"}),r&&e.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:r})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Instructions:"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:'1. Click "Get Current Location" to get your GPS coordinates'}),e.jsx("li",{children:'2. Click "Save Current Location to Database" to save it'}),e.jsx("li",{children:'3. Click "Get Saved Location" to retrieve from database'}),e.jsx("li",{children:"4. Check the status messages for feedback"})]})]})]})]})},Tf=()=>{var b;const[s,t]=i.useState(null),[n,a]=i.useState(null),[r,o]=i.useState(""),[l,c]=i.useState(!1),[d,m]=i.useState(null),u=async()=>{const g=localStorage.getItem("token");if(!g){o("No authentication token found. Please sign in first.");return}try{const k=await fetch("http://localhost:5000/api/user/currentuser",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(k.ok){const C=await k.json();m(C),o(`Logged in as: ${C.name} (${C.email})`),console.log("User info:",C)}else o("Authentication failed. Please sign in again.")}catch(k){o("Error checking authentication"),console.error("Auth error:",k)}},f=async()=>{c(!0),o("Getting current location...");try{const g=await Rn();t(g),o(`Current location obtained: ${g.lat.toFixed(6)}, ${g.lng.toFixed(6)}`)}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},v=async()=>{if(!s){o("Please get current location first");return}c(!0),o("Saving location to database...");try{await Bn(s.lat,s.lng)?(o("Location saved to database successfully!"),setTimeout(()=>{h()},1e3)):o("Failed to save location to database")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},h=async()=>{c(!0),o("Getting saved location from database...");try{const g=await Fn();g?(a(g),o(`Saved location retrieved: ${g.lat.toFixed(6)}, ${g.lng.toFixed(6)}`)):o("No saved location found in database")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},p=async()=>{c(!0),o("Auto-saving location...");try{const g=await Rn();if(t(g),await Bn(g.lat,g.lng)){o("Location auto-saved successfully!");const C=await Fn();a(C)}else o("Failed to auto-save location")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}};return i.useEffect(()=>{u()},[]),e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"🔍 Location Debug"}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Authentication Status"}),d?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",d.role]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Location in DB:"})," ",(b=d.location)!=null&&b.coordinates?`${d.location.coordinates[1].toFixed(6)}, ${d.location.coordinates[0].toFixed(6)}`:"Not set"]})]}):e.jsx("p",{className:"text-red-600",children:"Not authenticated"}),e.jsx("button",{onClick:u,className:"mt-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Refresh Auth Status"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Current GPS Location"}),s?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",s.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",s.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No current location"}),e.jsx("button",{onClick:f,disabled:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:"Get Current Location"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Saved Location (Database)"}),n?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",n.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",n.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No saved location"}),e.jsx("button",{onClick:h,disabled:l,className:"mt-2 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50",children:"Get Saved Location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:v,disabled:l||!s,className:"w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 disabled:opacity-50",children:"Save Current Location to Database"}),e.jsx("button",{onClick:p,disabled:l,className:"w-full bg-orange-600 text-white py-2 px-4 rounded hover:bg-orange-700 disabled:opacity-50",children:"Auto-Save Location (Get + Save)"})]}),r&&e.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:r})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Debug Instructions:"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"1. Check authentication status first"}),e.jsx("li",{children:'2. Use "Auto-Save Location" to test the complete flow'}),e.jsx("li",{children:"3. Check browser console for detailed logs"}),e.jsx("li",{children:"4. Verify location is saved in database"}),e.jsx("li",{children:"5. Check backend console for server-side logs"})]})]})]})]})},If=({onLocationSelect:s,selectedLocation:t,serviceRadius:n,nearbyCustomers:a=[]})=>{const[r,o]=i.useState({lat:19.076,lng:72.8777}),[l,c]=i.useState(13),{isLoaded:d,loadError:m}=ac({googleMapsApiKey:"AIzaSyCt9dISEfT7zM4zAeE8a4_ZE6F5oAmRppI",libraries:["places"]});i.useEffect(()=>{t&&(o({lat:t.lat,lng:t.lng}),c(15))},[t]);const u=f=>{const v=f.latLng.lat(),h=f.latLng.lng(),p={lat:v,lng:h,address:`Selected Location: ${v.toFixed(4)}, ${h.toFixed(4)}`,name:"Selected Location"};s(p)};return m?e.jsx("div",{style:{height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",border:"2px solid #e5e7eb",borderRadius:"8px"},children:e.jsxs("div",{style:{textAlign:"center",color:"#ef4444"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"⚠️"}),e.jsx("h4",{children:"Map Loading Error"}),e.jsx("p",{children:"Failed to load Google Maps. Please check your internet connection."})]})}):d?e.jsxs("div",{style:{position:"relative",width:"100%",height:"450px"},children:[e.jsxs(Ql,{center:r,zoom:l,mapContainerStyle:{width:"100%",height:"100%",borderRadius:"8px"},onClick:u,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(Xa,{center:{lat:t.lat,lng:t.lng},radius:n*1e3,options:{fillColor:"#3b82f6",fillOpacity:.1,strokeColor:"#3b82f6",strokeOpacity:.8,strokeWeight:2}}),e.jsx(Rs,{position:{lat:t.lat,lng:t.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                  <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="16" cy="16" r="12" fill="#ef4444" stroke="white" stroke-width="3"/>
                    <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">📍</text>
                  </svg>
                `)}})]}),a.map((f,v)=>{var h;return e.jsx(Rs,{position:{lat:f.location.coordinates[1],lng:f.location.coordinates[0]},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="16" cy="16" r="12" fill="#10b981" stroke="white" stroke-width="3"/>
                  <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">👤</text>
                </svg>
              `)},title:`${f.name} - ${((h=f.distance)==null?void 0:h.toFixed(2))||"Unknown"} km away`},f._id||v)})]}),e.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",color:"#64748b",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxWidth:"300px"},children:[e.jsx("strong",{children:"🗺️ Interactive Map"}),e.jsx("br",{}),"Click anywhere to select your service location",e.jsx("br",{}),"Blue circle shows your service radius",e.jsx("br",{}),e.jsx("span",{style:{color:"#ef4444"},children:"🔴 Red marker:"})," Your location",e.jsx("br",{}),e.jsx("span",{style:{color:"#10b981"},children:"🟢 Green markers:"})," Nearby customers (",a.length,")"]})]}):e.jsx("div",{style:{height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",border:"2px solid #e5e7eb",borderRadius:"8px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),e.jsx("p",{children:"Loading Google Maps..."})]})})},Bf=()=>{const s=Ut();i.useRef(null);const[t,n]=i.useState(new Date),[a,r]=i.useState([]),[o,l]=i.useState([]),[c,d]=i.useState(!0),[m,u]=i.useState({name:"",email:"",contact:"",_id:"",serviceLocation:null,isWasherman:!0}),[f,v]=i.useState(null),[h,p]=i.useState({monday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},tuesday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},wednesday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},thursday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},friday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},saturday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},sunday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]}}),[b,g]=i.useState("Home"),[k,C]=i.useState("monday"),[P,w]=i.useState(new Date().toISOString().split("T")[0]),[y,j]=i.useState(!1),[N,L]=i.useState(!1),[x,M]=i.useState(null),[I,F]=i.useState(null),[_,H]=i.useState(null),[$,q]=i.useState(!1),[Z,G]=i.useState(null),[ee,ce]=i.useState(null),[le,re]=i.useState([]),[z,me]=i.useState(2.5),[T,U]=i.useState([]),[te,V]=i.useState(!1),ae=async(B,R)=>{try{const K=localStorage.getItem("token");await ne.put(`http://localhost:5000/api/booking/${B}/status`,{status:R},{headers:{Authorization:`Bearer ${K}`}}),r(ie=>ie.map(ve=>ve._id===B?{...ve,status:R}:ve))}catch(K){console.error("Error updating order status:",K),alert("Failed to update status")}},W=async B=>{if(window.confirm("Are you sure you received the cash?"))try{(await(await fetch(`/api/booking/orders/${B}/mark-paid`,{method:"POST",headers:{"Content-Type":"application/json"}})).json()).success?(alert("✅ Payment marked as paid!"),r(ve=>ve.map(Le=>Le._id===B?{...Le,paymentStatus:"paid"}:Le))):alert("❌ Could not mark payment as paid.")}catch(K){console.error("Error updating payment:",K),alert("⚠️ Something went wrong.")}},Q=()=>{q(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async B=>{const{latitude:R,longitude:K}=B.coords;console.log("Current location detected:",R,K);try{const ie=await pe(R,K);console.log("Place info received:",ie);const ve={lat:R,lng:K,address:ie.fullAddress,shortAddress:ie.shortAddress,city:ie.city,state:ie.state,country:ie.country,name:`${ie.city}, ${ie.state}`};F(ve),H(ve),q(!1),ke(ve),console.log("Location detected and saved successfully"),alert(`✅ Location detected successfully!

📍 ${ie.shortAddress}
🌍 ${ie.city}, ${ie.state}
📊 Coordinates: ${R.toFixed(6)}, ${K.toFixed(6)}

Your location has been saved and will be used for your service area.`)}catch(ie){console.error("Error processing location:",ie);const ve=`Current Location: ${R.toFixed(6)}, ${K.toFixed(6)}`,Le={lat:R,lng:K,address:ve,shortAddress:`${R.toFixed(4)}, ${K.toFixed(4)}`,city:"Unknown City",state:"Unknown State",country:"Unknown Country",name:"Current Location"};F(Le),H(Le),q(!1),ke(Le),alert(`✅ Location detected successfully!

📊 Coordinates: ${R.toFixed(6)}, ${K.toFixed(6)}

Note: Could not retrieve place name. Your location has been saved with coordinates.`)}},B=>{console.error("Geolocation error:",B),q(!1);let R="Failed to get your location";switch(B.code){case B.PERMISSION_DENIED:R="Location access denied. Please allow location access in your browser settings.";break;case B.POSITION_UNAVAILABLE:R="Location information unavailable. Please check your GPS settings.";break;case B.TIMEOUT:R="Location request timed out. Please try again.";break;default:R="Unable to get your location. Please try again."}alert(R)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):(q(!1),alert("Geolocation is not supported by this browser. Please use a modern browser with location support."))},ke=B=>{const R={id:Date.now(),name:B.name||"New Location",address:B.address,lat:B.lat,lng:B.lng,isUsed:!1,serviceRadius:z};le.some(ie=>Math.abs(ie.lat-B.lat)<.001&&Math.abs(ie.lng-B.lng)<.001)||re([R,...le]),Me(B.lat,B.lng)},Fe=async B=>{try{const R=localStorage.getItem("token");if(!R){alert("Please login to use this location");return}const K=le.find(ve=>ve.id===B);if(!K){alert("Location not found");return}(await ne.put(`http://localhost:5000/api/user/${m._id}`,{location:{type:"Point",coordinates:[K.lng,K.lat]},range:K.serviceRadius*1e3,isWasherman:!0},{headers:{Authorization:`Bearer ${R}`}})).status===200&&(u(ve=>({...ve,serviceLocation:{name:K.name,address:K.address,lat:K.lat,lng:K.lng,serviceRadius:K.serviceRadius},isWasherman:!0})),re(ve=>ve.map(Le=>({...Le,isUsed:Le.id===B}))),H(K),alert(`✅ Location "${K.name}" is now your active service location!`),Me(K.lat,K.lng))}catch(R){console.error("Error updating service location:",R),alert("❌ Failed to update service location. Please try again.")}},at=B=>{re(le.filter(R=>R.id!==B))},pe=async(B,R)=>{var K,ie,ve,Le,Y;try{const Se=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${B}&lon=${R}&zoom=18&addressdetails=1`);if(!Se.ok)throw new Error("Geocoding service unavailable");const Oe=await Se.json();if(Oe.display_name){const Ce=Oe.display_name.split(", ").slice(0,3).join(", ");return{fullAddress:Oe.display_name,shortAddress:Ce,city:((K=Oe.address)==null?void 0:K.city)||((ie=Oe.address)==null?void 0:ie.town)||((ve=Oe.address)==null?void 0:ve.village)||"Unknown City",state:((Le=Oe.address)==null?void 0:Le.state)||"Unknown State",country:((Y=Oe.address)==null?void 0:Y.country)||"Unknown Country"}}else throw new Error("No address found")}catch(Se){return console.error("Reverse geocoding error:",Se),{fullAddress:`Location at ${B.toFixed(6)}, ${R.toFixed(6)}`,shortAddress:`${B.toFixed(4)}, ${R.toFixed(4)}`,city:"Unknown City",state:"Unknown State",country:"Unknown Country"}}},Me=async(B,R)=>{var K;try{V(!0);const ie=localStorage.getItem("token");if(!ie){console.error("No authentication token found");return}const ve=await ne.get(`http://localhost:5000/api/location/customers-near-laundryman?lat=${B}&lng=${R}&range=${z*1e3}`,{headers:{Authorization:`Bearer ${ie}`}});ve.data?(U(ve.data.customers||[]),console.log("Nearby customers fetched:",((K=ve.data.customers)==null?void 0:K.length)||0)):(console.error("Failed to fetch nearby customers"),U([]))}catch(ie){console.error("Error fetching nearby customers:",ie),U([])}finally{V(!1)}},Ct=async()=>{try{const B=localStorage.getItem("token"),R=await ne.get("http://localhost:5000/api/user/currentuser",{headers:{Authorization:`Bearer ${B}`}});u({name:R.data.name,email:R.data.email,contact:R.data.contact,_id:R.data._id,image:R.data.image||"/src/washer.png",isWasherman:R.data.isWasherman||!1,serviceLocation:R.data.location?{name:"Saved Location",address:R.data.location.address||"Your saved location",lat:R.data.location.coordinates[1],lng:R.data.location.coordinates[0],serviceRadius:(R.data.range||500)/1e3}:null}),R.data.location&&(me((R.data.range||500)/1e3),H({lat:R.data.location.coordinates[1],lng:R.data.location.coordinates[0],address:R.data.location.address||"Saved Location",name:"Saved Location"}))}catch(B){console.error("Failed to fetch profile:",B)}},zt=async()=>{const B=localStorage.getItem("token");console.log("Fetching assigned orders with token:",B);try{const R=await ne.get("http://localhost:5000/api/booking/assigned",{headers:{Authorization:`Bearer ${B}`}});console.log("Fetched assigned orders:",R.data);const K=Array.isArray(R.data)?R.data.map(ie=>({...ie,id:ie._id})):[];r(K)}catch(R){console.error("Error fetching assigned bookings:",R)}},wt=async B=>{B.preventDefault();const R=new FormData(B.target),K={name:R.get("name"),email:R.get("email"),contact:R.get("contact"),isWasherman:!0};try{const ie=localStorage.getItem("token"),ve=await ne.put(`http://localhost:5000/api/user/${m._id}`,K,{headers:{Authorization:`Bearer ${ie}`}});console.log("Profile updated successfully:",ve.data),u(Le=>({...Le,...K})),g("Home")}catch(ie){console.error("Error updating profile:",ie)}},ts=()=>{const B=new Date().getHours();return B<12?"Good Morning":B<17?"Good Afternoon":"Good Evening"},Ge=()=>{j(!y)};i.useEffect(()=>{Ct(),zt()},[]),i.useEffect(()=>{b==="Location"&&m.serviceLocation&&Me(m.serviceLocation.lat,m.serviceLocation.lng)},[b,m.serviceLocation]);const gt=new Date().toISOString().split("T")[0],Xe=a.filter(B=>B.date===gt),He={totalOrders:Xe.length,pendingOrders:Xe.filter(B=>B.status==="Pending"||B.status==="Accepted").length,completedOrders:Xe.filter(B=>B.status==="DELIVERED").length,activeSlots:Object.values(h).reduce((B,R)=>B+R.slots.filter(K=>K.enabled).length,0),totalSlots:Object.values(h).reduce((B,R)=>B+R.slots.length,0),todayEarnings:Xe.reduce((B,R)=>B+(R.totalAmount||0),0)};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx("header",{className:"mobile-header",children:e.jsxs("div",{className:"mobile-header-content",children:[e.jsxs("div",{className:"mobile-logo",children:[e.jsx("img",{src:"/washer.webp",alt:"Profile",className:"mobile-profile-img"}),e.jsx("span",{className:"mobile-profile-name",children:m.name})]}),e.jsxs("button",{className:"hamburger-menu",onClick:Ge,"aria-label":"Toggle menu",children:[e.jsx("span",{className:`hamburger-line ${y?"active":""}`}),e.jsx("span",{className:`hamburger-line ${y?"active":""}`}),e.jsx("span",{className:`hamburger-line ${y?"active":""}`})]})]})}),e.jsxs("aside",{className:`sidebar ${y?"mobile-open":""}`,children:[e.jsxs("div",{className:"sidebar-profile",onClick:()=>g("Profile"),children:[e.jsx("img",{src:"/washer.webp",alt:"Laundryman",className:"sidebar-profile-img"}),e.jsx("span",{className:"sidebar-profile-name",children:m.name})]}),e.jsxs("nav",{className:"sidebar-nav",children:[e.jsxs("button",{className:`nav-button ${b==="Home"?"active":""}`,onClick:()=>{g("Home"),j(!1)},children:[e.jsx("span",{className:"nav-icon",children:"🏠"}),e.jsx("span",{children:"Home"})]}),e.jsxs("button",{className:`nav-button ${b==="Schedule"?"active":""}`,onClick:()=>{g("Schedule"),j(!1)},children:[e.jsx("span",{className:"nav-icon",children:"📅"}),e.jsx("span",{children:"Weekly Schedule"})]}),e.jsxs("button",{className:`nav-button ${b==="Location"?"active":""}`,onClick:()=>{g("Location"),j(!1)},children:[e.jsx("span",{className:"nav-icon",children:"📍"}),e.jsx("span",{children:"Set Location"})]}),e.jsxs("button",{className:`nav-button ${b==="Orders"?"active":""}`,onClick:()=>{g("Orders"),j(!1)},children:[e.jsx("span",{className:"nav-icon",children:"📋"}),e.jsx("span",{children:"Orders"})]}),e.jsxs("button",{className:`nav-button ${b==="Profile"?"active":""}`,onClick:()=>{g("Profile"),j(!1)},children:[e.jsx("span",{className:"nav-icon",children:"👤"}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{className:`nav-button ${b==="AddServices"?"active":""}`,onClick:()=>{g("AddServices"),j(!1),s("/adminservices")},children:[e.jsx("span",{className:"nav-icon",children:"➕"}),e.jsx("span",{children:"Add Services"})]})]}),e.jsxs("button",{className:`nav-button ${b==="Logout"?"active":""}`,onClick:()=>{g("Logout"),j(!1),L(!0)},children:[e.jsx("span",{className:"nav-icon",children:"🚪"}),e.jsx("span",{children:"Logout"})]})]}),y&&e.jsx("div",{className:"mobile-overlay",onClick:Ge}),e.jsxs("main",{className:"main-content",children:[b==="Home"&&e.jsxs("div",{className:"home-page",children:[e.jsxs("section",{className:"welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[ts(),", ",m.name,"! 👋"]}),e.jsx("p",{children:"Here's what's happening with your laundry service today"})]}),e.jsxs("div",{className:"date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"dashboard-stats",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card orders",children:[e.jsx("div",{className:"stat-icon",children:"📦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:He.totalOrders}),e.jsx("span",{className:"stat-label",children:"Today"})]})]}),e.jsxs("div",{className:"stat-card completed",children:[e.jsx("div",{className:"stat-icon",children:"✅"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Completed"}),e.jsx("p",{className:"stat-number",children:He.completedOrders}),e.jsx("span",{className:"stat-label",children:"Today"})]})]}),e.jsxs("div",{className:"stat-card earnings",children:[e.jsx("div",{className:"stat-icon",children:"₹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Today's Earnings"}),e.jsxs("p",{className:"stat-number",children:["₹",He.todayEarnings]}),e.jsx("span",{className:"stat-label"})]})]})]})})]}),b==="Schedule"&&e.jsx(Rf,{}),b==="Location"&&e.jsxs("section",{className:"location-section",children:[e.jsxs("div",{className:"location-header",children:[e.jsx("h3",{children:"Set Your Service Location"}),e.jsx("p",{children:"Choose your preferred location for laundry services"})]}),e.jsxs("div",{className:"location-content",children:[e.jsx("div",{className:"location-selection-area",children:e.jsxs("div",{className:"location-map-container",children:[e.jsxs("div",{className:"current-location-section",children:[e.jsx("h4",{children:"📍 Current Location"}),e.jsxs("div",{className:"location-detection-info",children:[e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"Click the button below to detect your current location using GPS"}),e.jsx("button",{className:`detect-location-btn ${$?"detecting":""}`,onClick:Q,disabled:$,style:{backgroundColor:$?"#f3f4f6":"#3b82f6",color:$?"#6b7280":"white",cursor:$?"not-allowed":"pointer",position:"relative"},children:$?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{animation:"spin 1s linear infinite"},children:"🔄"}),"Detecting Location..."]}):e.jsx(e.Fragment,{children:"📍 Use Current Location"})}),$&&e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#059669",backgroundColor:"#d1fae5",padding:"8px",borderRadius:"4px",border:"1px solid #a7f3d0"},children:"🔍 Please allow location access when prompted by your browser"})]}),I&&e.jsxs("div",{className:"location-info",children:[e.jsxs("div",{className:"location-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"📍 Place:"})," ",I.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"🏙️ City:"})," ",I.city]}),e.jsxs("p",{children:[e.jsx("strong",{children:"🏛️ State:"})," ",I.state]}),e.jsxs("p",{children:[e.jsx("strong",{children:"📝 Address:"})," ",I.shortAddress||I.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"📊 Coordinates:"})," ",I.lat.toFixed(6),", ",I.lng.toFixed(6)]})]}),e.jsx("button",{className:"save-location-btn",onClick:()=>ke(I),children:"💾 Save This Location"})]})]}),e.jsxs("div",{className:"manual-location-section",style:{marginTop:"24px",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[e.jsx("h4",{children:"🔧 Manual Location Input"}),e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"If GPS detection doesn't work, you can manually enter your coordinates"}),e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:"Latitude:"}),e.jsx("input",{type:"number",step:"any",placeholder:"e.g., 19.0760",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},onChange:B=>{const R=parseFloat(B.target.value);isNaN(R)||G(R)}})]}),e.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:"Longitude:"}),e.jsx("input",{type:"number",step:"any",placeholder:"e.g., 72.8777",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},onChange:B=>{const R=parseFloat(B.target.value);isNaN(R)||ce(R)}})]})]}),e.jsx("button",{style:{marginTop:"12px",backgroundColor:"#10b981",color:"white",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},onClick:()=>{Z&&ee?pe(Z,ee).then(B=>{const R={lat:Z,lng:ee,address:B.fullAddress,shortAddress:B.shortAddress,city:B.city,state:B.state,country:B.country,name:`${B.city}, ${B.state}`};F(R),H(R),ke(R),alert(`✅ Manual location set successfully!

📍 ${B.shortAddress}
🌍 ${B.city}, ${B.state}
📊 Coordinates: ${Z.toFixed(6)}, ${ee.toFixed(6)}`)}).catch(B=>{const R={lat:Z,lng:ee,address:`Manual Location: ${Z.toFixed(6)}, ${ee.toFixed(6)}`,shortAddress:`${Z.toFixed(4)}, ${ee.toFixed(4)}`,city:"Unknown City",state:"Unknown State",country:"Unknown Country",name:"Manual Location"};F(R),H(R),ke(R),alert(`✅ Manual location set successfully!

📊 Coordinates: ${Z.toFixed(6)}, ${ee.toFixed(6)}

Note: Could not retrieve place name.`)}):alert("Please enter both latitude and longitude values.")},children:"📍 Set Manual Location"})]}),e.jsxs("div",{className:"map-section",children:[e.jsx("h4",{children:"🗺️ Interactive Map - Click to Select Location"}),e.jsx("div",{className:"map-controls",children:e.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"📍 Click anywhere on the map to select your service location"})}),e.jsx(If,{onLocationSelect:H,selectedLocation:_,serviceRadius:z,nearbyCustomers:T}),_&&e.jsxs("div",{className:"selected-location-info",style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"6px"},children:[e.jsxs("h5",{style:{color:"#0369a1",marginBottom:"8px"},children:["📍 Selected Location: ",_.name]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"🏙️ City:"})," ",_.city]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"🏛️ State:"})," ",_.state]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"📝 Address:"})," ",_.shortAddress||_.address]}),e.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:[e.jsx("strong",{children:"📊 Coordinates:"})," ",_.lat,", ",_.lng]}),e.jsx("button",{className:"save-location-btn",onClick:()=>ke(_),style:{backgroundColor:"#0ea5e9",color:"white",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"💾 Save Selected Location"})]})]})]})}),e.jsxs("div",{className:"service-area-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{children:"🎯 Service Area Settings"})}),e.jsxs("div",{className:"service-area-content",children:[e.jsxs("div",{className:"service-radius",children:[e.jsxs("label",{htmlFor:"serviceRadius",children:["Service Radius: ",z," km"]}),e.jsxs("div",{className:"radius-input-group",children:[e.jsx("input",{id:"serviceRadius",type:"range",min:"0.5",max:"5",step:"0.5",value:z,onChange:B=>me(Number.parseFloat(B.target.value)),className:"radius-slider"}),e.jsxs("div",{className:"radius-labels",children:[e.jsx("span",{children:"0.5 km"}),e.jsx("span",{children:"5 km"})]})]}),e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginTop:"8px"},children:"This radius will be saved with each location and determines your service coverage area."})]}),m.serviceLocation&&e.jsxs("div",{className:"current-service-location",children:[e.jsx("h5",{children:"✅ Current Active Service Location"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",m.serviceLocation.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",m.serviceLocation.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Radius:"})," ",m.serviceLocation.serviceRadius||z," km"]})]}),e.jsxs("div",{className:"nearby-customers-section",style:{marginTop:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{children:"👥 Nearby Customers"}),e.jsx("button",{onClick:()=>{m.serviceLocation?Me(m.serviceLocation.lat,m.serviceLocation.lng):alert("Please set your service location first")},disabled:te,style:{backgroundColor:"#3b82f6",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:te?"not-allowed":"pointer",fontSize:"12px",fontWeight:"600",opacity:te?.6:1},children:te?"🔄 Loading...":"🔄 Refresh"})]}),te?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:[e.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 8px"}}),"Loading nearby customers..."]}):T.length>0?e.jsx("div",{className:"customers-list",children:T.map((B,R)=>{var K;return e.jsx("div",{className:"customer-item",style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",marginBottom:"8px",backgroundColor:"#f9fafb"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{margin:"0 0 4px 0",color:"#374151"},children:["👤 ",B.name]}),e.jsxs("p",{style:{margin:"0 0 2px 0",fontSize:"12px",color:"#6b7280"},children:["📞 ",B.contact||"Contact not available"]}),e.jsxs("p",{style:{margin:"0",fontSize:"12px",color:"#6b7280"},children:["📧 ",B.email||"Email not available"]}),B.address&&e.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#6b7280"},children:["📍 ",B.address.street||B.address]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsxs("span",{style:{backgroundColor:"#10b981",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[((K=B.distance)==null?void 0:K.toFixed(2))||"Unknown"," km"]})})]})},B._id||R)})}):e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"👥"}),e.jsx("p",{children:"No customers found in your service area"}),e.jsx("p",{style:{fontSize:"12px"},children:"Customers will appear here when they set their location"})]})]})]})]}),e.jsxs("div",{className:"saved-locations-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{children:"💾 Saved Locations"})}),e.jsx("div",{className:"saved-locations-list",children:le.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"📍"}),e.jsx("p",{children:"No saved locations yet"}),e.jsx("span",{children:"Add locations to see them here"})]}):le.map(B=>e.jsxs("div",{className:"saved-location-item",children:[e.jsxs("div",{className:"location-info",children:[e.jsxs("h5",{children:["📍 ",B.name||"Saved Location"]}),B.city&&e.jsxs("p",{style:{fontSize:"14px",color:"#374151",marginBottom:"2px"},children:["🏙️ ",B.city,", ",B.state]}),e.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px"},children:B.shortAddress||B.address}),e.jsxs("span",{className:"coordinates",style:{fontSize:"12px",color:"#9ca3af"},children:["📊 ",B.lat.toFixed(4),", ",B.lng.toFixed(4)]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:["🎯 Service Radius: ",B.serviceRadius||2.5," km"]})]}),e.jsxs("div",{className:"location-actions",children:[e.jsx("button",{className:`use-location-btn ${B.isUsed?"used":""}`,onClick:()=>Fe(B.id),children:B.isUsed?"✓ Active":"Use"}),e.jsx("button",{className:"delete-location-btn",onClick:()=>at(B.id),children:"🗑️"})]})]},B.id))})]})]})]}),b==="Orders"&&e.jsxs("section",{className:"orders-section",children:[e.jsx("h3",{children:"Assigned Orders"}),a.length===0?e.jsxs("div",{className:"empty-orders",children:[e.jsx("div",{className:"empty-icon",children:"📋"}),e.jsx("p",{children:"No assigned orders"})]}):e.jsx("div",{className:"orders-by-date",children:(()=>{const B={};return a.forEach(K=>{const ie=new Date(K.date).toISOString().split("T")[0];B[ie]||(B[ie]=[]),B[ie].push(K)}),Object.keys(B).sort().map(K=>{const ie=B[K],ve=new Date().toISOString().split("T")[0];let Le="";return K===ve?Le="Today's Orders":Le=new Date(K).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})+"'s Orders",e.jsxs("div",{className:"date-group",children:[e.jsxs("div",{className:"date-header",children:[e.jsx("h4",{children:Le}),e.jsxs("span",{className:"order-count-badge",children:[ie.length," orders"]})]}),e.jsx("div",{className:"orders-grid",children:ie.map(Y=>{var ut;const Se=Y.productId||{},Oe=Y.guest||{},Qe=Oe.address||{},Ce=Y.slot||{};return e.jsxs("div",{className:"order-card",children:[Se.image&&e.jsx("div",{className:"order-image-container mb-2",children:e.jsx("img",{src:Se.image,alt:Se.name,className:"w-full h-40 object-contain rounded",onError:Ve=>{Ve.target.src="https://via.placeholder.com/150"}})}),e.jsxs("div",{className:"order-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",Y._id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",Oe.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",Oe.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",Oe.contact||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",Se.category||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Type:"})," ",Se.serviceType||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Quantity:"})," ",Y.quantity||1]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Label:"})," ",Ce.label||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Price:"})," ₹",Y.totalAmount||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment:"})," ",Y.paymentMethod||"N/A"," (",Y.paymentStatus||"N/A",")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pickup Date:"})," ",new Date(Y.date).toISOString().split("T")[0]]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time Slot:"})," ",Ce.range||"N/A"]}),Qe.street&&e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",Qe.street,", ",Qe.city,", ",Qe.state," - ",Qe.zip]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:`status-badge ${(ut=Y.status)==null?void 0:ut.toLowerCase().replace(" ","-")}`,children:Y.status||"N/A"})]})]}),e.jsxs("div",{className:"action-buttons",children:[Y.status==="Accepted"&&e.jsx("button",{onClick:()=>ae(Y._id,"Pickedup"),className:"pickup-btn",children:"✅ Pickup"}),Y.status==="Pickedup"&&e.jsx("button",{onClick:()=>ae(Y._id,"Washed"),className:"wash-btn",children:"🧺 Washed"}),Y.status==="Washed"&&e.jsx("button",{onClick:()=>ae(Y._id,"Ready for delivery"),className:"ready-btn",children:"✅ Ready"}),Y.status==="Ready for delivery"&&e.jsx("button",{onClick:()=>ae(Y._id,"Delivered"),className:"deliver-btn",children:"✅ Delivered"})]}),e.jsxs("div",{className:"action-buttons mt-2 space-y-2",children:[Y.status==="booked"&&e.jsx("button",{onClick:()=>ae(Y._id,"picked_up"),className:"px-3 py-1 bg-blue-500 text-white rounded",children:"✅ Mark as Picked Up"}),Y.status==="picked_up"&&e.jsx("button",{onClick:()=>ae(Y._id,"in_progress"),className:"px-3 py-1 bg-yellow-500 text-white rounded",children:"🧺 Mark as In Progress"}),Y.status==="in_progress"&&e.jsx("button",{onClick:()=>ae(Y._id,"delivered"),className:"px-3 py-1 bg-green-500 text-white rounded",children:"📦 Mark as Delivered"}),Y.paymentMethod==="cash"&&Y.paymentStatus==="pending"&&Y.status==="delivered"&&e.jsx("button",{onClick:()=>W(Y._id),className:"px-3 py-1 bg-green-600 text-white rounded",children:"💵 Mark as Paid"})]})]},Y._id)})})]},K)})})()})]}),b==="Profile"&&e.jsxs("section",{className:"edit-profile-section",children:[e.jsx("h3",{children:"Edit Profile"}),e.jsxs("div",{className:"profile-container",children:[e.jsx("img",{src:"/washer.webp",alt:"Profile Preview",className:"profile-image-preview"}),e.jsxs("form",{onSubmit:wt,className:"edit-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{id:"name",name:"name",type:"text",defaultValue:m.name,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",defaultValue:m.email,required:!0,placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contact",children:"Contact"}),e.jsx("input",{id:"contact",name:"contact",type:"tel",defaultValue:m.contact,required:!0,placeholder:"Enter your contact number"})]}),e.jsxs("div",{className:"profile-buttons",children:[e.jsx("button",{type:"submit",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>g("Home"),children:"Cancel"})]})]})]})]})]}),x&&e.jsx("div",{className:"time-slot-dialog",children:e.jsxs("div",{className:"time-slot-dialog-content",children:[e.jsxs("div",{className:"time-slot-dialog-header",children:[e.jsx("h3",{children:"Time Slot Details"}),e.jsx("button",{className:"time-slot-dialog-close",onClick:()=>M(null),children:"×"})]}),e.jsxs("div",{className:"time-slot-details",children:[e.jsx("h4",{children:x.timeSlot}),e.jsx("p",{children:new Date(x.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"time-slot-stats",children:[e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Current Bookings:"}),e.jsx("span",{className:"time-slot-stat-value",children:x.availability.currentOrders})]}),e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Max Capacity:"}),e.jsx("span",{className:"time-slot-stat-value",children:x.availability.maxCapacity})]}),e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Available Slots:"}),e.jsx("span",{className:"time-slot-stat-value available",children:x.availability.availableSlots})]})]}),e.jsx("div",{className:"time-slot-progress",children:e.jsx("div",{className:"time-slot-progress-fill",style:{width:`${x.availability.percentage}%`,backgroundColor:x.availability.isFull?"#e74c3c":x.availability.isNearFull?"#f39c12":"#27ae60"}})}),e.jsx("div",{className:"time-slot-status-container",children:e.jsx("span",{className:`time-slot-status ${x.availability.isFull?"full":x.availability.isNearFull?"near-full":"available"}`,children:x.availability.isFull?"Full":x.availability.isNearFull?"Near Full":"Available"})}),x.availability.orders&&x.availability.orders.length>0&&e.jsxs("div",{className:"time-slot-orders-list",children:[e.jsx("h5",{children:"Current Orders:"}),e.jsx("div",{className:"time-slot-orders-container",children:x.availability.orders.map(B=>e.jsxs("div",{className:"time-slot-order-item",children:[e.jsx("div",{className:"time-slot-order-id",children:B.id}),e.jsxs("div",{className:"time-slot-order-details",children:[B.customerName," - ",B.details]})]},B.id))})]})]})}),N&&e.jsx("div",{className:"logout-popup-overlay",children:e.jsxs("div",{className:"logout-popup-content",children:[e.jsx("h3",{children:"Are you sure?"}),e.jsx("p",{children:"Do you want to logout?"}),e.jsxs("div",{className:"logout-popup-buttons",children:[e.jsx("button",{className:"yes-btn",onClick:()=>{L(!1),s("/signin")},children:"Yes"}),e.jsx("button",{className:"no-btn",onClick:()=>L(!1),children:"No"})]})]})})]})},Rf=()=>{const[s,t]=i.useState([]),[n,a]=i.useState({}),[r,o]=i.useState({}),[l,c]=i.useState(!0),[d,m]=i.useState(null),[u,f]=i.useState({}),[v,h]=i.useState({}),[p,b]=i.useState({}),[g,k]=i.useState({});i.useEffect(()=>{(async()=>{try{c(!0),m(null);const x=localStorage.getItem("token"),M=await ne.get("http://localhost:5000/api/show/slot-templates",{headers:{Authorization:`Bearer ${x}`}}),I=new Date;I.setHours(0,0,0,0);const F=M.data.filter(G=>{const ee=new Date(G.date);return ee.setHours(0,0,0,0),ee>=I});t(F);const _=JSON.parse(localStorage.getItem("washermanEnabledSlots")||"{}"),H=JSON.parse(localStorage.getItem("washermanMaxBookingInputs")||"{}"),$={},q={};for(const G in _)new Date(G)>=I&&($[G]=_[G]);for(const G in H)new Date(G)>=I&&(q[G]=H[G]);a($),o(q),localStorage.setItem("washermanEnabledSlots",JSON.stringify($)),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(q));const Z=await ne.get("http://localhost:5000/api/show/slot-booking-counts",{headers:{Authorization:`Bearer ${x}`}});k(Z.data||{})}catch{m("Failed to load slot templates. Please try again.")}finally{c(!1)}})()},[]);const C=(L,x)=>{var H;const M=new Set(n[L]||[]),I=M.has(x.range),F={...n},_=(H=r[L])==null?void 0:H[x.range];I?M.delete(x.range):(M.add(x.range),o($=>({...$,[L]:{...$[L],[x.range]:_||""}}))),F[L]=[...M],a(F),localStorage.setItem("washermanEnabledSlots",JSON.stringify(F)),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(r)),h($=>({...$,[L]:!1}))},P=(L,x,M)=>{const I=parseInt(M,10),F={...r,[L]:{...r[L],[x]:I}};o(F),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(F)),b(_=>({..._,[L]:{..._[L],[x]:!1}}))},w=async L=>{var H,$;m(null),f(q=>({...q,[L]:!0})),b({});const x=n[L]||[],M=((H=s.find(q=>q.date===L))==null?void 0:H.slots)||[],I={};let F=!1;for(const q of M)if(x.includes(q.range)){const Z=($=r[L])==null?void 0:$[q.range];(!Z||isNaN(Z)||Z<=0)&&(I[q.range]=!0,F=!0)}if(F){b(q=>({...q,[L]:I})),f(q=>({...q,[L]:!1}));return}const _=localStorage.getItem("token");try{const q={date:L,enabledSlots:M.filter(Z=>x.includes(Z.range)).map(Z=>{var G;return{label:Z.label,range:Z.range,maxBookings:(G=r[L])==null?void 0:G[Z.range]}})};await ne.post("http://localhost:5000/api/show/slots/washer",q,{headers:{Authorization:`Bearer ${_}`}}),h(Z=>({...Z,[L]:!0})),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(r))}catch{m("Failed to save slots. Please try again.")}finally{f(q=>({...q,[L]:!1}))}},y=L=>new Date(L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=L=>new Set(n[L]||[]).size,N=L=>{var x;return new Set((x=s.find(M=>M.date===L))==null?void 0:x.slots.map(M=>M.range)).size};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsx(us,{className:"w-12 h-12 text-blue-600 animate-spin"})}):e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:s.map(L=>{const x=L.date,M=N(x),I=j(x),F=u[x],_=v[x],H=p[x]||{};return e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 border",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-100 px-4 py-2 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-800",children:y(x)}),e.jsx("p",{className:"text-sm text-gray-600",children:x})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[I,"/",M," Active Slots"]}),e.jsx("div",{className:"w-full bg-gray-200 h-2 rounded mt-1",children:e.jsx("div",{className:"h-2 bg-green-500 rounded",style:{width:`${I/M*100}%`}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:L.slots.map($=>{var le,re,z;const q=(le=n[x])==null?void 0:le.includes($.range),Z=H[$.range],G=(re=r[x])==null?void 0:re[$.range],ee=((z=g[x])==null?void 0:z[$.range])||0,ce=q&&G!==void 0&&ee>=G;return e.jsx("div",{className:`p-4 rounded border relative ${q?ce?"bg-red-50 border-red-400":"bg-green-50 border-green-300":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:$.label}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-1",children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:$.range})]}),q&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Max Bookings"}),e.jsx("input",{type:"number",min:"1",value:G||"",onChange:me=>P(x,$.range,me.target.value),className:`mt-1 w-20 px-2 py-1 border text-sm rounded ${Z?"border-red-500":"border-gray-300"}`})]}),e.jsxs("div",{className:`text-xs mt-1 ${ce?"text-red-600 font-semibold":"text-gray-600"}`,children:[ee,"/",G," ",ce?"(Slot Full)":"Available"]})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer mt-1",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:()=>C(x,$),className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500 relative"})]})]})},$.range+$.label)})}),Object.keys(H).length>0&&e.jsx("p",{className:"text-red-600 text-sm px-4 pb-2",children:"Please set Max Bookings for all enabled slots on this date."}),e.jsx("button",{onClick:()=>w(x),disabled:F,className:`w-full mt-4 py-2 rounded-lg font-semibold transition ${F?"bg-gray-400 text-white":_?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:F?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(us,{className:"w-5 h-5 animate-spin mr-2"})," Saving..."]}):_?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(gn,{className:"w-5 h-5 mr-2"})," Saved!"]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx($n,{className:"w-5 h-5 mr-2"}),"Save for ",new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})})]},x)})})},Ff=()=>{var sr,nr,ar,rr,ir,or,lr,cr,dr,ur,hr,mr,pr,gr,fr,vr;const s=i.useRef(null),[t,n]=i.useState(!1),[a,r]=i.useState({name:"Sarah Johnson",email:"sarah@example.com",contact:"987-654-3210",image:"https://randomuser.me/api/portraits/women/32.jpg",address:"123 Main Street, Downtown, Mumbai, 400001",location:{lat:19.076,lng:72.8777}}),[o,l]=i.useState("Home"),[c,d]=i.useState(!1),[m,u]=i.useState(!1),[f,v]=i.useState(!1),[h,p]=i.useState(!1),[b,g]=i.useState(!1),[k,C]=i.useState(null),[P,w]=i.useState({}),[y,j]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,L]=i.useState([]),[x,M]=i.useState(!0),[I,F]=i.useState(!1),[_,H]=i.useState(""),[$,q]=i.useState(""),[Z,G]=i.useState("method"),[ee,ce]=i.useState(!0),[le,re]=i.useState(!1),[z,me]=i.useState(null),[T,U]=i.useState(0),[te,V]=i.useState(""),[ae,W]=i.useState(!1),[Q,ke]=i.useState(null),[Fe,at]=i.useState(!1),[pe,Me]=i.useState(new Date().toISOString().split("T")[0]),[Ct,zt]=i.useState(!1),[wt,ts]=i.useState("overview"),[Ge,gt]=i.useState(null),[Xe,He]=i.useState(!1),[B,R]=i.useState([]),[K,ie]=i.useState(!1),[ve,Le]=i.useState(null),[Y,Se]=i.useState(""),[Oe,Qe]=i.useState([]),[Ce,ut]=i.useState(null),[Ve,Dt]=i.useState(null),[ft,Tt]=i.useState([]),[Ue,ss]=i.useState("cod"),[ht,Ht]=i.useState(0);i.useEffect(()=>{const E=async()=>{try{const et=(await ne.get("http://localhost:5000/api/booking",{withCredentials:!0})).data.map(it=>({...it,laundryman:it.laundryman||it.laundrymanName||"",total:it.total||it.totalAmount||0}));L(et);const Pt=et.reduce((it,bt)=>it+(typeof bt.total=="number"?bt.total:Number(bt.total)||0),0);console.log("Total Spent:",Pt)}catch(be){console.error("Error fetching orders",be)}finally{M(!1)}},X=localStorage.getItem("token");(async()=>{try{const be=await ne.get("http://localhost:5000/api/user/currentuser",{headers:{Authorization:`Bearer ${X}`}});r({name:be.data.name,email:be.data.email,contact:be.data.contact,image:be.data.image||"/placeholder.svg",address:be.data.address,_id:be.data._id})}catch(be){console.error("Failed to fetch profile:",be)}})(),E()},[]);const vt=[{id:"wash_fold",name:"Wash & Fold",description:"Regular washing and folding service",icon:"👕",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:25,image:"download.jpg"},{name:"T-Shirt",price:20,image:"t shirt.jpg"},{name:"Pants",price:30,image:"pants.jpg"},{name:"Jeans",price:35,image:"jeans.jpg"},{name:"Jacket",price:50,image:"jacket.jpg"}]},{id:"dry_clean",name:"Dry Cleaning",description:"Professional dry cleaning service",icon:"🧥",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:150,image:"download.jpg"},{name:"Jeans",price:120,image:"jeans.jpg"},{name:"Jacket",price:200,image:"jacket.jpg"}]},{id:"iron_only",name:"Iron Only",description:"Professional ironing service",icon:"🔥",deliveryTime:"Same day",clothes:[{name:"Shirt",price:15,image:"download.jpg"},{name:"T-Shirt",price:10,image:"t shirt.jpg"},{name:"Pants",price:20,image:"pants.jpg"},{name:"Jacket",price:30,image:"jacket.jpg"}]},{id:"stain_removal",name:"Stain Removal",description:"Specialized stain removal service",icon:"🧽",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:50,image:"download.jpg"},{name:"Pants",price:60,image:"pants.jpg"},{name:"Jacket",price:100,image:"jacket.jpg"}]},{id:"eco_friendly",name:"Eco-Friendly Wash",description:"Environment friendly washing with organic detergents",icon:"🌱",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:30,image:"download.jpg"},{name:"T-Shirt",price:25,image:"t shirt.jpg"},{name:"Pants",price:35,image:"pants.jpg"}]}],qt=E=>{const X=new Date().toISOString().split("T")[0],ge=new Date(E),be=new Date(X),et=E===X,Pt=ge<be,it=new Date().getHours();let bt=[{id:1,time:"06:00 - 09:00",available:3,total:5},{id:2,time:"09:00 - 12:00",available:1,total:5},{id:3,time:"12:00 - 15:00",available:4,total:4},{id:4,time:"15:00 - 18:00",available:2,total:3},{id:5,time:"18:00 - 21:00",available:4,total:6}];return Pt?bt.map(Mt=>({...Mt,status:"unavailable",reason:"Date has passed"})):(et&&(bt=bt.filter(Mt=>parseInt(Mt.time.split(":")[0])>it)),bt.map(Mt=>({...Mt,status:Mt.available>0?"available":"full"})))},[kt,ns]=i.useState(qt(pe)),as=[{id:1,name:"Raj Kumar",experience:"5 years",location:{lat:19.076,lng:72.8777},distance:.1,workingHours:"06:00 - 21:00",services:["wash_fold","iron_only","eco_friendly"],image:"laundryman 1.jpg",phone:"+91 9876543210",specialties:["Wash & fold","Iron service","Eco-friendly detergents"]},{id:2,name:"Amit Singh",experience:"3 years",location:{lat:19.0765,lng:72.878},distance:.3,workingHours:"07:00 - 19:00",services:["wash_fold","dry_clean","stain_removal"],image:"laundryman 2.jpg",phone:"+91 9876543211",specialties:["Suits & blazers","Wedding dresses","Leather cleaning"]},{id:3,name:"Suresh Patel",experience:"7 years",location:{lat:19.0755,lng:72.8785},distance:.4,workingHours:"05:00 - 20:00",services:["wash_fold","dry_clean","iron_only","stain_removal","eco_friendly"],image:"laundryman 3.jpg",phone:"+91 9876543212",specialties:["Eco friendly","Premium ironing","Stain removal expert"]}],[Lt,oe]=i.useState(!1),[It,rs]=i.useState(null),[xt,Js]=i.useState(null);i.useEffect(()=>{ns(qt(pe))},[pe]);const Xn=()=>{n(!t)},Et=()=>{n(!1)},Ks=E=>{H(E),E==="upi"?G("upi"):E==="cod"&&rt("cod")},Qn=E=>{q(E),G("processing"),setTimeout(()=>{G("success"),setTimeout(()=>{rt("upi")},2e3)},3e3)},Ns=[{id:"phonepe",name:"PhonePe",icon:"📱",color:"#5f259f"},{id:"googlepay",name:"Google Pay",icon:"🔵",color:"#4285f4"},{id:"paytm",name:"Paytm",icon:"💙",color:"#00baf2"},{id:"phonepe_upi",name:"PhonePe UPI",icon:"💳",color:"#5f259f"},{id:"googlepay_upi",name:"Google Pay UPI",icon:"💳",color:"#4285f4"},{id:"paytm_upi",name:"Paytm UPI",icon:"💳",color:"#00baf2"}],ea=()=>{w({...a}),v(!0)},Ys=E=>{const X=E.target.files[0];if(X){const ge=new FileReader;ge.onloadend=()=>{C(ge.result),f?w({...P,image:ge.result}):(r({...a,image:ge.result}),alert("Profile photo updated successfully!"))},ge.readAsDataURL(X)}p(!1)},Xs=async()=>{var E,X,ge;try{const be=localStorage.getItem("token"),et={...P};et.address&&(et.address={street:et.address.street||"",city:et.address.city||"",state:et.address.state||"",zip:et.address.zip||""}),a.role!=="washerman"&&delete et.range;const Pt=await ne.put(`http://localhost:5000/api/user/${a._id}`,et,{headers:{Authorization:`Bearer ${be}`}});r(Pt.data),v(!1),C(null),alert("Profile updated successfully!")}catch(be){console.error("Update error:",((E=be.response)==null?void 0:E.data)||be.message),alert(((ge=(X=be.response)==null?void 0:X.data)==null?void 0:ge.message)||"Failed to update profile")}},Qs=()=>{v(!1),w({}),C(null)},en=()=>{if(y.newPassword!==y.confirmPassword){alert("New passwords don't match!");return}if(y.newPassword.length<6){alert("Password must be at least 6 characters long!");return}alert("Password changed successfully!"),g(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},Ss=()=>{g(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},tn=E=>{me(E),U(E.rating||0),V(""),re(!0)},sn=()=>{if(T===0){alert("Please select a rating");return}const E=N.map(X=>X.id===z.id?{...X,rating:T,feedback:te}:X);L(E),re(!1),me(null),U(0),V(""),alert("Thank you for your feedback!")},S=E=>{const X=E.services.map(ge=>vt.find(be=>be.id===ge));ke({...E,services:X,laundrymanName:E.laundryman,laundrymanObj:as.find(ge=>ge.name===E.laundryman)}),W(!0)},J=()=>{Q&&(Qe(Q.services),Dt(Q.laundrymanObj),Tt(Q.items),Ht(Q.total),ss(Q.paymentMethod==="Cash on Delivery"?"cod":"upi"),W(!1),l("Book"),alert("Previous order details loaded! Please select date and time slot."))},Ne=E=>{E.status==="available"&&(ut(E),at(!1),alert(`Time slot ${E.time} selected!`))},$e=E=>{const X=E.target.value;Me(X),ut(null)},Ae=()=>{if(He(!0),Se("📍 Detecting your location..."),!navigator.geolocation){Se("❌ Geolocation is not supported by your browser."),He(!1);return}navigator.geolocation.getCurrentPosition(async E=>{const{latitude:X,longitude:ge}=E.coords;try{const Pt=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${X}+${ge}&key=fbddd9ac0aff4feb840edc8d63a8f264`)).json();if(Pt.status.code!==200)throw new Error("Reverse geocoding failed");const it=Pt.results.length>0?Pt.results[0].formatted:`${X.toFixed(4)}, ${ge.toFixed(4)}`,bt={lat:X,lng:ge,address:it};gt(bt),Se(`✅ Location detected: ${it}`);const Mt=localStorage.getItem("token");if(Mt)try{(await fetch("http://localhost:5000/api/user/location",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Mt}`},body:JSON.stringify({latitude:X,longitude:ge})})).ok?(console.log("Location saved to database successfully"),Se(`✅ Location saved: ${it}`)):(console.error("Failed to save location to database"),Se("⚠️ Location detected but not saved"))}catch(sa){console.error("Error saving location to database:",sa),Se("⚠️ Location detected but not saved")}Se("🔍 Finding nearby washermen..."),await Je(bt)}catch(be){console.error("Geocoding error:",be),Se("❌ Failed to get address from coordinates")}finally{He(!1)}},E=>{console.error("Location error:",E.message),Se("❌ Could not detect location. Please allow location access.");const X={lat:19.076,lng:72.8777,address:"Bandra West, Mumbai (Fallback)"};gt(X),Se("📍 Using fallback location: Bandra West, Mumbai"),Je(X),He(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},Je=async E=>{ie(!0),Le(null);try{const X=await fetch(`http://localhost:5000/api/washer/nearby?lat=${E.lat}&lng=${E.lng}`);if(!X.ok)throw new Error("Failed to fetch laundrymen");const ge=await X.json(),be=Array.isArray(ge)?ge:[];R(be),be.length>0?Se(`✅ Found ${be.length} nearby washermen!`):Se("⚠️ No washermen found in your area")}catch(X){R([]),Le("Could not load laundrymen. Please try again."),Se("❌ Failed to load nearby washermen"),console.error("Error fetching laundrymen:",X)}finally{ie(!1)}},rt=(E=null)=>{const X={id:`ORD${String(N.length+1).padStart(3,"0")}`,date:pe,time:Ce.time,laundryman:Ve.name,status:"Confirmed",items:ft,total:ht,paymentMethod:E==="cod"?"Cash on Delivery":"UPI",address:(Ge==null?void 0:Ge.address)||a.address,services:Oe.map(ge=>ge.id),rating:null};L([X,...N]),u(!0),F(!1),Qe([]),ut(null),Dt(null),Tt([]),Ht(0),H(""),q(""),G("method"),l("Orders")},De=()=>{d(!0)},nn=()=>{const E=new Date().getHours();return E<12?"Good Morning":E<17?"Good Afternoon":"Good Evening"},Cs=E=>{switch(E){case"Pending":return"#f39c12";case"Confirmed":return"#3498db";case"In Progress":return"#9b59b6";case"Ready for Pickup":return"#e67e22";case"Delivered":return"#27ae60";default:return"#95a5a6"}},[Te,an]=i.useState(null),[rn,Qa]=i.useState(!1),pc=E=>{an(E),Qa(!0)},er=E=>{const X=new Date().toISOString().split("T")[0],ge=new Date;ge.setDate(ge.getDate()+1);const be=ge.toISOString().split("T")[0];return E===X?"Today":"Tomorrow"},tr=E=>({Pending:20,Confirmed:40,"In Progress":60,"Ready for Pickup":80,Delivered:100})[E]||0,gc=()=>new Date().toISOString().split("T")[0],fc=()=>{const E=new Date;return E.setDate(E.getDate()+30),E.toISOString().split("T")[0]},vc=E=>{Js(E),rs("laundryman"),oe(!0)},xc=(E=null)=>{Js(E),rs("support"),oe(!0)},[sv,nv]=i.useState({email:"",password:""}),ta=Ut(),bc=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("token"),localStorage.removeItem("role"),ta("/mainapp")}catch(E){console.error("Logout failed:",E),ta("/mainapp")}},yc=()=>{d(!1)};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Ys,ref:s,style:{display:"none"}}),e.jsxs("button",{className:"mobile-menu-btn",onClick:Xn,children:[e.jsx("div",{className:"hamburger-line"}),e.jsx("div",{className:"hamburger-line"}),e.jsx("div",{className:"hamburger-line"})]}),t&&e.jsx("div",{className:"mobile-menu-overlay",onClick:Et}),e.jsxs("aside",{className:`sidebar ${t?"sidebar-open":""}`,children:[e.jsxs("div",{className:"sidebar-profile",onClick:()=>{l("Profile"),Et()},children:[e.jsx("img",{src:"/profile.webp",alt:"Customer",className:"sidebar-profile-img"}),e.jsx("span",{className:"sidebar-profile-name",children:a.name})]}),e.jsxs("nav",{children:[e.jsx("button",{className:o==="Home"?"active":"",onClick:()=>{l("Home"),Et()},children:"🏠 Home"}),e.jsx("button",{className:o==="Book"?"active":"",onClick:()=>{l("Book"),Et()},children:"📅 Book Service"}),e.jsx("button",{className:o==="Orders"?"active":"",onClick:()=>{l("Orders"),Et(),ta("/orders")},children:"📦 My Orders"}),e.jsx("button",{className:o==="Profile"?"active":"",onClick:()=>{l("Profile"),Et()},children:"👤 Profile"}),e.jsx("button",{className:"logout-btn",onClick:()=>{De(),Et()},children:"🚪 Logout"})]})]}),e.jsxs("main",{className:"main-content",children:[o==="Home"&&e.jsxs("div",{className:"home-page",children:[Y&&e.jsx("section",{className:"location-notification",style:{marginBottom:"16px",padding:"12px 16px",borderRadius:"8px",background:Y.includes("✅")?"#dcfce7":Y.includes("❌")?"#fee2e2":Y.includes("⚠️")?"#fef3c7":"#dbeafe",border:Y.includes("✅")?"1px solid #22c55e":Y.includes("❌")?"1px solid #ef4444":Y.includes("⚠️")?"1px solid #f59e0b":"1px solid #3b82f6",color:Y.includes("✅")?"#166534":Y.includes("❌")?"#991b1b":Y.includes("⚠️")?"#92400e":"#1e40af",fontSize:"14px",fontWeight:"500"},children:Y}),e.jsxs("section",{className:"welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[nn(),", ",a.name,"! 👋"]}),e.jsx("p",{children:"Your trusted laundry service is just a click away"})]}),e.jsxs("div",{className:"date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"dashboard-stats",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"📦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:N.length}),e.jsx("span",{className:"stat-label",children:"All time"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"⏳"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Active Orders"}),e.jsx("p",{className:"stat-number",children:N.filter(E=>E.status!=="Delivered").length}),e.jsx("span",{className:"stat-label",children:"In progress"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"₹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Spent"}),e.jsxs("p",{className:"stat-number",children:["₹",N.reduce((E,X)=>E+(Number(X.total)||0),0)]}),e.jsx("span",{className:"stat-label",children:"This month"})]})]})]})}),e.jsxs("section",{className:"quick-actions-section",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsx("div",{className:"quick-actions-grid",children:e.jsxs("button",{className:"quick-action-btn",onClick:()=>l("Book"),children:[e.jsx("div",{className:"action-icon",children:"📅"}),e.jsx("span",{children:"Book New Service"})]})})]})]}),o==="Book"&&e.jsxs("div",{className:"book-page",children:[e.jsxs("div",{className:"book-header",children:[e.jsx("h2",{children:"Book Laundry Service"}),e.jsx("p",{children:"Follow the steps below to book your laundry service"})]}),e.jsx("div",{className:"booking-steps",children:e.jsxs("div",{className:"booking-step",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsx("h3",{children:"Set Your Location"})]}),e.jsxs("div",{className:"location-section",children:[e.jsx("div",{className:"location-controls",children:e.jsx("button",{className:"detect-location-btn",onClick:Ae,disabled:Xe,children:Xe?"Detecting...":"📍 Use Current Location"})}),Ge&&e.jsx("div",{className:"location-info",children:e.jsxs("p",{children:[e.jsx("strong",{children:"📍 Your Location:"})," ",Ge.address]})})]})]})})]}),o==="Orders"&&e.jsxs("div",{className:"orders-page",children:[e.jsxs("div",{className:"orders-header",children:[e.jsx("h2",{children:"My Orders"}),e.jsx("p",{children:"Track and manage your laundry orders"})]}),e.jsx("div",{className:"orders-list",children:N.length===0?e.jsxs("div",{className:"no-orders",children:[e.jsx("div",{className:"no-orders-icon",children:"📦"}),e.jsx("h3",{children:"No orders yet"}),e.jsx("p",{children:"Book your first laundry service to get started"}),e.jsx("button",{className:"book-now-btn",onClick:()=>l("Book"),children:"Book Now"})]}):N.map(E=>e.jsxs("div",{className:"order-card",children:[e.jsxs("div",{className:"order-header",children:[e.jsxs("div",{className:"order-id",children:[e.jsxs("h3",{children:["Order #",E.id]}),e.jsxs("span",{className:"order-date",children:[E.date," • ",E.time]})]}),e.jsx("span",{className:"status-badge",style:{backgroundColor:Cs(E.status)},children:E.status})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("div",{className:"order-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"👤 Laundryman:"})," ",E.laundryman]}),e.jsxs("p",{children:[e.jsx("strong",{children:"📍 Address:"})," ",E.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"💳 Payment:"})," ",E.paymentMethod]}),e.jsxs("p",{children:[e.jsx("strong",{children:"🧺 Services:"})," ",E.services.map(X=>{var ge;return(ge=vt.find(be=>be.id===X))==null?void 0:ge.name}).join(", ")||"N/A"]})]}),e.jsxs("div",{className:"order-items",children:[e.jsx("h4",{children:"Items:"}),e.jsx("div",{className:"items-list",children:E.items.map((X,ge)=>e.jsxs("div",{className:"item",children:[e.jsxs("span",{children:[X.name," x ",X.quantity," ",X.serviceName&&`(${X.serviceName})`]}),e.jsxs("span",{children:["₹",X.price*X.quantity]})]},ge))}),e.jsx("div",{className:"order-total",children:e.jsxs("strong",{children:["Total: ₹",E.total]})})]})]}),e.jsxs("div",{className:"order-actions",children:[E.status==="Delivered"&&e.jsxs("button",{className:"rate-btn",onClick:()=>tn(E),children:["⭐ ",E.rating?"Update Rating":"Rate Service"]}),E.status!=="Delivered"&&e.jsx("button",{className:"track-btn",onClick:()=>pc(E),children:"📍 Track Order"}),e.jsx("button",{className:"reorder-btn",onClick:()=>S(E),children:"🔄 Reorder"})]})]},E.id))})]}),o==="Profile"&&e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("h2",{children:"My Profile"}),e.jsx("p",{children:"Manage your account information"})]}),e.jsx("div",{className:"profile-content",children:e.jsx("div",{className:"profile-card",children:f?e.jsxs("div",{className:"edit-profile-form",children:[e.jsxs("div",{className:"profile-image-section",children:[e.jsx("img",{src:"/profile.webp",alt:"Profile Preview",className:"profile-image"}),e.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>{var E;return(E=s.current)==null?void 0:E.click()},children:"📷 Change Photo"})]}),e.jsxs("div",{className:"profile-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:P.name||"",onChange:E=>w({...P,name:E.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:P.email||"",onChange:E=>w({...P,email:E.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contact",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"contact",value:P.contact||"",onChange:E=>w({...P,contact:E.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"street",children:"Street"}),e.jsx("input",{type:"text",id:"street",value:((dr=P.address)==null?void 0:dr.street)||"",onChange:E=>w({...P,address:{...P.address,street:E.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx("input",{type:"text",id:"city",value:((ur=P.address)==null?void 0:ur.city)||"",onChange:E=>w({...P,address:{...P.address,city:E.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"state",children:"State"}),e.jsx("input",{type:"text",id:"state",value:((hr=P.address)==null?void 0:hr.state)||"",onChange:E=>w({...P,address:{...P.address,state:E.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"zip",children:"ZIP Code"}),e.jsx("input",{type:"text",id:"zip",value:((mr=P.address)==null?void 0:mr.zip)||"",onChange:E=>w({...P,address:{...P.address,zip:E.target.value}})})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx("button",{type:"button",className:"save-profile-btn",onClick:Xs,children:"💾 Save Changes"}),e.jsx("button",{type:"button",className:"cancel-edit-btn",onClick:Qs,children:"❌ Cancel"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"profile-image-section",children:e.jsx("img",{src:"/profile.webp",alt:"Profile",className:"profile-image"})}),e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("p",{children:a.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("p",{children:a.email})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("p",{children:a.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Address"}),e.jsx("p",{children:(sr=a.address)!=null&&sr.street||(nr=a.address)!=null&&nr.city||(ar=a.address)!=null&&ar.state||(rr=a.address)!=null&&rr.zip?`${((ir=a.address)==null?void 0:ir.street)||""}${(or=a.address)!=null&&or.city?", "+a.address.city:""}${(lr=a.address)!=null&&lr.state?", "+a.address.state:""}${(cr=a.address)!=null&&cr.zip?" - "+a.address.zip:""}`:"Not Provided"})]}),e.jsx("div",{className:"profile-actions",children:e.jsx("button",{className:"edit-profile-btn",onClick:ea,children:"✏️ Edit Profile"})})]})]})})})]})]}),I&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content payment-modal",children:[e.jsxs("div",{className:"payment-header",children:[e.jsxs("h3",{children:[Z==="method"&&"Choose Payment Method",Z==="upi"&&"Select UPI Provider",Z==="processing"&&"Processing Payment",Z==="success"&&"Payment Successful"]}),Z!=="processing"&&Z!=="success"&&e.jsx("button",{className:"close-btn",onClick:()=>F(!1),children:"✕"})]}),e.jsxs("div",{className:"payment-content",children:[Z==="method"&&e.jsxs("div",{className:"payment-methods",children:[e.jsxs("div",{className:"order-summary-payment",children:[e.jsx("h4",{children:"Order Summary"}),e.jsxs("div",{className:"summary-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:Oe.map(E=>E.name).join(", ")})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Ve==null?void 0:Ve.name})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Date & Time:"}),e.jsxs("span",{children:[pe," • ",Ce==null?void 0:Ce.time]})]}),e.jsxs("div",{className:"detail-row total-row",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["₹",ht]})]})]})]}),e.jsxs("div",{className:"payment-options",children:[e.jsxs("div",{className:`payment-option ${_==="upi"?"selected":""}`,onClick:()=>Ks("upi"),children:[e.jsx("div",{className:"payment-icon",children:"📱"}),e.jsxs("div",{className:"payment-info",children:[e.jsx("h4",{children:"UPI Payment"}),e.jsx("p",{children:"Pay instantly using UPI apps"})]}),e.jsx("div",{className:"payment-arrow",children:"→"})]}),e.jsxs("div",{className:`payment-option ${_==="cod"?"selected":""}`,onClick:()=>Ks("cod"),children:[e.jsx("div",{className:"payment-icon",children:"💵"}),e.jsxs("div",{className:"payment-info",children:[e.jsx("h4",{children:"Cash on Delivery"}),e.jsx("p",{children:"Pay when your order is delivered"})]}),e.jsx("div",{className:"payment-arrow",children:"→"})]})]})]}),Z==="upi"&&e.jsxs("div",{className:"upi-providers",children:[e.jsx("div",{className:"upi-amount",children:e.jsxs("h4",{children:["Amount to Pay: ₹",ht]})}),e.jsxs("div",{className:"upi-options",children:[e.jsx("h4",{children:"Choose your preferred UPI app:"}),e.jsx("div",{className:"upi-grid",children:Ns.map(E=>e.jsxs("div",{className:"upi-option",onClick:()=>Qn(E),style:{borderColor:E.color},children:[e.jsx("div",{className:"upi-icon",style:{color:E.color},children:E.icon}),e.jsx("div",{className:"upi-name",children:E.name})]},E.id))})]}),e.jsx("div",{className:"upi-back",children:e.jsx("button",{className:"back-btn",onClick:()=>G("method"),children:"← Back to Payment Methods"})})]}),Z==="processing"&&e.jsxs("div",{className:"payment-processing",children:[e.jsx("div",{className:"processing-animation",children:e.jsx("div",{className:"spinner"})}),e.jsx("h4",{children:"Processing Payment..."}),e.jsxs("p",{children:["Please wait while we process your payment through ",$]}),e.jsxs("div",{className:"processing-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Amount:"}),e.jsxs("span",{children:["₹",ht]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:(pr=Ns.find(E=>E.id===$))==null?void 0:pr.name})]})]})]}),Z==="success"&&e.jsxs("div",{className:"payment-success",children:[e.jsx("div",{className:"success-animation",children:e.jsx("div",{className:"success-icon",children:"✅"})}),e.jsx("h4",{children:"Payment Successful!"}),e.jsx("p",{children:"Your order has been placed successfully"}),e.jsxs("div",{className:"success-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Amount Paid:"}),e.jsxs("span",{children:["₹",ht]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:(gr=Ns.find(E=>E.id===$))==null?void 0:gr.name})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Transaction ID:"}),e.jsxs("span",{children:["TXN",Date.now()]})]})]})]})]})]})}),b&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content password-modal",children:[e.jsxs("div",{className:"password-header",children:[e.jsx("h3",{children:"Change Password"}),e.jsx("button",{className:"close-btn",onClick:Ss,children:"✕"})]}),e.jsxs("div",{className:"password-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),e.jsx("input",{type:"password",id:"currentPassword",value:y.currentPassword,onChange:E=>j({...y,currentPassword:E.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"New Password"}),e.jsx("input",{type:"password",id:"newPassword",value:y.newPassword,onChange:E=>j({...y,newPassword:E.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:y.confirmPassword,onChange:E=>j({...y,confirmPassword:E.target.value}),required:!0})]}),e.jsxs("div",{className:"password-actions",children:[e.jsx("button",{className:"save-password-btn",onClick:en,children:"💾 Save Password"}),e.jsx("button",{className:"cancel-password-btn",onClick:Ss,children:"❌ Cancel"})]})]})]})}),le&&z&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content rating-modal",children:[e.jsxs("div",{className:"rating-header",children:[e.jsx("h3",{children:"Rate Your Experience"}),e.jsx("button",{className:"close-btn",onClick:()=>re(!1),children:"✕"})]}),e.jsxs("div",{className:"rating-content",children:[e.jsxs("div",{className:"order-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order:"})," #",z.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Laundryman:"})," ",z.laundryman]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Services:"})," ",z.services.map(E=>{var X;return(X=vt.find(ge=>ge.id===E))==null?void 0:X.name}).join(", ")]})]}),e.jsxs("div",{className:"star-rating",children:[e.jsx("p",{children:"How was your experience?"}),e.jsx("div",{className:"stars",children:[1,2,3,4,5].map(E=>e.jsx("button",{className:`star ${E<=T?"active":""}`,onClick:()=>U(E),children:"⭐"},E))}),e.jsxs("p",{className:"rating-text",children:[T===0&&"Select a rating",T===1&&"Poor",T===2&&"Fair",T===3&&"Good",T===4&&"Very Good",T===5&&"Excellent"]})]}),e.jsxs("div",{className:"feedback-section",children:[e.jsx("label",{htmlFor:"feedback",children:"Additional Feedback (Optional)"}),e.jsx("textarea",{id:"feedback",value:te,onChange:E=>V(E.target.value),placeholder:"Tell us about your experience...",rows:4})]}),e.jsxs("div",{className:"rating-actions",children:[e.jsx("button",{className:"submit-rating-btn",onClick:sn,children:"Submit Rating"}),e.jsx("button",{className:"cancel-rating-btn",onClick:()=>re(!1),children:"Cancel"})]})]})]})}),ae&&Q&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content reorder-modal",children:[e.jsxs("div",{className:"reorder-header",children:[e.jsx("h3",{children:"Reorder Confirmation"}),e.jsx("button",{className:"close-btn",onClick:()=>W(!1),children:"✕"})]}),e.jsxs("div",{className:"reorder-content",children:[e.jsxs("div",{className:"reorder-details",children:[e.jsx("h4",{children:"Previous Order Details"}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Order ID:"}),e.jsxs("span",{children:["#",Q.id]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:(fr=Q.services)==null?void 0:fr.map(E=>E.name).join(", ")})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Q.laundrymanName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["₹",Q.total]})]})]}),e.jsxs("div",{className:"reorder-items",children:[e.jsx("h4",{children:"Items to Reorder"}),e.jsx("div",{className:"items-list",children:Q.items.map((E,X)=>e.jsxs("div",{className:"item",children:[e.jsxs("span",{children:[E.name," x ",E.quantity," ",E.serviceName&&`(${E.serviceName})`]}),e.jsxs("span",{children:["₹",E.price*E.quantity]})]},X))})]}),e.jsx("div",{className:"reorder-note",children:e.jsx("p",{children:"📝 Note: You'll be able to modify the order details (date, time, etc.) on the booking page."})}),e.jsxs("div",{className:"reorder-actions",children:[e.jsx("button",{className:"confirm-reorder-btn",onClick:J,children:"✅ Proceed to Book"}),e.jsx("button",{className:"cancel-reorder-btn",onClick:()=>W(!1),children:"Cancel"})]})]})]})}),Fe&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content time-slot-modal",children:[e.jsxs("div",{className:"time-slot-header",children:[e.jsx("h3",{children:"Available Time Slots"}),e.jsx("button",{className:"close-btn",onClick:()=>at(!1),children:"✕"})]}),e.jsxs("div",{className:"time-slot-content",children:[e.jsxs("div",{className:"date-selection",children:[e.jsx("label",{htmlFor:"slotDate",children:"Select Date:"}),e.jsx("input",{type:"date",id:"slotDate",value:pe,onChange:$e,min:gc(),max:fc(),className:"date-input"})]}),e.jsx("div",{className:"time-slots-grid",children:kt.length===0?e.jsxs("div",{className:"no-slots",children:[e.jsx("p",{children:"No time slots available for selected date"}),e.jsx("span",{children:"All slots have passed for today"})]}):kt.map(E=>e.jsxs("div",{className:`time-slot ${E.status} ${(Ce==null?void 0:Ce.id)===E.id?"selected":""}`,onClick:()=>Ne(E),children:[e.jsx("div",{className:"slot-time",children:E.time}),e.jsx("div",{className:"slot-availability",children:E.status==="available"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"available-icon",children:"✅"}),e.jsxs("span",{children:[E.available,"/",E.total," available"]})]}):E.status==="full"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"full-icon",children:"❌"}),e.jsx("span",{children:"Slot Full"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"unavailable-icon",children:"🚫"}),e.jsx("span",{children:"Unavailable"}),E.reason&&e.jsx("div",{className:"unavailable-reason",children:E.reason})]})})]},E.id))})]})]})}),m&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content order-confirmation-popup",children:[e.jsx("div",{className:"success-icon",children:"✅"}),e.jsx("h3",{children:"Thank You!"}),e.jsx("p",{children:"Your order has been confirmed successfully"}),e.jsxs("div",{className:"order-details-popup",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",(vr=N[0])==null?void 0:vr.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expected Delivery:"})," ",er(pe)]})]}),e.jsx("button",{className:"close-popup-btn",onClick:()=>u(!1),children:"Continue"})]})}),c&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content logout-popup",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"popup-buttons",children:[e.jsx("button",{className:"confirm-btn",onClick:bc,children:"Yes, Logout"}),e.jsx("button",{className:"cancel-btn",onClick:yc,children:"Cancel"})]})]})}),rn&&Te&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content tracking-modal",children:[e.jsxs("div",{className:"tracking-header",children:[e.jsxs("h3",{children:["Track Order #",Te.id]}),e.jsx("button",{className:"close-btn",onClick:()=>Qa(!1),children:"✕"})]}),e.jsxs("div",{className:"tracking-content",children:[e.jsxs("div",{className:"order-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Te.laundryman})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:Te.services.map(E=>{var X;return(X=vt.find(ge=>ge.id===E))==null?void 0:X.name}).join(", ")})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Expected Delivery:"}),e.jsx("span",{className:"delivery-time",children:er(Te.date)})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${tr(Te.status)}%`}})}),e.jsxs("div",{className:"progress-percentage",children:[tr(Te.status),"% Complete"]})]}),e.jsxs("div",{className:"status-timeline",children:[e.jsxs("div",{className:`timeline-item ${["Confirmed","In Progress","Ready for Pickup","Delivered"].includes(Te.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Order Confirmed"}),e.jsx("p",{children:"Your order has been confirmed"}),e.jsx("span",{className:"timeline-time",children:Te.status==="Confirmed"?"Current":"Completed"})]})]}),e.jsxs("div",{className:`timeline-item ${["In Progress","Ready for Pickup","Delivered"].includes(Te.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Clothes Picked Up"}),e.jsx("p",{children:"Your clothes are being processed"}),e.jsx("span",{className:"timeline-time",children:Te.status==="In Progress"?"Current":["Ready for Pickup","Delivered"].includes(Te.status)?"Completed":"Pending"})]})]}),e.jsxs("div",{className:`timeline-item ${["Ready for Pickup","Delivered"].includes(Te.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Ready for Delivery"}),e.jsx("p",{children:"Your clothes are clean and ready"}),e.jsx("span",{className:"timeline-time",children:Te.status==="Ready for Pickup"?"Current":Te.status==="Delivered"?"Completed":"Pending"})]})]}),e.jsxs("div",{className:`timeline-item ${Te.status==="Delivered"?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Delivered"}),e.jsx("p",{children:"Order completed successfully"}),e.jsx("span",{className:"timeline-time",children:Te.status==="Delivered"?"Completed":"Pending"})]})]})]}),e.jsxs("div",{className:"contact-section",children:[e.jsx("button",{className:"contact-btn",onClick:()=>vc(Te),children:"📞 Contact Laundryman"}),e.jsx("button",{className:"support-btn",onClick:()=>xc(Te),children:"💬 Customer Support"})]})]})]})}),Lt&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content contact-modal",children:[e.jsxs("div",{className:"contact-header",children:[e.jsx("h3",{children:It==="laundryman"?"📞 Contact Laundryman":"💬 Customer Support"}),e.jsx("button",{className:"close-btn",onClick:()=>oe(!1),children:"✕"})]}),e.jsxs("div",{className:"contact-content",children:[xt&&e.jsxs("div",{className:"contact-order-info",children:[e.jsx("h4",{children:"Order Details"}),e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Order ID:"}),e.jsxs("span",{children:["#",xt.id]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:"status-badge",style:{backgroundColor:Cs(xt.status)},children:xt.status})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Date:"}),e.jsx("span",{children:xt.date})]}),It==="laundryman"&&e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:xt.laundryman})]})]})]}),It==="laundryman"?e.jsxs("div",{className:"laundryman-contact-options",children:[e.jsx("h4",{children:"Contact Options"}),e.jsxs("div",{className:"contact-options-grid",children:[e.jsxs("button",{className:"contact-option-btn call-btn",children:[e.jsx("div",{className:"contact-icon",children:"📞"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Call Now"}),e.jsx("p",{children:"Direct phone call"})]})]}),e.jsxs("button",{className:"contact-option-btn whatsapp-btn",children:[e.jsx("div",{className:"contact-icon",children:"💬"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"WhatsApp"}),e.jsx("p",{children:"Send message"})]})]})]}),xt&&e.jsxs("div",{className:"laundryman-details",children:[e.jsx("h4",{children:"Laundryman Information"}),(()=>{const E=as.find(X=>X.name===xt.laundryman);return E?e.jsxs("div",{className:"laundryman-contact-card",children:[e.jsx("img",{src:E.image||"/profile.webp",alt:E.name,className:"laundryman-contact-image"}),e.jsxs("div",{className:"laundryman-contact-info",children:[e.jsx("h5",{children:E.name}),e.jsx("p",{children:E.experience}),e.jsxs("p",{children:["📞 ",E.phone]}),e.jsxs("p",{children:["🕒 ",E.workingHours]})]})]}):null})()]})]}):e.jsxs("div",{className:"support-contact-options",children:[e.jsx("h4",{children:"How can we help you?"}),e.jsxs("div",{className:"contact-options-grid",children:[e.jsxs("button",{className:"contact-option-btn email-btn",children:[e.jsx("div",{className:"contact-icon",children:"📧"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Email Support"}),e.jsx("p",{children:"Get help via email"})]})]}),e.jsxs("button",{className:"contact-option-btn chat-btn",children:[e.jsx("div",{className:"contact-icon",children:"💬"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Live Chat"}),e.jsx("p",{children:"Chat with our team"})]})]}),e.jsxs("button",{className:"contact-option-btn call-btn",onClick:()=>window.open("tel:+911234567890","_self"),children:[e.jsx("div",{className:"contact-icon",children:"📞"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Call Support"}),e.jsx("p",{children:"+91 123 456 7890"})]})]}),e.jsxs("button",{className:"contact-option-btn faq-btn",onClick:()=>alert("FAQ section coming soon!"),children:[e.jsx("div",{className:"contact-icon",children:"❓"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"FAQ"}),e.jsx("p",{children:"Common questions"})]})]})]}),e.jsxs("div",{className:"support-hours",children:[e.jsx("h4",{children:"Support Hours"}),e.jsxs("div",{className:"hours-info",children:[e.jsx("p",{children:"📅 Monday - Friday: 9:00 AM - 8:00 PM"}),e.jsx("p",{children:"📅 Saturday: 10:00 AM - 6:00 PM"}),e.jsx("p",{children:"📅 Sunday: 10:00 AM - 4:00 PM"})]})]})]}),e.jsx("div",{className:"contact-actions",children:e.jsx("button",{className:"close-contact-btn",onClick:()=>oe(!1),children:"Close"})})]})]})})]})},$f=()=>{var Ys,Xs,Qs,en,Ss,tn,sn;const s=Ut(),t=i.useRef(null),[n,a]=i.useState(!1),[r,o]=i.useState({name:"Admin User",email:"admin@laundryservice.com",role:"Super Admin",phone:"+1-234-567-8900",address:"123 Admin Street, Business District",joinDate:"2024-01-01",image:"https://randomuser.me/api/portraits/men/1.jpg"}),[l,c]=i.useState("Dashboard"),[d,m]=i.useState(!1),[u,f]=i.useState(null),[v,h]=i.useState(!1),[p,b]=i.useState(!1),[g,k]=i.useState(null),[C,P]=i.useState(!1),[w,y]=i.useState(null),[j,N]=i.useState("All Orders"),[L,x]=i.useState(""),[M,I]=i.useState("Last 7 Days"),[F,_]=i.useState(!1),[H,$]=i.useState(!1),[q,Z]=i.useState(!1),[G,ee]=i.useState(!1),[ce,le]=i.useState(!1),[re,z]=i.useState(null),[me,T]=i.useState(!1),[U,te]=i.useState(null),[V,ae]=i.useState(""),[W,Q]=i.useState(""),[ke,Fe]=i.useState([]),[at,pe]=i.useState({slot:"",maxOrders:20}),[Me,Ct]=i.useState(null),[zt,wt]=i.useState(!1),[ts,Ge]=i.useState(null),[gt,Xe]=i.useState([]),[He,B]=i.useState([]),[R,K]=i.useState([]),[ie,ve]=i.useState(!0),Le=()=>{a(!n)},Y=S=>{c(S),a(!1)},Se=()=>{a(!1)};i.useEffect(()=>{const S=localStorage.getItem("token");console.log("Token:",S);const J=async()=>{try{const rt=(await ne.get("http://localhost:5000/api/user/currentuser",{headers:{Authorization:`Bearer ${S}`}})).data;Ge({name:rt.name,email:rt.email,contact:rt.contact,image:"/src/washer.png",_id:rt._id}),console.log("Profile fetched:",rt)}catch(Je){console.error("Failed to fetch profile:",Je)}},Ne=async()=>{try{console.log("Fetching customers...");const Je=await ne.get("http://localhost:5000/api/user/",{headers:{Authorization:`Bearer ${S}`}});Xe(Je.data||[])}catch(Je){console.error("Error fetching customers:",Je)}},$e=async()=>{try{console.log("Fetching laundrymen...");const rt=((await ne.get("http://localhost:5000/api/washerman/dashboard/all",{headers:{Authorization:`Bearer ${S}`}})).data||[]).map(De=>({id:De.id||De._id||"",name:De.name||"",email:De.email||"",address:De.address||"",image:De.image||"/src/washer.png",specialties:Array.isArray(De.specialties)?De.specialties:[],workingHours:Array.isArray(De.workingHours)?De.workingHours:[],maxOrders:De.maxOrders??0,totalOrders:De.totalOrders??0,completedOrders:De.completedOrders??0,rating:De.rating??0,status:De.status||"Active",earnings:De.earnings??0,availability:De.availability||"Available",contact:De.contact||"",createdAt:De.createdAt||""}));B(rt)}catch(Je){console.error("Error fetching laundrymen:",Je)}};(async()=>{ve(!0),await Promise.all([J(),Ne(),$e()]),ve(!1)})()},[]),i.useEffect(()=>{const S=localStorage.getItem("token");console.log(2),(async()=>{try{const Ne=await ne.get("http://localhost:5000/api/booking/all",{headers:{Authorization:`Bearer ${S}`}});console.log("Bookings from backend:",Ne.data);const $e=(Ne.data||[]).map(Ae=>{var Je,rt,De,nn,Cs,Te,an,rn;return{id:Ae._id||Ae.id,customerId:((Je=Ae.guest)==null?void 0:Je._id)||"",customerName:((rt=Ae.guest)==null?void 0:rt.name)||"Unassigned",laundrymanId:((De=Ae.washerman)==null?void 0:De._id)||"",laundrymanName:((nn=Ae.washerman)==null?void 0:nn.name)||"Unassigned",items:(Cs=Ae.productId)!=null&&Cs.category?[`${Ae.quantity} x ${Ae.productId.category}`]:["Item"],totalAmount:Ae.totalAmount||0,status:Ae.status||"Pending",pickupDate:((Te=Ae.date)==null?void 0:Te.slice(0,10))||"",timeSlot:((an=Ae.slot)==null?void 0:an.range)||"Not specified",timeSlotLabel:((rn=Ae.slot)==null?void 0:rn.label)||"",priority:Ae.priority||"Normal",orderDate:Ae.createdAt?Ae.createdAt.slice(0,10):Ae.orderDate?Ae.orderDate.slice(0,10):"",paymentMethod:Ae.paymentMethod||"Cash",paymentStatus:Ae.paymentStatus||"Pending"}});K($e)}catch(Ne){console.error("Error fetching bookings:",Ne)}})()},[]);const Oe=async()=>{try{const S=localStorage.getItem("token"),Ne=((await ne.get("http://localhost:5000/api/slot-templates",{headers:{Authorization:`Bearer ${S}`}})).data||[]).map($e=>({id:$e._id,slot:$e.time||"Unnamed Slot",currentOrders:0,maxOrders:0,active:!1}));Fe(Ne)}catch(S){console.error("Failed to fetch time slots",S)}};i.useEffect(()=>{console.log(3),Oe()},[]);const Qe=async S=>{try{const J={time:S.slot,period:S.slot};await ne.post("http://localhost:5000/api/slot",J),await Oe()}catch(J){console.error("Add failed",J)}},[Ce,ut]=i.useState({commission:15,minOrderAmount:100,maxServiceRadius:25,emailNotifications:!0,smsNotifications:!0,pushNotifications:!1,sessionTimeout:30}),[Ve,Dt]=i.useState(["Downtown Mumbai","Andheri","Bandra"]),[ft,Tt]=i.useState(""),Ue={totalCustomers:gt.length,activeCustomers:gt.filter(S=>S.status==="Active").length,totalLaundrymen:He.length,activeLaundrymen:He.filter(S=>S.status==="Active").length,totalOrders:R.length,pendingOrders:R.filter(S=>S.status==="Pending").length,completedOrders:R.filter(S=>S.status==="Delivered").length,unassignedOrders:R.filter(S=>!S.laundrymanId).length,totalRevenue:R.reduce((S,J)=>S+J.totalAmount,0),todayRevenue:2400,monthlyRevenue:45e3},ss=gt.filter(S=>S.name.toLowerCase().includes(V.toLowerCase())||S.email.toLowerCase().includes(V.toLowerCase())),ht=He.filter(S=>S.name.toLowerCase().includes(W.toLowerCase())||S.email.toLowerCase().includes(W.toLowerCase())),Ht=R.filter(S=>{const J=j==="All Orders"||S.status===j,Ne=!L||S.orderDate===L;return J&&Ne}),vt=(S,J,Ne)=>{B(He.map($e=>$e.id===S?{...$e,status:J==="activate"?"Active":"Inactive"}:$e))},qt=(S,J)=>{te({...S,userType:J}),T(!0)},kt=S=>{k(S),b(!0)},ns=S=>{S.preventDefault();const J=new FormData(S.target),Ne={...re,slot:J.get("slot"),maxOrders:parseInt(J.get("maxOrders"))};Fe(ke.map($e=>$e.id===re.id?Ne:$e)),le(!1),z(null)},as=()=>{P(!0),c("Profile"),y(r.image)},Lt=S=>{const J=S.target.files[0];if(J){const Ne=new FileReader;Ne.onloadend=()=>{y(Ne.result)},Ne.readAsDataURL(J)}},oe=S=>{S.preventDefault();const J=new FormData(S.target),Ne=S.target.image.files[0];if(Ne){const $e=new FileReader;$e.onloadend=()=>{o({...r,name:J.get("name"),email:J.get("email"),phone:J.get("phone"),address:J.get("address"),image:$e.result}),P(!1),c("Dashboard")},$e.readAsDataURL(Ne)}else o({...r,name:J.get("name"),email:J.get("email"),phone:J.get("phone"),address:J.get("address"),image:w||r.image}),P(!1),c("Dashboard")},It=(S,J)=>{ut({...Ce,[S]:J})},rs=S=>{ut({...Ce,[S]:!Ce[S]})},xt=()=>{ft.trim()&&!Ve.includes(ft.trim())&&(Dt([...Ve,ft.trim()]),Tt(""))},Js=S=>{Dt(Ve.filter((J,Ne)=>Ne!==S))},Xn=()=>{alert("Backup created successfully!")},Et=()=>{alert("Two-Factor Authentication setup would be implemented here")},Ks=()=>{m(!0)},Qn=()=>{m(!1),s("/SignIn")},Ns=()=>{m(!1)},ea=()=>{const S=new Date().getHours();return S<12?"Good Morning":S<17?"Good Afternoon":"Good Evening"};return e.jsxs("div",{className:"admin-dashboard-container",children:[e.jsx("header",{className:"mobile-header",children:e.jsxs("div",{className:"mobile-header-content",children:[e.jsxs("div",{className:"mobile-logo",children:[e.jsx("span",{className:"logo-icon",children:"🧺"}),e.jsx("span",{className:"logo-text",children:"LaundryAdmin"})]}),e.jsx("button",{className:"mobile-menu-toggle",onClick:Le,"aria-label":"Toggle menu",children:n?e.jsx(hs,{size:24}):e.jsx(ko,{size:24})})]})}),n&&e.jsx("div",{className:"mobile-menu-overlay",onClick:Se}),e.jsxs("aside",{className:`admin-sidebar ${n?"mobile-open":""}`,children:[e.jsx("div",{className:"admin-sidebar-header desktop-only",children:e.jsxs("div",{className:"admin-logo",children:[e.jsx("span",{className:"logo-icon",children:"🧺"}),e.jsx("span",{className:"logo-text",children:"LaundryAdmin"})]})}),e.jsxs("div",{className:"admin-sidebar-profile",onClick:as,children:[e.jsx("img",{src:r.image||"/placeholder.svg",alt:"Admin",className:"admin-profile-img"}),e.jsxs("div",{className:"admin-profile-info",children:[e.jsx("span",{className:"admin-profile-name",children:r.name}),e.jsx("span",{className:"admin-profile-role",children:r.role})]})]}),e.jsxs("nav",{className:"admin-nav",children:[e.jsxs("button",{className:l==="Dashboard"?"active":"",onClick:()=>Y("Dashboard"),children:[e.jsx("span",{className:"nav-icon",children:"📊"}),e.jsx("span",{className:"nav-text",children:"Dashboard"})]}),e.jsxs("button",{className:l==="Customers"?"active":"",onClick:()=>Y("Customers"),children:[e.jsx("span",{className:"nav-icon",children:"👥"}),e.jsx("span",{className:"nav-text",children:"Customers"})]}),e.jsxs("button",{className:l==="Laundrymen"?"active":"",onClick:()=>Y("Laundrymen"),children:[e.jsx("span",{className:"nav-icon",children:"👨‍💼"}),e.jsx("span",{className:"nav-text",children:"Laundrymen"})]}),e.jsxs("button",{className:l==="Orders"?"active":"",onClick:()=>Y("Orders"),children:[e.jsx("span",{className:"nav-icon",children:"📦"}),e.jsx("span",{className:"nav-text",children:"Orders"})]}),e.jsxs("button",{className:l==="TimeSlots"?"active":"",onClick:()=>{s("/SlotTemplateManagers"),c("TimeSlots"),a(!1)},children:[e.jsx("span",{className:"nav-icon",children:"⏰"}),e.jsx("span",{className:"nav-text",children:"Time Slots"})]}),e.jsx("button",{className:l==="Messages"?"active":"",onClick:()=>{s("/AdminMessages"),c("Messages"),a(!1)},children:"Contact Messages"}),e.jsxs("button",{className:"admin-logout-btn",onClick:Ks,children:[e.jsx("span",{className:"nav-icon",children:"🚪"}),e.jsx("span",{className:"nav-text",children:"Logout"})]})]})]}),e.jsxs("main",{className:"admin-main-content",children:[l==="Dashboard"&&e.jsxs("div",{className:"admin-dashboard-page",children:[e.jsxs("section",{className:"admin-welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[ea(),", ",r.name,"! 👋"]}),e.jsx("p",{children:"Here's an overview of your laundry service platform"})]}),e.jsxs("div",{className:"admin-date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"admin-stats-section",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"admin-stat-card customers",children:[e.jsx("div",{className:"stat-icon",children:"👥"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Customers"}),e.jsx("p",{className:"stat-number",children:Ue.totalCustomers}),e.jsxs("span",{className:"stat-label",children:[Ue.activeCustomers," Active"]})]})]}),e.jsxs("div",{className:"admin-stat-card laundrymen",children:[e.jsx("div",{className:"stat-icon",children:"👨‍💼"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Laundrymen"}),e.jsx("p",{className:"stat-number",children:Ue.totalLaundrymen}),e.jsxs("span",{className:"stat-label",children:[Ue.activeLaundrymen," Active"]})]})]}),e.jsxs("div",{className:"admin-stat-card orders",children:[e.jsx("div",{className:"stat-icon",children:"📦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:Ue.totalOrders}),e.jsxs("span",{className:"stat-label",children:[Ue.pendingOrders," Pending"]})]})]}),e.jsxs("div",{className:"admin-stat-card unassigned",children:[e.jsx("div",{className:"stat-icon",children:"⚠️"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Unassigned Orders"}),e.jsx("p",{className:"stat-number",children:Ue.unassignedOrders}),e.jsx("span",{className:"stat-label",children:"Need Assignment"})]})]}),e.jsxs("div",{className:"admin-stat-card revenue",children:[e.jsx("div",{className:"stat-icon",children:"₹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total order amount"}),e.jsxs("p",{className:"stat-number",children:["₹",Ue.totalRevenue.toLocaleString()]}),e.jsx("span",{className:"stat-label",children:"This Month"})]})]})]})}),e.jsxs("section",{className:"admin-quick-actions",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsxs("div",{className:"quick-actions-grid",children:[e.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("Customers"),children:[e.jsx("div",{className:"action-icon",children:"👥"}),e.jsx("span",{children:"Manage Customers"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("Laundrymen"),children:[e.jsx("div",{className:"action-icon",children:"👨‍💼"}),e.jsx("span",{children:"Manage Laundrymen"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("Orders"),children:[e.jsx("div",{className:"action-icon",children:"📦"}),e.jsx("span",{children:"View Orders"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("TimeSlots"),children:[e.jsx("div",{className:"action-icon",children:"⏰"}),e.jsx("span",{children:"Manage Time Slots"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>Y("Analytics"),children:[e.jsx("div",{className:"action-icon",children:"📈"}),e.jsx("span",{children:"View Analytics"})]})]})]})]}),l==="Profile"&&e.jsxs("div",{className:"admin-profile-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Admin Profile"}),e.jsx("button",{className:"back-btn",onClick:()=>Y("Dashboard"),children:"← Back to Dashboard"})]}),C?e.jsxs("div",{className:"edit-profile-section",children:[e.jsx("h3",{children:"Edit Profile"}),e.jsx("img",{src:w||r.image||"/placeholder.svg",alt:"Profile Preview",className:"profile-image-preview"}),e.jsxs("form",{onSubmit:oe,className:"edit-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",defaultValue:r.name,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",defaultValue:r.email,required:!0,placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",defaultValue:r.phone,required:!0,placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("textarea",{id:"address",name:"address",defaultValue:r.address,required:!0,placeholder:"Enter your address",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"image",children:"Profile Image"}),e.jsx("input",{id:"image",name:"image",type:"file",accept:"image/*",onChange:Lt,ref:t})]}),e.jsxs("div",{className:"profile-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{P(!1),c("Dashboard")},children:"Cancel"})]})]})]}):e.jsx("div",{className:"profile-view-section",children:e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-image-section",children:[e.jsx("img",{src:r.image||"/placeholder.svg",alt:"Admin Profile",className:"profile-image"}),e.jsx("button",{className:"change-photo-btn",onClick:()=>P(!0),children:"Edit Profile"})]}),e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("p",{children:r.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("p",{children:r.email})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("p",{children:r.phone})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Role"}),e.jsx("p",{children:r.role})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Address"}),e.jsx("p",{children:r.address})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Join Date"}),e.jsx("p",{children:r.joinDate})]})]})]})})]}),l==="Customers"&&e.jsxs("div",{className:"admin-customers-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Customer Management"}),e.jsx("div",{className:"header-actions",children:e.jsx("input",{type:"text",placeholder:"Search customers...",value:V,onChange:S=>ae(S.target.value),className:"search-input"})})]}),e.jsx("div",{className:"customers-grid",children:ss.map(S=>e.jsxs("div",{className:"customer-card",children:[e.jsxs("div",{className:"customer-header",children:[e.jsx("img",{src:"/profile.webp",alt:"User avatar",className:"customer-image w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"customer-info",children:[e.jsx("h4",{children:S.name}),e.jsx("p",{children:S.email})]})]}),e.jsxs("div",{className:"customer-stats bg-gray-100 p-3 rounded-xl mt-2",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label text-sm text-gray-500",children:"Orders"}),e.jsx("span",{className:"stat-value font-semibold",children:S.totalOrders||0})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label text-sm text-gray-500",children:"Spent"}),e.jsxs("span",{className:"stat-value font-semibold",children:["₹",S.totalSpent||0]})]})]}),e.jsx("button",{className:"mt-3 px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{Ct(S),wt(!0)},children:"View"})]},S._id))})]}),zt&&Me&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-[90%] max-w-md shadow-xl relative",children:[e.jsx("button",{onClick:()=>wt(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:"✕"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",Me.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",Me.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",Me.contact||"Not Provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",(Ys=Me.address)!=null&&Ys.street||(Xs=Me.address)!=null&&Xs.city||(Qs=Me.address)!=null&&Qs.state?`${((en=Me.address)==null?void 0:en.street)||""}, ${((Ss=Me.address)==null?void 0:Ss.city)||""}, ${((tn=Me.address)==null?void 0:tn.state)||""}, ${((sn=Me.address)==null?void 0:sn.zip)||""}`:"Not Provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Joined On:"})," ",Me.createdAt?new Date(Me.createdAt).toLocaleDateString():"Not Available"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Orders:"})," ",Me.totalOrders||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Spent:"})," ₹",Me.totalSpent||0]})]})]})}),l==="Laundrymen"&&e.jsxs("div",{className:"admin-laundrymen-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Laundryman Management"}),e.jsx("div",{className:"header-actions",children:e.jsx("input",{type:"text",placeholder:"Search laundrymen...",value:W,onChange:S=>Q(S.target.value),className:"search-input"})})]}),e.jsx("div",{className:"laundrymen-grid",children:ht.map(S=>e.jsxs("div",{className:"laundryman-card",children:[e.jsxs("div",{className:"laundryman-header",children:[e.jsx("img",{src:"/washer.webp",alt:"Washer avatar",className:"customer-image w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"laundryman-info",children:[e.jsx("h4",{children:S.name}),e.jsx("p",{children:S.email}),e.jsx("div",{className:"rating"}),e.jsx("span",{className:`status-badge ${S.status.toLowerCase()}`,children:S.status}),e.jsx("span",{className:`availability-badge ${S.availability.toLowerCase()}`,children:S.availability})]})]}),e.jsxs("div",{className:"laundryman-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Total Orders"}),e.jsx("span",{className:"stat-value",children:S.totalOrders})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Completed"}),e.jsx("span",{className:"stat-value",children:S.completedOrders})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Earnings"}),e.jsxs("span",{className:"stat-value",children:["₹",S.earnings]})]})]}),e.jsx("div",{className:"specialties",children:S.specialties.map((J,Ne)=>e.jsx("span",{className:"specialty-tag",children:J},Ne))}),e.jsxs("div",{className:"working-hours",children:[e.jsx("h5",{children:"Working Hours:"}),e.jsx("div",{className:"hours-list",children:S.workingHours.map((J,Ne)=>e.jsx("span",{className:"hour-tag",children:J},Ne))})]}),e.jsxs("div",{className:"laundryman-actions",children:[e.jsx("button",{className:"dashboard-btn",onClick:()=>qt(S,"laundryman"),children:"Dashboard"}),e.jsx("button",{className:S.status==="Active"?"deactivate-btn":"activate-btn",onClick:()=>vt(S.id,S.status==="Active"?"deactivate":"activate"),children:S.status==="Active"?"Deactivate":"Activate"})]})]},S.id))})]}),l==="Orders"&&e.jsxs("div",{className:"admin-orders-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Order Management"}),e.jsxs("div",{className:"order-filters",children:[e.jsxs("select",{className:"filter-select",value:j,onChange:S=>N(S.target.value),children:[e.jsx("option",{children:"All Orders"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Assigned"}),e.jsx("option",{children:"In Progress"}),e.jsx("option",{children:"Delivered"})]}),e.jsx("input",{type:"date",className:"date-filter",value:L,onChange:S=>x(S.target.value)}),e.jsx("button",{className:"clear-filter-btn",onClick:()=>{N("All Orders"),x("")},children:"Clear Filters"})]})]}),e.jsx("div",{className:"orders-table-container",children:e.jsxs("table",{className:"orders-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Laundryman"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Time Slot"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ht.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.id}),e.jsx("td",{children:S.customerName}),e.jsxs("td",{children:[S.laundrymanName,!S.laundrymanId&&e.jsx("button",{className:"assign-btn small",onClick:()=>{k(S),Z(!0)},children:"Assign"})]}),e.jsx("td",{children:S.items.join(", ")}),e.jsxs("td",{children:["₹",S.totalAmount]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${S.status.toLowerCase().replace(" ","-")}`,children:S.status})}),e.jsx("td",{children:S.timeSlot}),e.jsx("td",{children:e.jsx("span",{className:`priority-badge ${S.priority.toLowerCase()}`,children:S.priority})}),e.jsx("td",{children:e.jsx("button",{className:"view-btn small",onClick:()=>kt(S),children:"View"})})]},S.id))})]})})]}),l==="TimeSlots"&&e.jsx(Uf,{}),l==="Analytics"&&e.jsxs("div",{className:"admin-analytics-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Analytics & Reports"}),e.jsxs("div",{className:"analytics-filters",children:[e.jsxs("select",{className:"filter-select",value:M,onChange:S=>I(S.target.value),children:[e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"}),e.jsx("option",{children:"Last 3 Months"}),e.jsx("option",{children:"Last Year"})]}),e.jsx("button",{className:"export-btn",children:"Export Report"})]})]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card revenue-chart",children:[e.jsx("h3",{children:"Revenue Trends"}),e.jsx("div",{className:"chart-placeholder",children:e.jsxs("div",{className:"chart-content",children:[e.jsx("div",{className:"chart-icon",children:"📈"}),e.jsx("p",{children:"Revenue Chart"}),e.jsxs("div",{className:"chart-stats",children:[e.jsx("div",{className:"chart-stat",children:e.jsxs("span",{children:["Today: ₹",Ue.todayRevenue]})}),e.jsx("div",{className:"chart-stat",children:e.jsxs("span",{children:["This Month: ₹",Ue.monthlyRevenue]})})]})]})})]}),e.jsxs("div",{className:"analytics-card order-stats",children:[e.jsx("h3",{children:"Order Statistics"}),e.jsxs("div",{className:"order-breakdown",children:[e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"Completed"}),e.jsx("span",{className:"breakdown-value",children:Ue.completedOrders}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill completed",style:{width:"70%"}})})]}),e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"In Progress"}),e.jsx("span",{className:"breakdown-value",children:"1"}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill in-progress",style:{width:"20%"}})})]}),e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"Pending"}),e.jsx("span",{className:"breakdown-value",children:Ue.pendingOrders}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill pending",style:{width:"10%"}})})]})]})]}),e.jsxs("div",{className:"analytics-card top-performers",children:[e.jsx("h3",{children:"Top Performing Laundrymen"}),e.jsx("div",{className:"performers-list",children:He.filter(S=>S.status==="Active").sort((S,J)=>J.rating-S.rating).slice(0,3).map((S,J)=>e.jsxs("div",{className:"performer-item",children:[e.jsxs("div",{className:"performer-rank",children:["#",J+1]}),e.jsx("img",{src:S.image||"/placeholder.svg",alt:S.name,className:"performer-image"}),e.jsxs("div",{className:"performer-info",children:[e.jsx("h5",{children:S.name}),e.jsxs("p",{children:[S.rating," • ",S.completedOrders," orders"]})]})]},S.id))})]}),e.jsxs("div",{className:"analytics-card customer-insights",children:[e.jsx("h3",{children:"Customer Insights"}),e.jsxs("div",{className:"insights-content",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"Average Order Value"}),e.jsxs("span",{className:"insight-value",children:["₹",Math.round(Ue.totalRevenue/Ue.totalOrders)]})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"Customer Retention"}),e.jsx("span",{className:"insight-value",children:"85%"})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"New Customers"}),e.jsx("span",{className:"insight-value",children:"12 this month"})]})]})]})]})]}),l==="Settings"&&e.jsxs("div",{className:"admin-settings-page",children:[e.jsx("div",{className:"page-header",children:e.jsx("h2",{children:"System Settings"})}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Platform Settings"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Service Commission (%)"}),e.jsx("input",{type:"number",value:Ce.commission,min:"0",max:"50",onChange:S=>It("commission",Number.parseInt(S.target.value))})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Minimum Order Amount"}),e.jsx("input",{type:"number",value:Ce.minOrderAmount,min:"50",onChange:S=>It("minOrderAmount",Number.parseInt(S.target.value))})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Maximum Service Radius (km)"}),e.jsx("input",{type:"number",value:Ce.maxServiceRadius,min:"5",max:"100",onChange:S=>It("maxServiceRadius",Number.parseInt(S.target.value))})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Platform settings saved!"),children:"Save Changes"})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Notification Settings"}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"Email Notifications"}),e.jsx("div",{className:`toggle-switch ${Ce.emailNotifications?"enabled":"disabled"}`,onClick:()=>rs("emailNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"SMS Notifications"}),e.jsx("div",{className:`toggle-switch ${Ce.smsNotifications?"enabled":"disabled"}`,onClick:()=>rs("smsNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"Push Notifications"}),e.jsx("div",{className:`toggle-switch ${Ce.pushNotifications?"enabled":"disabled"}`,onClick:()=>rs("pushNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Notification settings saved!"),children:"Save Changes"})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Service Areas"}),e.jsx("div",{className:"service-areas-list",children:Ve.map((S,J)=>e.jsxs("div",{className:"area-item",children:[e.jsx("span",{children:S}),e.jsx("button",{className:"remove-btn",onClick:()=>Js(J),children:"Remove"})]},J))}),e.jsxs("div",{className:"add-area",children:[e.jsx("input",{type:"text",placeholder:"Add new service area",value:ft,onChange:S=>Tt(S.target.value),onKeyPress:S=>S.key==="Enter"&&xt()}),e.jsx("button",{className:"add-btn",onClick:xt,children:"Add Area"})]})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Backup & Security"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Last Backup"}),e.jsx("span",{children:"2024-12-03 10:30 AM"}),e.jsx("button",{className:"backup-btn",onClick:Xn,children:"Create Backup"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Two-Factor Authentication"}),e.jsx("button",{className:"enable-btn",onClick:Et,children:"Enable 2FA"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",value:Ce.sessionTimeout,min:"15",max:"120",onChange:S=>It("sessionTimeout",Number.parseInt(S.target.value))})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Security settings saved!"),children:"Save Changes"})]})]})]})]}),q&&g&&e.jsxs("div",{className:"order-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("span",{className:"order-id",children:["#",g.id]}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase()}`,children:g.status}),e.jsxs("span",{className:"total-amount",children:["₹",g.totalAmount]})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"order-details",children:[e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Customer"}),e.jsx("span",{children:g.customerName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Laundryman"}),e.jsx("span",{children:g.laundrymanName||"Not Assigned"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Date"}),e.jsx("span",{children:g.orderDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:g.pickupDate||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("span",{children:g.timeSlotLabel?`${g.timeSlotLabel} (${g.timeSlot})`:g.timeSlot||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Method"}),e.jsx("span",{children:g.paymentMethod})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Status"}),e.jsx("span",{className:`status-badge ${g.paymentStatus.toLowerCase()}`,children:g.paymentStatus})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Current Status"}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase()}`,children:g.status})]})]}),e.jsxs("div",{className:"order-items",children:[e.jsx("h4",{children:"Order Items"}),e.jsx("ul",{children:g.items.map((S,J)=>e.jsx("li",{children:S},J))})]})]})})]}),me&&U&&e.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:e.jsxs("div",{className:"user-dashboard-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[U.name," - Dashboard"]}),e.jsx("button",{className:"close-btn",onClick:()=>T(!1),children:"×"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"dashboard-overview",children:[e.jsx("div",{className:"user-profile-section",children:e.jsxs("div",{className:"user-basic-info",children:[e.jsx("h4",{children:U.name}),e.jsx("p",{children:U.email}),e.jsx("span",{className:`status-badge ${U.status.toLowerCase()}`,children:U.status})]})}),U.userType==="customer"?e.jsxs("div",{className:"customer-dashboard",children:[e.jsxs("div",{className:"dashboard-stats-grid",children:[e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"📦"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Total Orders"}),e.jsx("span",{children:U.totalOrders})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"₹"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Total Spent"}),e.jsxs("span",{children:["₹",U.totalSpent]})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"🎯"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Loyalty Points"}),e.jsx("span",{children:U.loyaltyPoints})]})]})]}),e.jsxs("div",{className:"customer-orders",children:[e.jsx("h5",{children:"Recent Orders"}),e.jsx("div",{className:"orders-list",children:R.filter(S=>S.customerId===U.id).slice(0,5).map(S=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"order-info",children:[e.jsx("span",{className:"order-id",children:S.id}),e.jsx("span",{className:"order-date",children:S.orderDate})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("span",{className:"order-amount",children:["₹",S.totalAmount]}),e.jsx("span",{className:`status-badge ${S.status.toLowerCase().replace(" ","-")}`,children:S.status})]})]},S.id))})]}),e.jsxs("div",{className:"customer-preferences",children:[e.jsx("h5",{children:"Preferences"}),e.jsx("div",{className:"preferences-list",children:U.preferences.map((S,J)=>e.jsx("span",{className:"preference-tag",children:S},J))})]})]}):e.jsxs("div",{className:"laundryman-dashboard",children:[e.jsxs("div",{className:"laundryman-info-card",children:[e.jsx("h4",{children:"Laundryman Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Name:"})," ",U.name]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Email:"})," ",U.email]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Contact:"})," ",U.contact]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Joined On:"})," ",new Date(U.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"dashboard-stats-grid",children:[e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"✅"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"total Order"}),e.jsx("span",{children:U.totalOrders})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"₹"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Earnings"}),e.jsxs("span",{children:["₹",U.earnings]})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"📋"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Complete order"}),e.jsx("span",{children:U.completedOrders})]})]})]}),e.jsxs("div",{className:"laundryman-orders",children:[e.jsx("h5",{children:"Assigned Orders"}),e.jsx("div",{className:"orders-list",children:R.filter(S=>S.laundrymanId===U.id).slice(0,5).map(S=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"order-info",children:[e.jsx("span",{className:"order-id",children:S.id}),e.jsx("span",{className:"customer-name",children:S.customerName})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("span",{className:"order-amount",children:["₹",S.totalAmount]}),e.jsx("span",{className:`status-badge ${S.status.toLowerCase().replace(" ","-")}`,children:S.status})]})]},S.id))})]}),e.jsxs("div",{className:"laundryman-schedule",children:[e.jsx("h5",{children:"Working Hours"}),e.jsx("div",{className:"schedule-list",children:Array.isArray(U.workingHours)&&U.workingHours.length>0?U.workingHours.map((S,J)=>e.jsx("span",{className:"hour-tag",children:S},J)):e.jsx("span",{className:"text-sm text-gray-500",children:"No working hours available"})})]}),e.jsxs("div",{className:"laundryman-specialties",children:[e.jsx("h5",{children:"Specialties"}),e.jsx("div",{className:"specialties-list",children:U.specialties.map((S,J)=>e.jsx("span",{className:"specialty-tag",children:S},J))})]})]})]})})]})}),G&&e.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:e.jsxs("div",{className:"timeslot-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Add New Time Slot"}),e.jsx("button",{className:"close-btn",onClick:()=>ee(!1),children:"×"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:S=>{S.preventDefault();const J=new FormData(S.target),Ne={label:J.get("label"),range:J.get("range")};Qe(Ne),ee(!1)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}"})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Add Slot"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>ee(!1),children:"Cancel"})]})]})})]})}),ce&&re&&e.jsx("div",{className:"modal-overlay",onClick:()=>le(!1),children:e.jsxs("div",{className:"timeslot-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Edit Time Slot"}),e.jsx("button",{className:"close-btn",onClick:()=>le(!1),children:"×"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:ns,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("input",{name:"slot",type:"text",required:!0,defaultValue:re.slot,placeholder:"e.g., 09:00-12:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Orders"}),e.jsx("input",{name:"maxOrders",type:"number",required:!0,min:"1",max:"50",defaultValue:re.maxOrders,placeholder:"Enter maximum orders for this slot"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Orders"}),e.jsx("input",{type:"number",value:re.currentOrders,disabled:!0,className:"disabled-input"}),e.jsx("small",{className:"form-help",children:"Current orders cannot be modified directly"})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>le(!1),children:"Cancel"})]})]})})]})}),v&&u&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"user-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[u.userType==="customer"?"Customer":"Laundryman"," Details"]}),e.jsx("button",{className:"close-btn",onClick:()=>h(!1),children:"×"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"user-details",children:[e.jsx("img",{src:u.image||"/placeholder.svg",alt:u.name,className:"user-detail-image"}),e.jsxs("div",{className:"user-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Name"}),e.jsx("span",{children:u.name})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Email"}),e.jsx("span",{children:u.email})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Phone"}),e.jsx("span",{children:u.phone})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Address"}),e.jsx("span",{children:u.address})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Join Date"}),e.jsx("span",{children:u.joinDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`status-badge ${u.status.toLowerCase()}`,children:u.status})]}),u.userType==="customer"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Orders"}),e.jsx("span",{children:u.totalOrders})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Spent"}),e.jsxs("span",{children:["₹",u.totalSpent]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Preferences"}),e.jsx("div",{className:"preferences-list",children:u.preferences.map((S,J)=>e.jsx("span",{className:"preference-tag",children:S},J))})]})]}),u.userType==="laundryman"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Rating"}),e.jsxs("span",{children:[" ",u.rating]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Completed Orders"}),e.jsx("span",{children:u.completedOrders})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Current Orders"}),e.jsxs("span",{children:[u.currentOrders,"/",u.maxOrders]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Earnings"}),e.jsxs("span",{children:["₹",u.earnings]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Availability"}),e.jsx("span",{className:`availability-badge ${u.availability.toLowerCase()}`,children:u.availability})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Working Hours"}),e.jsx("div",{className:"hours-list",children:u.workingHours.map((S,J)=>e.jsx("span",{className:"hour-tag",children:S},J))})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Specialties"}),e.jsx("div",{className:"specialties-list",children:u.specialties.map((S,J)=>e.jsx("span",{className:"specialty-tag",children:S},J))})]})]})]})]})})]})}),p&&g&&e.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"order-modal",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Order Details - ",g.id]}),e.jsx("button",{className:"close-btn",onClick:()=>b(!1),children:"×"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"order-details",children:[e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Customer"}),e.jsx("span",{children:g.customerName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Laundryman"}),e.jsx("span",{children:g.laundrymanName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Date"}),e.jsx("span",{children:g.orderDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:g.pickupDate||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("span",{children:g.timeSlotLabel?`${g.timeSlotLabel} (${g.timeSlot})`:g.timeSlot||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Priority"}),e.jsx("span",{className:`priority-badge ${g.priority.toLowerCase()}`,children:g.priority})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Amount"}),e.jsxs("span",{children:["₹",g.totalAmount]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Method"}),e.jsx("span",{children:g.paymentMethod})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Status"}),e.jsx("span",{className:`status-badge ${g.paymentStatus.toLowerCase()}`,children:g.paymentStatus})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Status"}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase().replace(" ","-")}`,children:g.status})]})]}),e.jsxs("div",{className:"order-items",children:[e.jsx("h4",{children:"Items"}),e.jsx("ul",{children:g.items.map((S,J)=>e.jsx("li",{children:S},J))})]})]})})]})}),d&&e.jsx("div",{className:"logout-popup-overlay",children:e.jsxs("div",{className:"logout-popup-content",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"logout-popup-buttons",children:[e.jsx("button",{className:"confirm-btn",onClick:Qn,children:"Yes, Logout"}),e.jsx("button",{className:"cancel-btn",onClick:Ns,children:"Cancel"})]})]})})]})},_f=s=>{const t=[],n=new Date;for(let a=0;a<s;a++){const r=new Date(n);r.setDate(r.getDate()+a),t.push(r.toISOString().split("T")[0])}return t},Uf=()=>{const[s,t]=i.useState(!1),[n,a]=i.useState([]),[r,o]=i.useState([]),[l,c]=i.useState([]),d=_f(10),m=h=>{a(p=>[...p,h])},u=h=>{o(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},f=async()=>{if(r.length===0||n.length===0){alert("Please select dates and add at least one slot.");return}try{const h=localStorage.getItem("token");await ne.post("http://localhost:5000/api/slots",{dates:r,slots:n},{headers:{Authorization:`Bearer ${h}`}}),alert("Slot templates saved successfully."),a([]),o([]),v()}catch(h){console.error(h),alert("Failed to save slot templates.")}},v=async()=>{try{const h=localStorage.getItem("token"),p=await ne.get("http://localhost:5000/api/slot-templates",{headers:{Authorization:`Bearer ${h}`}});c(p.data)}catch(h){console.error("Failed to fetch slot templates:",h)}};return i.useEffect(()=>{console.log(4),v()},[]),e.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-white shadow-xl rounded-2xl mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Slot Template Manager"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Select Dates"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:d.map(h=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.includes(h),onChange:()=>u(h),className:"accent-blue-500"}),e.jsx("span",{className:"text-sm",children:h})]},h))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Defined Slots"}),n.length>0?e.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-4",children:n.map((h,p)=>e.jsxs("li",{children:[e.jsx("strong",{children:h.label})," - ",h.range]},p))}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No slots added yet."}),e.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"+ Add Time Slot"})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{onClick:f,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Save Slot Templates"})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>t(!1),children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-lg",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Add New Time Slot"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800",children:"×"})]}),e.jsxs("form",{onSubmit:h=>{h.preventDefault();const p=new FormData(h.target),b={label:p.get("label"),range:p.get("range")};m(b),t(!1)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Slot"})]})]})]})}),l.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-800",children:"All Slot Templates"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.map((h,p)=>{var b;return e.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-gray-50",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-2",children:["📅 Date: ",h.date]}),(b=h.slots)==null?void 0:b.map((g,k)=>e.jsxs("p",{className:"text-sm text-gray-700",children:["• ",g.label,": ",g.range]},k))]},p)})})]})]})},zf=[{value:"Shirt",label:"Shirt",icon:"👔"},{value:"Pant",label:"Pant",icon:"👖"},{value:"Bedsheet",label:"Bedsheet",icon:"🛏️"},{value:"Curtain",label:"Curtain",icon:"🪟"}],Hf=[{value:"wash",label:"wash",icon:"🧼"},{value:"dry-clean",label:"dry-clean",icon:"🧽"},{value:"iron",label:"iron",icon:"🔥"}];function qf({onSubmit:s,onBack:t}){const[n,a]=i.useState({title:"",name:"",category:"",serviceType:"",price:"",description:""}),[r,o]=i.useState(null),[l,c]=i.useState(null),[d,m]=i.useState(!1),u=h=>{var b;const p=(b=h.target.files)==null?void 0:b[0];p&&(o(p),c(URL.createObjectURL(p)))},f=async h=>{if(h.preventDefault(),!n.title.trim()||!n.category||!n.serviceType||!n.price||!r)return alert("Please fill all required fields and upload a photo.");try{m(!0);const p=localStorage.getItem("token");if(!p)throw new Error("User not logged in. Token missing.");const b=new FormData;Object.entries(n).forEach(([C,P])=>b.append(C,P)),b.append("image",r);const g=await fetch("http://localhost:5000/api/product/create",{method:"POST",headers:{Authorization:`Bearer ${p}`},body:b});if(!g.ok){let C="Upload failed";try{C=(await g.json()).message||C}catch{C=await g.text()||C}throw new Error(C)}alert("Service created successfully!"),a({title:"",name:"",category:"",serviceType:"",price:"",description:""}),o(null),c(null);const k=await g.json();s({_id:k._id,title:n.title,name:n.name,category:n.category,serviceType:n.serviceType,price:parseFloat(n.price),description:n.description,image:k.imageUrl})}catch(p){console.error("Upload error:",p),alert(p.message||"Upload failed")}finally{m(!1)}},v=n.title.trim()&&n.category&&n.serviceType&&n.price&&r;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4 mb-8",children:e.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors duration-200 group",children:[e.jsx(yo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform duration-200"}),"Back to Services"]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-teal-600 px-8 py-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(Ot,{className:"w-6 h-6"}),"Add New Service"]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Fill in the details to add a new washing service"})]}),e.jsxs("form",{onSubmit:f,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(Wc,{className:"w-4 h-4"}),"Service Title *"]}),e.jsx("input",{type:"text",id:"title",value:n.title,onChange:h=>a(p=>({...p,title:h.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"e.g., Premium Shirt Washing Service",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(qc,{className:"w-4 h-4"}),"Service Name *"]}),e.jsx("input",{type:"text",id:"name",value:n.name,onChange:h=>a(p=>({...p,name:h.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-lg",placeholder:"e.g., Express Wash & Fold"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-700",children:"Category *"}),e.jsxs("select",{id:"category",value:n.category,onChange:h=>a(p=>({...p,category:h.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),zf.map(h=>e.jsxs("option",{value:h.value,children:[h.icon," ",h.label]},h.value))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"serviceType",className:"block text-sm font-semibold text-gray-700",children:"Service Type *"}),e.jsxs("select",{id:"serviceType",value:n.serviceType,onChange:h=>a(p=>({...p,serviceType:h.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl",required:!0,children:[e.jsx("option",{value:"",children:"Select Service Type"}),Hf.map(h=>e.jsxs("option",{value:h.value,children:[h.icon," ",h.label]},h.value))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-700",children:"Price (₹) *"}),e.jsx("input",{type:"number",id:"price",value:n.price,onChange:h=>a(p=>({...p,price:h.target.value})),onWheel:h=>h.currentTarget.blur(),onKeyDown:h=>{(h.key==="ArrowUp"||h.key==="ArrowDown")&&h.preventDefault()},className:"w-full px-4 py-3 border border-gray-300 rounded-xl [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Amount",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(os,{className:"w-4 h-4"})," Service Photo *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:u,className:"hidden"}),e.jsx("label",{htmlFor:"photo",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-blue-400 transition-colors duration-200 bg-gray-50 hover:bg-blue-50",children:l?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover rounded-xl"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-200",children:e.jsx(os,{className:"w-8 h-8 text-white"})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(os,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Click to upload a photo"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"PNG, JPG up to 10MB"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700",children:"Service Description *"}),e.jsx("textarea",{id:"description",value:n.description,onChange:h=>a(p=>({...p,description:h.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl",placeholder:"Describe your service in detail..."})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:d||!v,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 text-white py-4 px-6 rounded-xl font-semibold text-lg hover:from-blue-700 hover:to-teal-700 focus:ring-4 focus:ring-blue-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",children:d?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding Service..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Ot,{className:"w-5 h-5"}),"Add Service"]})})})]})]})]})})})}const go=[{value:"Shirt",label:"Shirt",icon:"👔"},{value:"Pant",label:"Pant",icon:"👖"},{value:"Bedsheet",label:"Bedsheet",icon:"🛏️"},{value:"Curtain",label:"Curtain",icon:"🪟"}],fo=[{value:"wash",label:"wash",icon:"🧼"},{value:"dry-clean",label:"dry-clean",icon:"🧽"},{value:"iron",label:"iron",icon:"🔥"}];function Vf({services:s,onEdit:t,onDelete:n,onAddNew:a}){const[r,o]=i.useState(s),[l,c]=i.useState(""),[d,m]=i.useState(null),[u,f]=i.useState({}),[v,h]=i.useState(null),[p,b]=i.useState(null),g=r.filter(x=>(x.title||"").toLowerCase().includes(l.toLowerCase())||(x.name||"").toLowerCase().includes(l.toLowerCase())||(x.description||"").toLowerCase().includes(l.toLowerCase())||(x.category||"").toLowerCase().includes(l.toLowerCase())||(x.serviceType||"").toLowerCase().includes(l.toLowerCase()));i.useEffect(()=>{(async()=>{const M=localStorage.getItem("token"),F=localStorage.getItem("role")==="washerman"?"http://localhost:5000/api/product/my-products":"http://localhost:5000/api/product/all";try{const _=await fetch(F,{headers:{Authorization:`Bearer ${M}`}}),H=await _.json();_.ok?o(H):console.error("Error:",H.message)}catch(_){console.error("Fetch error:",_)}})()},[]);const k=x=>{m(x._id),f({...x}),b(null)},C=async()=>{try{if(!d)throw new Error("No service selected for editing");const M=["title","name","category","serviceType","price","description"].filter(H=>!u[H]);if(M.length>0)throw new Error(`Missing required fields: ${M.join(", ")}`);const I=localStorage.getItem("token");if(!I)throw new Error("Authentication token not found");const F=await fetch(`/api/product/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(u)});if(!F.ok){const H=await F.json();throw new Error(H.message||"Failed to update service")}const _=await F.json();t(d,_),m(null),f({}),b(null)}catch(x){console.error("Update error:",x),b(x instanceof Error?x.message:"Failed to update service")}},P=()=>{m(null),f({}),b(null)},w=async x=>{try{const M=prompt("Please confirm your password to delete the service");if(!M)return;const I=localStorage.getItem("token");if(!I)throw new Error("Authentication token not found");const F=await fetch(`/api/product/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({password:M})});if(!F.ok){const _=await F.json();throw new Error(_.message||"Failed to delete service")}h(null),n(x),b(null)}catch(M){console.error("Delete error:",M),b(M instanceof Error?M.message:"Failed to delete service"),h(null)}},y=x=>{var I;const M=(I=x.target.files)==null?void 0:I[0];if(M){const F=new FileReader;F.onloadend=()=>{f(_=>({..._,image:F.result}))},F.readAsDataURL(M)}},j=x=>{const M=go.find(I=>I.value===x);return M?`${M.icon} ${M.label}`:x},N=x=>{const M=fo.find(I=>I.value===x);return M?`${M.icon} ${M.label}`:x},L=x=>x?x.startsWith("http")?x:`http://localhost:5000/${x}`:"";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Washerman Services"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your washing services"})]}),e.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-teal-700 focus:ring-4 focus:ring-blue-200 transition-all duration-200 flex items-center gap-2 transform hover:scale-105",children:[e.jsx(Ot,{className:"w-5 h-5"}),"Add New Service"]})]}),p&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:l,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})}),g.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(os,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.length===0?"No Services Yet":"No Services Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.length===0?"Start by adding your first washing service":"Try adjusting your search terms"}),r.length===0&&e.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-teal-700 focus:ring-4 focus:ring-blue-200 transition-all duration-200 flex items-center gap-2 mx-auto transform hover:scale-105",children:[e.jsx(Ot,{className:"w-5 h-5"}),"Add Your First Service"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(x=>e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:d===x._id?e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:`photo-${x._id}`,accept:"image/*",onChange:y,className:"hidden"}),e.jsx("label",{htmlFor:`image-${x._id}`,className:"block cursor-pointer",children:u.image?e.jsxs("div",{className:"relative h-48 w-full",children:[e.jsx("img",{src:L(u.image),alt:"Service",className:"w-full h-48 object-cover rounded-xl"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-200",children:e.jsx(os,{className:"w-8 h-8 text-white"})})]}):e.jsx("div",{className:"h-48 bg-gray-100 rounded-xl flex items-center justify-center border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors duration-200",children:e.jsx(os,{className:"w-8 h-8 text-gray-400"})})})]}),e.jsx("input",{type:"text",value:u.title||"",onChange:M=>f(I=>({...I,title:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-semibold",placeholder:"Service title"}),e.jsx("input",{type:"text",value:u.name||"",onChange:M=>f(I=>({...I,name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Service name"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("select",{value:u.category||"",onChange:M=>f(I=>({...I,category:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Category"}),go.map(M=>e.jsxs("option",{value:M.value,children:[M.icon," ",M.label]},M.value))]}),e.jsxs("select",{value:u.serviceType||"",onChange:M=>f(I=>({...I,serviceType:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Service Type"}),fo.map(M=>e.jsxs("option",{value:M.value,children:[M.icon," ",M.label]},M.value))]})]}),e.jsx("input",{type:"number",value:u.price||"",onChange:M=>f(I=>({...I,price:parseFloat(M.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Price (₹)",min:"0",step:"0.01"}),e.jsx("textarea",{value:u.description||"",onChange:M=>f(I=>({...I,description:M.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Service description"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:C,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx($n,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:P,className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),"Cancel"]})]})]}):e.jsxs(e.Fragment,{children:[x.image&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:L(x.image),alt:x.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:x.title}),e.jsxs("span",{className:"bg-green-100 text-green-800 text-sm font-semibold px-2 py-1 rounded-full",children:["₹",x.price]})]}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:x.name}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:j(x.category)}),e.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2 py-1 rounded-full",children:N(x.serviceType)})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:x.description}),e.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:[e.jsxs("p",{children:["Created: ",new Date(x.createdAt).toLocaleDateString()]}),x.updatedAt!==x.createdAt&&e.jsxs("p",{children:["Updated: ",new Date(x.updatedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k(x),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx(zc,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>h(x._id),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx(Cr,{className:"w-4 h-4"}),"Delete"]})]})]})]})},x._id))}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 transform scale-100 transition-transform duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cr,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Service"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this service? This action cannot be undone."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-gray-600 text-white py-3 px-4 rounded-xl hover:bg-gray-700 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:()=>w(v),className:"flex-1 bg-red-600 text-white py-3 px-4 rounded-xl hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})})]})})}const vo=s=>{const t=[],n=new Date,a=n.getFullYear(),r=n.getMonth(),o=n.getDate();for(let l=0;l<s;l++){const c=new Date(a,r,o+l),d=c.getFullYear()+"-"+String(c.getMonth()+1).padStart(2,"0")+"-"+String(c.getDate()).padStart(2,"0");t.push(d)}return t},un=()=>{const s=new Date;return s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")},Wf=()=>{const[s,t]=i.useState(!1),[n,a]=i.useState([]),[r,o]=i.useState([]),[l,c]=i.useState([]),[d,m]=i.useState(!0),[u,f]=i.useState(!1),[v,h]=i.useState(!1),[p,b]=i.useState(vo(10)),g=N=>{a(L=>[...L,N])},k=N=>{o(L=>L.includes(N)?L.filter(x=>x!==N):[...L,N])},C=async()=>{if(r.length===0||n.length===0){alert("Please select dates and add at least one slot.");return}f(!0);try{const N=localStorage.getItem("token");await ne.post("http://localhost:5000/api/slots",{dates:r,slots:n},{headers:{Authorization:`Bearer ${N}`}}),h(!0),setTimeout(()=>h(!1),3e3),a([]),o([]),P()}catch(N){console.error(N),alert("Failed to save slot templates.")}finally{f(!1)}},P=async()=>{try{m(!0);const N=localStorage.getItem("token"),L=await ne.get("http://localhost:5000/api/slot-templates",{headers:{Authorization:`Bearer ${N}`}});c(L.data)}catch(N){console.error("Failed to fetch slot templates:",N)}finally{m(!1)}},w=N=>{a(L=>L.filter((x,M)=>M!==N))},y=()=>{const N=vo(10),L=un();b(N),o(x=>x.filter(M=>M>=L)),console.log("Dates updated - Today:",L,"New dates:",N)},j=N=>{if(!N||typeof N!="string"||!N.includes("-"))return"Invalid Date";const L=un(),x=new Date;x.setDate(x.getDate()+1);const M=x.getFullYear()+"-"+String(x.getMonth()+1).padStart(2,"0")+"-"+String(x.getDate()).padStart(2,"0");if(N===L)return"Today";if(N===M)return"Tomorrow";const[I,F,_]=N.split("-").map(Number);return new Date(I,F-1,_).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})};return i.useEffect(()=>{P();const N=setInterval(()=>{const x=un(),M=p[0];x!==M&&(console.log("Date changed detected:",M,"->",x),y())},6e4),L=()=>{if(!document.hidden){const x=un(),M=p[0];x!==M&&(console.log("Visibility change - Date update needed:",M,"->",x),y())}};return document.addEventListener("visibilitychange",L),()=>{clearInterval(N),document.removeEventListener("visibilitychange",L)}},[p]),d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(us,{className:"w-12 h-12 text-purple-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading slot templates..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-xl",children:e.jsx(_c,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Slot Template Manager"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage time slot templates for your services"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Hc,{className:"w-4 h-4"}),e.jsx("span",{children:"Admin Panel"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Bc,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Select Dates"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Real-time dates (auto-updates daily, no past dates)"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:p.map(N=>{const L=r.includes(N);return e.jsx("label",{className:"group cursor-pointer",children:e.jsxs("div",{className:`p-3 rounded-xl border-2 transition-all duration-200 ${L?"border-purple-200 bg-purple-50 shadow-sm":"border-gray-200 bg-gray-50 hover:border-gray-300 group-hover:bg-gray-100"}`,children:[e.jsx("input",{type:"checkbox",checked:L,onChange:()=>k(N),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm font-medium ${L?"text-purple-900":"text-gray-900"}`,children:j(N)}),e.jsx("div",{className:`text-xs mt-1 ${L?"text-purple-600":"text-gray-500"}`,children:N})]}),L&&e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx(gn,{className:"w-4 h-4 text-purple-600"})})]})},N)})}),r.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-700",children:[e.jsx("span",{className:"font-medium",children:r.length})," date",r.length!==1?"s":""," selected"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sr,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Time Slots"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Define your service time slots"})]})]}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Add Slot"})]})]})}),e.jsx("div",{className:"p-6",children:n.length>0?e.jsx("div",{className:"space-y-3",children:n.map((N,L)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200 group hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Fs,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:N.label}),e.jsx("div",{className:"text-sm text-gray-600",children:N.range})]})]}),e.jsx("button",{onClick:()=>w(L),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(hs,{className:"w-4 h-4"})})]},L))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No time slots added yet"}),e.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Your First Slot"})]})]})})]}),r.length>0&&n.length>0&&e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:e.jsx("button",{onClick:C,disabled:u,className:`w-full flex items-center justify-center space-x-3 px-6 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ${v?"bg-green-600 text-white shadow-lg":u?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Saving Templates..."})]}):v?e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-6 h-6"}),e.jsx("span",{children:"Templates Saved Successfully!"})]}):e.jsxs(e.Fragment,{children:[e.jsx($n,{className:"w-6 h-6"}),e.jsx("span",{children:"Save Slot Templates"})]})})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden sticky top-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vc,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Existing Templates"}),e.jsxs("p",{className:"text-indigo-100 text-sm",children:[l.length," template",l.length!==1?"s":""]})]})]}),e.jsx("button",{onClick:P,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Mo,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:l.length>0?e.jsx("div",{className:"space-y-4",children:l.filter(N=>(N==null?void 0:N.date)&&typeof N.date=="string").map((N,L)=>{var x;return e.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(wr,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{className:"font-medium text-indigo-700",children:j(N.date)})]}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:N.date}),e.jsx("div",{className:"space-y-2",children:(x=N.slots)==null?void 0:x.map((M,I)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:M.label}),e.jsxs("span",{className:"text-gray-500",children:["(",M.range,")"]})]},I))})]},L)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(wr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No templates created yet"})]})})]})})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ot,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Time Slot"})]}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(hs,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:N=>{N.preventDefault();const L=new FormData(N.target),x={label:L.get("label"),range:L.get("range")};g(x),t(!1)},className:"p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Slot Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning Shift",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: HH:MM-HH:MM (24-hour format)"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-8",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium transition-colors",children:"Add Slot"})]})]})]})})]})},Zf=s=>{const t=[],n=new Date;for(let a=0;a<s;a++){const r=new Date(n);r.setDate(r.getDate()+a),t.push(r.toISOString().split("T")[0])}return t},Gf=()=>{const[s,t]=i.useState(!1),[n,a]=i.useState([]),[r,o]=i.useState([]),[l,c]=i.useState([]),d=Zf(10),m=h=>{a(p=>[...p,h])},u=h=>{o(p=>p.includes(h)?p.filter(b=>b!==h):[...p,h])},f=async()=>{if(r.length===0||n.length===0){alert("Please select dates and add at least one slot.");return}try{const h=localStorage.getItem("token");await ne.post("http://localhost:5000/api/slots",{dates:r,slots:n},{headers:{Authorization:`Bearer ${h}`}}),alert("Slot templates saved successfully."),a([]),o([]),v()}catch(h){console.error(h),alert("Failed to save slot templates.")}},v=async()=>{try{const h=localStorage.getItem("token"),p=await ne.get("http://localhost:5000/api/slot-templates",{headers:{Authorization:`Bearer ${h}`}});c(p.data)}catch(h){console.error("Failed to fetch slot templates:",h)}};return i.useEffect(()=>{v()},[]),e.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-white shadow-xl rounded-2xl mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Slot Template Manager"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Select Dates"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:d.map(h=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.includes(h),onChange:()=>u(h),className:"accent-blue-500"}),e.jsx("span",{className:"text-sm",children:h})]},h))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Defined Slots"}),n.length>0?e.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-4",children:n.map((h,p)=>e.jsxs("li",{children:[e.jsx("strong",{children:h.label})," - ",h.range]},p))}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No slots added yet."}),e.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"+ Add Time Slot"})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{onClick:f,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Save Slot Templates"})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>t(!1),children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-lg",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Add New Time Slot"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800",children:"×"})]}),e.jsxs("form",{onSubmit:h=>{h.preventDefault();const p=new FormData(h.target),b={label:p.get("label"),range:p.get("range")};m(b),t(!1)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Slot"})]})]})]})}),l.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-800",children:"All Slot Templates"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.map((h,p)=>{var b;return e.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-gray-50",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-2",children:["📅 Date: ",h.date]}),(b=h.slots)==null?void 0:b.map((g,k)=>e.jsxs("p",{className:"text-sm text-gray-700",children:["• ",g.label,": ",g.range]},k))]},p)})})]})]})},Jf=()=>{const[s,t]=i.useState([]),[n,a]=i.useState({}),[r,o]=i.useState({}),[l,c]=i.useState(!0),[d,m]=i.useState(null),[u,f]=i.useState({}),[v,h]=i.useState({});i.useEffect(()=>{(async()=>{try{c(!0),m(null);const j=localStorage.getItem("token"),N=await ne.get("http://localhost:5000/api/show/slot-templates",{headers:{Authorization:`Bearer ${j}`}});t(N.data);const L=JSON.parse(localStorage.getItem("washermanEnabledSlots")||"{}");a(L)}catch{m("Failed to load slot templates. Please try again.")}finally{c(!1)}})()},[]);const p=(y,j)=>{const N=new Set(n[y]||[]);N.has(j.range)?N.delete(j.range):N.add(j.range);const L=[...N];a({...n,[y]:L}),localStorage.setItem("washermanEnabledSlots",JSON.stringify({...n,[y]:L})),h(x=>({...x,[y]:!1}))},b=(y,j,N)=>{o(L=>({...L,[y]:{...L[y],[j]:parseInt(N)}}))},g=async y=>{var N;f(L=>({...L,[y]:!0}));const j=localStorage.getItem("token");try{const L={date:y,enabledSlots:(((N=s.find(x=>x.date===y))==null?void 0:N.slots)||[]).filter(x=>{var M;return(M=n[y])==null?void 0:M.includes(x.range)}).map(x=>{var M;return{label:x.label,range:x.range,maxBookings:((M=r[y])==null?void 0:M[x.range])||1}})};await ne.post("http://localhost:5000/api/show/slots/washer",L,{headers:{Authorization:`Bearer ${j}`}}),h(x=>({...x,[y]:!0})),setTimeout(()=>h(x=>({...x,[y]:!1})),3e3)}catch{m("Failed to save slots. Please try again.")}finally{f(L=>({...L,[y]:!1}))}},k=y=>new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=y=>{const j=n[y]||[];return new Set(j).size},P=y=>{var L;const j=((L=s.find(x=>x.date===y))==null?void 0:L.slots)||[];return new Set(j.map(x=>x.range)).size},w=()=>window.location.reload();return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsx(us,{className:"w-12 h-12 text-blue-600 animate-spin"})}):d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ic,{className:"w-12 h-12 text-red-500 mx-auto"}),e.jsx("p",{className:"text-red-600 mt-2",children:d}),e.jsxs("button",{onClick:w,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:[e.jsx(Mo,{className:"inline-block w-4 h-4 mr-1"}),"Try Again"]})]})}):e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:s.map(y=>{const j=y.date,N=P(j),L=C(j),x=u[j],M=v[j];return e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 border",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-100 px-4 py-2 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-800",children:k(j)}),e.jsx("p",{className:"text-sm text-gray-600",children:j})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[L,"/",N," Active Slots"]}),e.jsx("div",{className:"w-full bg-gray-200 h-2 rounded mt-1",children:e.jsx("div",{className:"h-2 bg-green-500 rounded",style:{width:`${L/N*100}%`}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:y.slots.map(I=>{var _,H;const F=(_=n[j])==null?void 0:_.includes(I.range);return e.jsx("div",{className:`p-4 rounded border ${F?"bg-green-50 border-green-300":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:I.label}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-1",children:[e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:I.range})]}),F&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Max Bookings"}),e.jsx("input",{type:"number",min:"1",value:((H=r[j])==null?void 0:H[I.range])||"",onChange:$=>b(j,I.range,$.target.value),className:"mt-1 w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer mt-1",children:[e.jsx("input",{type:"checkbox",checked:F,onChange:()=>p(j,I),className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500 relative"})]})]})},I.range+I.label)})}),e.jsx("button",{onClick:()=>g(j),disabled:x,className:`w-full mt-4 py-2 rounded-lg font-semibold transition ${x?"bg-gray-400 text-white":M?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:x?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(us,{className:"w-5 h-5 animate-spin mr-2"})," Saving..."]}):M?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(gn,{className:"w-5 h-5 mr-2"})," Saved!"]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx($n,{className:"w-5 h-5 mr-2"}),"Save for ",new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})})]},j)})})},Kf=()=>{const{token:s}=Cc(),t=Ut(),[n,a]=i.useState(""),[r,o]=i.useState(""),l=async c=>{if(c.preventDefault(),!n||!r)return Ee.fire("Error","Please fill all fields","error");if(n!==r)return Ee.fire("Error","Passwords do not match","error");try{const d=await fetch(`http://localhost:5000/api/auth/reset-password/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:n})}),m=await d.json();d.ok?(Ee.fire("Success",m.message||"Password reset successful!","success"),t("/signin")):Ee.fire("Failed",m.message||"Token invalid or expired","error")}catch{Ee.fire("Error","Something went wrong","error")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:e.jsxs("form",{onSubmit:l,className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Reset Your Password"}),e.jsx("input",{type:"password",placeholder:"New Password",className:"w-full border px-3 py-2 rounded",autoComplete:"new-password",value:n,onChange:c=>a(c.target.value)}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",className:"w-full border px-3 py-2 rounded",autoComplete:"new-password",value:r,onChange:c=>o(c.target.value)}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Reset Password"})]})})},Yf=()=>{const[s,t]=i.useState([]);return i.useEffect(()=>{fetch("http://localhost:5000/api/admin").then(n=>n.json()).then(n=>{n.success&&t(n.messages)}).catch(n=>console.error(n))},[]),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"📨 Contact Form Submissions"}),s.map(n=>e.jsxs("div",{className:"border p-4 rounded mb-4 shadow-md",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",n.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",n.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",n.message]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["📅 ",new Date(n.createdAt).toLocaleString()]})]},n._id))]})},Xf=[{id:"all",name:"All"}];function xo(){const s=Ut(),[t,n]=i.useState("services"),[a,r]=i.useState("all"),[o,l]=i.useState(""),[c,d]=i.useState(new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0]),[m,u]=i.useState(null),[f,v]=i.useState([]),[h,p]=i.useState([]),[b,g]=i.useState(!1),[k,C]=i.useState(null),[P,w]=i.useState(!1),[y,j]=i.useState(""),[N,L]=i.useState(!1),{cartItems:x,addToCart:M,removeFromCart:I,updateQuantity:F,getTotalItems:_,clearCart:H}=Pu();i.useEffect(()=>{m?localStorage.setItem("selectedTimeSlot",JSON.stringify(m)):localStorage.removeItem("selectedTimeSlot")},[m]),i.useEffect(()=>{localStorage.setItem("selectedDate",c)},[c]),i.useEffect(()=>{const U=Ou(c);v(U),u(null)},[c]),i.useEffect(()=>{(async()=>{if(localStorage.getItem("token"))try{const V=localStorage.getItem("customerLocation");if(!V)g(!0);else{const ae=JSON.parse(V);C(ae),L(!0),$(ae.lat,ae.lng)}}catch(V){console.error("Error checking user location:",V),g(!0)}})()},[]);const $=async(U,te)=>{try{const V=localStorage.getItem("token");if(!V)return;const ae=await ne.get("/api/customer/nearby-services",{headers:{Authorization:`Bearer ${V}`},params:{lat:U,lng:te}});console.log("Nearby services response 🧾",ae.data),Array.isArray(ae.data)?p(ae.data):(console.error("❌ Invalid services response format:",ae.data),p([]))}catch(V){console.error("Failed to fetch nearby services:",V),p([])}},q=()=>{if(w(!0),j(""),!navigator.geolocation){j("Geolocation is not supported by your browser."),w(!1);return}navigator.geolocation.getCurrentPosition(async U=>{const{latitude:te,longitude:V}=U.coords;try{const W=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${te}+${V}&key=fbddd9ac0aff4feb840edc8d63a8f264`)).json(),Q=W.results.length>0?W.results[0].formatted:`${te.toFixed(4)}, ${V.toFixed(4)}`,ke={lat:te,lng:V,address:Q};C(ke),L(!0),localStorage.setItem("customerLocation",JSON.stringify(ke));const Fe=localStorage.getItem("token");if(Fe)try{await ne.post("http://localhost:5000/api/user/location",{lat:te,lng:V},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`}})}catch(at){console.error("Failed to save location to backend:",at)}$(te,V),g(!1)}catch(ae){console.error("Geocoding error:",ae),j("Failed to get address from coordinates")}finally{w(!1)}},U=>{console.error("Location error:",U.message),j("Could not detect location. Please allow location access."),w(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},Z=async U=>{try{const V=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(U)}&key=fbddd9ac0aff4feb840edc8d63a8f264`)).json();if(V.results.length>0){const ae=V.results[0],W={lat:ae.geometry.lat,lng:ae.geometry.lng,address:ae.formatted};C(W),L(!0),localStorage.setItem("customerLocation",JSON.stringify(W));const Q=localStorage.getItem("token");if(Q)try{await ne.post("http://localhost:5000/api/user/location",{lat:W.lat,lng:W.lng},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}})}catch(ke){console.error("Failed to save location to backend:",ke)}$(W.lat,W.lng),g(!1)}else j("Address not found. Please try a different address.")}catch(te){console.error("Manual location error:",te),j("Failed to find location. Please try again.")}},G=h.filter(U=>{var ae;const te=a==="all"||(U.category||"").toLowerCase()===a.toLowerCase(),V=(U.name||"").toLowerCase().includes((o||"").toLowerCase())||(((ae=U.washerman)==null?void 0:ae.name)||"").toLowerCase().includes((o||"").toLowerCase());return te&&V}),ee=(U,te,V)=>{M(U,te,V)},ce=()=>{x.length>0&&n("booking")},le=()=>{n("services")},re=()=>{n("services"),H(),u(null),s("/payment",{state:{cartItems:x,selectedDate:c,selectedTimeSlot:m}})},z=U=>s(U),me=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Ds,{searchQuery:o,onSearchChange:l,cartItemCount:_(),onCartClick:ce,onContactClick:()=>z("/contact"),onAboutClick:()=>z("/about"),onOrdersClick:()=>z("/orders"),onHomeClick:()=>z("/mainapp"),onSignInClick:()=>z("/signin"),onSignUpClick:()=>z("/signup"),onProfileClick:()=>z("/CustomerDashboard")}),k&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"📍"}),e.jsxs("span",{className:"text-sm text-blue-800",children:["Delivering to: ",k.address]})]}),e.jsx("button",{onClick:()=>g(!0),className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Change Location"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsx(Eu,{categories:Xf,selectedCategory:a,onCategoryChange:r}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-8",children:G.map(U=>e.jsx(Jc,{service:U,onAddToCart:ee},U._id))}),G.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($s,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),x.length>0&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-blue-600 text-white p-3 md:p-4 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("span",{className:"font-semibold text-sm md:text-base",children:[_()," items selected"]}),e.jsx("button",{onClick:ce,className:"bg-white text-blue-600 px-4 md:px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm md:text-base",children:"Proceed to Order"})]})})]})]}),T=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Ds,{searchQuery:o,onSearchChange:l,cartItemCount:_(),onCartClick:()=>{},onContactClick:()=>z("/contact"),onAboutClick:()=>z("/about"),onOrdersClick:()=>z("/orders"),onHomeClick:()=>z("/mainapp"),onSignInClick:()=>z("/signin"),onSignUpClick:()=>z("/signup"),onProfileClick:()=>z("/CustomerDashboard")}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsxs("button",{onClick:le,className:"mb-6 flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium",children:"Back to Products"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ku,{timeSlots:f,selectedDate:c,selectedTimeSlot:m,onDateChange:d,onTimeSlotSelect:u})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Lu,{cartItems:x,selectedDate:c,selectedTimeSlot:m,onCompleteOrder:re,onRemoveFromCart:I,onUpdateQuantity:F})})]})]})]});return e.jsxs(e.Fragment,{children:[t==="services"?me():T(),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📍"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Choose Your Location"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"We need your location to show nearby laundry services"})]}),y&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:y})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:q,disabled:P,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Detecting Location..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"📍"}),e.jsx("span",{children:"Use Current Location"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Enter your address manually",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:U=>{U.key==="Enter"&&Z(U.target.value)}}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Press Enter to search for this address"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Your location helps us show you the most relevant laundry services in your area"})})]})})]})}function Qf(){const[s,t]=i.useState([]),[n,a]=i.useState("list");i.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("token"),u=await(await fetch("/api/product/all",{headers:{Authorization:`Bearer ${d}`}})).json();t(u)}catch(d){console.error("Failed to fetch services:",d)}})()},[]);const r=async c=>{try{const d=localStorage.getItem("token"),u=await(await fetch("/api/product",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).json();t(f=>[u,...f]),a("list")}catch(d){console.error("Add service failed:",d)}},o=(c,d)=>{t(m=>m.map(u=>u._id===c?{...u,...d,updatedAt:new Date().toISOString()}:u))},l=c=>{t(d=>d.filter(m=>m._id!==c))};return e.jsx("div",{className:"App",children:n==="form"?e.jsx(qf,{onSubmit:r,onBack:()=>a("list")}):e.jsx(Vf,{services:s,onEdit:o,onDelete:l,onAddNew:()=>a("form")})})}function ev(){return e.jsxs(kc,{children:[e.jsx(Re,{path:"/",element:e.jsx(xo,{})}),e.jsx(Re,{path:"/mainapp",element:e.jsx(xo,{})}),e.jsx(Re,{path:"/contact",element:e.jsx(Tu,{})}),e.jsx(Re,{path:"/about",element:e.jsx(Uu,{})}),e.jsx(Re,{path:"/orders",element:e.jsx(Zu,{})}),e.jsx(Re,{path:"/signin",element:e.jsx(Fp,{})}),e.jsx(Re,{path:"/signup",element:e.jsx($p,{})}),e.jsx(Re,{path:"/LaundrymanDashboard",element:e.jsx(Bf,{})}),e.jsx(Re,{path:"/CustomerDashboard",element:e.jsx(Ff,{})}),e.jsx(Re,{path:"/adminservices",element:e.jsx(Qf,{})}),e.jsx(Re,{path:"/adminDashboard",element:e.jsx($f,{})}),e.jsx(Re,{path:"/payment",element:e.jsx(Rp,{})}),e.jsx(Re,{path:"/SlotTemplateManager",element:e.jsx(Gf,{})}),e.jsx(Re,{path:"/WashermanSlotToggle",element:e.jsx(Jf,{})}),e.jsx(Re,{path:"/SlotTemplateManagers",element:e.jsx(Wf,{})}),e.jsx(Re,{path:"/location-test",element:e.jsx(Df,{})}),e.jsx(Re,{path:"/location-debug",element:e.jsx(Tf,{})}),e.jsx(Re,{path:"/nearby-washermen",element:e.jsx(Af,{})}),e.jsx(Re,{path:"/reset-password/:token",element:e.jsx(Kf,{})}),e.jsx(Re,{path:"/AdminMessages",element:e.jsx(Yf,{})})]})}function tv(s={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:a,onRegistered:r,onRegisteredSW:o,onRegisterError:l}=s;let c,d;const m=async(f=!0)=>{await d};async function u(){if("serviceWorker"in navigator){if(c=await zs(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{l==null||l(f)}),!c)return;c.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),c.addEventListener("installed",f=>{f.isUpdate||a==null||a()}),c.register({immediate:t}).then(f=>{o?o("/sw.js",f):r==null||r(f)}).catch(f=>{l==null||l(f)})}}return d=u(),m}tv({immediate:!0});Ac.createRoot(document.getElementById("root")).render(e.jsx(bo.StrictMode,{children:e.jsx(Lc,{children:e.jsx(ev,{})})}));export{Fs as C,qc as S,Sr as T,$s as W,Zc as a,wr as b,ue as c,e as j};
